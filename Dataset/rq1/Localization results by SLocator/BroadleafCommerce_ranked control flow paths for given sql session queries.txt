======================================= 1 given SQL query ===========================================
Given SQL session queries: 
select customerim0_.customer_id as customer1_40_, customerim0_.created_by as created_2_40_, customerim0_.date_created as date_cre3_40_, customerim0_.date_updated as date_upd4_40_, customerim0_.updated_by as updated_5_40_, customerim0_.challenge_answer as challeng6_40_, customerim0_.challenge_question_id as challen20_40_, customerim0_.locale_code as locale_21_40_, customerim0_.deactivated as deactiva7_40_, customerim0_.email_address as email_ad8_40_, customerim0_.external_id as external9_40_, customerim0_.first_name as first_n10_40_, customerim0_.is_tax_exempt as is_tax_11_40_, customerim0_.last_name as last_na12_40_, customerim0_.password as passwor13_40_, customerim0_.password_change_required as passwor14_40_, customerim0_.is_preview as is_prev15_40_, customerim0_.receive_email as receive16_40_, customerim0_.is_registered as is_regi17_40_, customerim0_.tax_exemption_code as tax_exe18_40_, customerim0_.user_name as user_na19_40_ from blc_customer customerim0_ where customerim0_.user_name=?
select systemprop0_.blc_system_property_id as blc_syst1_174_, systemprop0_.friendly_group as friendly2_174_, systemprop0_.friendly_name as friendly3_174_, systemprop0_.friendly_tab as friendly4_174_, systemprop0_.property_name as property5_174_, systemprop0_.override_generated_prop_name as override6_174_, systemprop0_.property_type as property7_174_, systemprop0_.property_value as property8_174_ from blc_system_property systemprop0_ where systemprop0_.property_name=?
select customerim0_.customer_id as customer1_40_2_, customerim0_.created_by as created_2_40_2_, customerim0_.date_created as date_cre3_40_2_, customerim0_.date_updated as date_upd4_40_2_, customerim0_.updated_by as updated_5_40_2_, customerim0_.challenge_answer as challeng6_40_2_, customerim0_.challenge_question_id as challen20_40_2_, customerim0_.locale_code as locale_21_40_2_, customerim0_.deactivated as deactiva7_40_2_, customerim0_.email_address as email_ad8_40_2_, customerim0_.external_id as external9_40_2_, customerim0_.first_name as first_n10_40_2_, customerim0_.is_tax_exempt as is_tax_11_40_2_, customerim0_.last_name as last_na12_40_2_, customerim0_.password as passwor13_40_2_, customerim0_.password_change_required as passwor14_40_2_, customerim0_.is_preview as is_prev15_40_2_, customerim0_.receive_email as receive16_40_2_, customerim0_.is_registered as is_regi17_40_2_, customerim0_.tax_exemption_code as tax_exe18_40_2_, customerim0_.user_name as user_na19_40_2_, customerad1_.customer_id as customer5_41_4_, customerad1_.customer_address_id as customer1_41_4_, customerad1_.customer_address_id as customer1_41_0_, customerad1_.address_id as address_4_41_0_, customerad1_.address_name as address_2_41_0_, customerad1_.archived as archived3_41_0_, customerad1_.customer_id as customer5_41_0_, addressimp2_.address_id as address_1_1_1_, addressimp2_.address_line1 as address_2_1_1_, addressimp2_.address_line2 as address_3_1_1_, addressimp2_.address_line3 as address_4_1_1_, addressimp2_.city as city5_1_1_, addressimp2_.company_name as company_6_1_1_, addressimp2_.country as country27_1_1_, addressimp2_.county as county7_1_1_, addressimp2_.email_address as email_ad8_1_1_, addressimp2_.fax as fax9_1_1_, addressimp2_.first_name as first_n10_1_1_, addressimp2_.full_name as full_na11_1_1_, addressimp2_.is_active as is_acti12_1_1_, addressimp2_.is_business as is_busi13_1_1_, addressimp2_.is_default as is_defa14_1_1_, addressimp2_.is_mailing as is_mail15_1_1_, addressimp2_.is_street as is_stre16_1_1_, addressimp2_.iso_country_alpha2 as iso_cou28_1_1_, addressimp2_.iso_country_sub as iso_cou17_1_1_, addressimp2_.last_name as last_na18_1_1_, addressimp2_.phone_fax_id as phone_f29_1_1_, addressimp2_.phone_primary_id as phone_p30_1_1_, addressimp2_.phone_secondary_id as phone_s31_1_1_, addressimp2_.postal_code as postal_19_1_1_, addressimp2_.primary_phone as primary20_1_1_, addressimp2_.secondary_phone as seconda21_1_1_, addressimp2_.standardized as standar22_1_1_, addressimp2_.state_prov_region as state_p32_1_1_, addressimp2_.sub_state_prov_reg as sub_sta23_1_1_, addressimp2_.tokenized_address as tokeniz24_1_1_, addressimp2_.verification_level as verific25_1_1_, addressimp2_.zip_four as zip_fou26_1_1_ from blc_customer customerim0_ left outer join blc_customer_address customerad1_ on customerim0_.customer_id=customerad1_.customer_id and ( customerad1_.archived != 'y')  left outer join blc_address addressimp2_ on customerad1_.address_id=addressimp2_.address_id where customerim0_.customer_id=?
select roleimpl0_.role_id as role_id1_137_, roleimpl0_.role_name as role_nam2_137_ from blc_role roleimpl0_ where roleimpl0_.role_name=?
select tbl.id_val from sequence_generator tbl where tbl.id_name=? for update
update sequence_generator set id_val=?  where id_val=? and id_name=?
insert into blc_customer (created_by, date_created, date_updated, updated_by, challenge_answer, challenge_question_id, locale_code, deactivated, email_address, external_id, first_name, is_tax_exempt, last_name, password, password_change_required, is_preview, receive_email, is_registered, tax_exemption_code, user_name, customer_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
insert into blc_customer_role (customer_id, role_id, customer_role_id) values (?, ?, ?)
insert into blc_email_tracking (date_sent, email_address, type, email_tracking_id) values (?, ?, ?, ?)
select customerro0_.customer_role_id as customer1_48_, customerro0_.customer_id as customer2_48_, customerro0_.role_id as role_id3_48_ from blc_customer_role customerro0_ where customerro0_.customer_id=?
Pre-processed SQL session queries : 
select from blccustomer where customerim.user_name=? 
select from blcsystemproperty where systemprop.property_name=? 
select from blccustomer left outer join blccustomeraddress and left outer join blcaddress where customerim.customer_id=? 
select from blcrole where roleimpl.role_name=? 
select tbl.idval from sequencegenerator where tbl.id_name=? for update 
update sequence_generator set id_val=?  where id_val=? and id_name=?
insert into blc_customer (created_by, date_created, date_updated, updated_by, challenge_answer, challenge_question_id, locale_code, deactivated, email_address, external_id, first_name, is_tax_exempt, last_name, password, password_change_required, is_preview, receive_email, is_registered, tax_exemption_code, user_name, customer_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
insert into blc_customer_role (customer_id, role_id, customer_role_id) values (?, ?, ?)
insert into blc_email_tracking (date_sent, email_address, type, email_tracking_id) values (?, ?, ?, ?)
select from blccustomerrole where customerro.customer_id=? 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.account.registercontroller.processregister(httpservletrequest, httpservletresponse, model, registercustomerform, bindingresult) 
called| string com.community.controller.account.registercontroller.processregister(httpservletrequest, httpservletresponse, model, registercustomerform, bindingresult) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafregistercontroller.processregister(registercustomerform, bindingresult, httpservletrequest, httpservletresponse, model) 
called| customer org.broadleafcommerce.profile.web.core.form.registercustomerform.getcustomer() 
called| void org.broadleafcommerce.profile.web.controller.validator.registercustomervalidator.validate(object, errors, boolean) 
called| customer org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyusername(string) 
called| customer org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string) 
called| customer org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string, boolean) 
called| list org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyusername(string, boolean) 
sql|select customerim0_.customer_id as customer1_40_, customerim0_.created_by as created_2_40_, customerim0_.date_created as date_cre3_40_, customerim0_.date_updated as date_upd4_40_, customerim0_.updated_by as updated_5_40_, customerim0_.challenge_answer as challeng6_40_, customerim0_.challenge_question_id as challen20_40_, customerim0_.locale_code as locale_21_40_, customerim0_.deactivated as deactiva7_40_, customerim0_.email_address as email_ad8_40_, customerim0_.external_id as external9_40_, customerim0_.first_name as first_n10_40_, customerim0_.is_tax_exempt as is_tax_11_40_, customerim0_.last_name as last_na12_40_, customerim0_.password as passwor13_40_, customerim0_.password_change_required as passwor14_40_, customerim0_.is_preview as is_prev15_40_, customerim0_.receive_email as receive16_40_, customerim0_.is_registered as is_regi17_40_, customerim0_.tax_exemption_code as tax_exe18_40_, customerim0_.user_name as user_na19_40_ from blc_customer customerim0_ where customerim0_.user_name=?
called| string org.broadleafcommerce.profile.web.core.form.registercustomerform.getpassword() 
called| string org.broadleafcommerce.profile.web.core.form.registercustomerform.getpasswordconfirm() 
called| string org.broadleafcommerce.profile.web.controller.validator.registercustomervalidator.getvalidatepasswordexpression() 
sql|select systemprop0_.blc_system_property_id as blc_syst1_174_, systemprop0_.friendly_group as friendly2_174_, systemprop0_.friendly_name as friendly3_174_, systemprop0_.friendly_tab as friendly4_174_, systemprop0_.property_name as property5_174_, systemprop0_.override_generated_prop_name as override6_174_, systemprop0_.property_type as property7_174_, systemprop0_.property_value as property8_174_ from blc_system_property systemprop0_ where systemprop0_.property_name=?
called| customer org.broadleafcommerce.profile.core.service.customerserviceimpl.registercustomer(customer, string, string) 
called| customer org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer) 
called| customer org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer, boolean) 
called| string org.broadleafcommerce.profile.core.service.customerserviceimpl.encodepassword(string) 
called| customer org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer) 
sql|select customerim0_.customer_id as customer1_40_2_, customerim0_.created_by as created_2_40_2_, customerim0_.date_created as date_cre3_40_2_, customerim0_.date_updated as date_upd4_40_2_, customerim0_.updated_by as updated_5_40_2_, customerim0_.challenge_answer as challeng6_40_2_, customerim0_.challenge_question_id as challen20_40_2_, customerim0_.locale_code as locale_21_40_2_, customerim0_.deactivated as deactiva7_40_2_, customerim0_.email_address as email_ad8_40_2_, customerim0_.external_id as external9_40_2_, customerim0_.first_name as first_n10_40_2_, customerim0_.is_tax_exempt as is_tax_11_40_2_, customerim0_.last_name as last_na12_40_2_, customerim0_.password as passwor13_40_2_, customerim0_.password_change_required as passwor14_40_2_, customerim0_.is_preview as is_prev15_40_2_, customerim0_.receive_email as receive16_40_2_, customerim0_.is_registered as is_regi17_40_2_, customerim0_.tax_exemption_code as tax_exe18_40_2_, customerim0_.user_name as user_na19_40_2_, customerad1_.customer_id as customer5_41_4_, customerad1_.customer_address_id as customer1_41_4_, customerad1_.customer_address_id as customer1_41_0_, customerad1_.address_id as address_4_41_0_, customerad1_.address_name as address_2_41_0_, customerad1_.archived as archived3_41_0_, customerad1_.customer_id as customer5_41_0_, addressimp2_.address_id as address_1_1_1_, addressimp2_.address_line1 as address_2_1_1_, addressimp2_.address_line2 as address_3_1_1_, addressimp2_.address_line3 as address_4_1_1_, addressimp2_.city as city5_1_1_, addressimp2_.company_name as company_6_1_1_, addressimp2_.country as country27_1_1_, addressimp2_.county as county7_1_1_, addressimp2_.email_address as email_ad8_1_1_, addressimp2_.fax as fax9_1_1_, addressimp2_.first_name as first_n10_1_1_, addressimp2_.full_name as full_na11_1_1_, addressimp2_.is_active as is_acti12_1_1_, addressimp2_.is_business as is_busi13_1_1_, addressimp2_.is_default as is_defa14_1_1_, addressimp2_.is_mailing as is_mail15_1_1_, addressimp2_.is_street as is_stre16_1_1_, addressimp2_.iso_country_alpha2 as iso_cou28_1_1_, addressimp2_.iso_country_sub as iso_cou17_1_1_, addressimp2_.last_name as last_na18_1_1_, addressimp2_.phone_fax_id as phone_f29_1_1_, addressimp2_.phone_primary_id as phone_p30_1_1_, addressimp2_.phone_secondary_id as phone_s31_1_1_, addressimp2_.postal_code as postal_19_1_1_, addressimp2_.primary_phone as primary20_1_1_, addressimp2_.secondary_phone as seconda21_1_1_, addressimp2_.standardized as standar22_1_1_, addressimp2_.state_prov_region as state_p32_1_1_, addressimp2_.sub_state_prov_reg as sub_sta23_1_1_, addressimp2_.tokenized_address as tokeniz24_1_1_, addressimp2_.verification_level as verific25_1_1_, addressimp2_.zip_four as zip_fou26_1_1_ from blc_customer customerim0_ left outer join blc_customer_address customerad1_ on customerim0_.customer_id=customerad1_.customer_id and ( customerad1_.archived != ?)  left outer join blc_address addressimp2_ on customerad1_.address_id=addressimp2_.address_id where customerim0_.customer_id=?
called| void org.broadleafcommerce.profile.core.service.customerserviceimpl.createregisteredcustomerroles(customer) 
called| role org.broadleafcommerce.profile.core.dao.roledaoimpl.readrolebyname(string) 
sql|select roleimpl0_.role_id as role_id1_137_, roleimpl0_.role_name as role_nam2_137_ from blc_role roleimpl0_ where roleimpl0_.role_name=?
called| void org.broadleafcommerce.profile.core.dao.roledaoimpl.addroletocustomer(customerrole) 
called| emailinfo org.broadleafcommerce.profile.core.service.customerserviceimpl.getregistrationemailinfo() 
called| void org.broadleafcommerce.profile.core.service.customerserviceimpl.sendemail(string, emailinfo, map) 
called| void org.broadleafcommerce.profile.core.service.customerserviceimpl.notifypostregisterlisteners(customer) 
sql|insert into blc_customer (created_by, date_created, date_updated, updated_by, challenge_answer, challenge_question_id, locale_code, deactivated, email_address, external_id, first_name, is_tax_exempt, last_name, password, password_change_required, is_preview, receive_email, is_registered, tax_exemption_code, user_name, customer_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
called| void org.broadleafcommerce.profile.core.domain.customerpersistedentitylistener.customerupdated(object) 
sql|insert into blc_customer_role (customer_id, role_id, customer_role_id) values (?, ?, ?)
sql|insert into blc_email_tracking (date_sent, email_address, type, email_tracking_id) values (?, ?, ?, ?)
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.onapplicationevent(customerpersistedevent) 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomersessionattributename() 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomeridsessionattributename() 
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.resettransientfields(customer, customer) 
called| void org.broadleafcommerce.profile.web.core.customerstate.setcustomer(customer) 
called| authentication org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.logincustomer(customer) 
called| authentication org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.logincustomer(string, string) 
called| userdetails org.broadleafcommerce.profile.core.service.userdetailsserviceimpl.loaduserbyusername(string) 
called| customer org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyusername(string, boolean) 
called| list org.broadleafcommerce.profile.core.service.roleserviceimpl.findcustomerrolesbycustomerid(long) 
called| list org.broadleafcommerce.profile.core.dao.roledaoimpl.readcustomerrolesbycustomerid(long) 
sql|select customerro0_.customer_role_id as customer1_48_, customerro0_.customer_id as customer2_48_, customerro0_.role_id as role_id3_48_ from blc_customer_role customerro0_ where customerro0_.customer_id=?
called| list org.broadleafcommerce.profile.core.service.userdetailsserviceimpl.creategrantedauthorities(list) 
called| webrequest org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.getwebrequest() 
called| void org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.process(webrequest) 
called| void org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.publishevent(applicationevent, webrequest, string, string) 
called| customer org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.mergecustomerifrequired(webrequest, customer) 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomermergedsessionattributename() 
called| customer org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomer(webrequest) 
called| customer org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyid(long) 
called| customer org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyid(long) 
called| customer org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.copyanonymouscustomerinfotocustomer(webrequest, customer, customer) 
called| void org.broadleafcommerce.core.web.order.security.cartstaterequestprocessor.process(webrequest) 
called| order org.broadleafcommerce.core.web.order.security.cartstaterequestprocessor.getoverridecart(webrequest) 
called| boolean org.broadleafcommerce.core.web.order.security.cartstaterequestprocessor.mergecartneeded(customer, webrequest) 
called| order org.broadleafcommerce.core.order.service.orderserviceimpl.findcartforcustomerwithenhancements(customer) 
called| extensionresultstatustype org.broadleafcommerce.core.order.service.orderserviceextensionmanager.findcartforcustomerwithenhancements(customer, extensionresultholder) 
called| extensionresultstatustype org.broadleafcommerce.core.order.service.orderserviceextensionmanager.6.execute(extensionhandler, object[]) 
called| extensionresultstatustype org.broadleafcommerce.core.order.service.abstractorderserviceextensionhandler.findcartforcustomerwithenhancements(customer, extensionresultholder) 
called| order org.broadleafcommerce.core.order.service.orderserviceimpl.findcartforcustomer(customer) 
called| object org.broadleafcommerce.core.web.order.orderstateaop.processorderretrieval(proceedingjoinpoint) 
called| order org.broadleafcommerce.core.web.order.orderstate.getorder(customer) 
called| order org.broadleafcommerce.core.order.dao.orderdaoimpl.readcartforcustomer(customer) 
called| string org.broadleafcommerce.core.order.service.type.orderstatus.gettype() 
called| order org.broadleafcommerce.core.web.order.orderstate.setorder(customer, order) 
called| order org.broadleafcommerce.core.order.service.orderserviceimpl.getnullorder() 
called| void org.broadleafcommerce.core.web.order.security.cartstaterequestprocessor.updatecartrequestattributes(webrequest, order) 
called| order org.broadleafcommerce.core.web.order.cartstate.getcart() 
called| string org.broadleafcommerce.core.web.order.security.cartstaterequestprocessor.getcartrequestattributename() 
called| string org.broadleafcommerce.profile.web.core.form.registercustomerform.getredirecturl() 
called| string org.broadleafcommerce.core.web.controller.account.broadleafregistercontroller.getregistersuccessview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[True, False, False, False, False]
path_matching_number_k:[1, 1, 1, 1, 1]
path_precision_k:[1.0, 0.5, 0.3333333333333333, 0.25, 0.2]
path_ap:0.5555555555555556
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[True, False, True, True, True]
request_matching_number_k:[1, 1, 2, 3, 4]
request_precision_k:[1.0, 0.5, 0.6666666666666666, 0.75, 0.8]
request_ap:0.7305555555555555

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.registercontroller.processregister(httpservletrequest,httpservletresponse,model,registercustomerform,bindingresult)
method:org.broadleafcommerce.core.web.controller.account.broadleafregistercontroller.processregister(registercustomerform,bindingresult,httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.profile.web.controller.validator.registercustomervalidator.validate(object,errors,boolean)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyusername(string,boolean)
[select customer from blccustomer customer where customer.username = :username]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.registercustomer(customer,string,string)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer)
[update blccustomer set null=?, customerid=?, null=?, null=?, username=?, password=?, emailaddress=?, firstname=?, lastname=?, externalid=?, null=?, challengeanswer=?, passwordchangerequired=?, receiveemail=?, isregistered=?, deactivated=?, null=?, null=?, null=?, null=?, null=?, istaxexempt=?, taxexemptioncode=?, null=?, null=?, null=?, null=?, null=?, null=? where customerid=?]
[insert into blccustomer (null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.createregisteredcustomerroles(customer)
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.readrolebyname(string)
[select role from blcrole role where role.rolename = :name]
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.addroletocustomer(customerrole)
[insert into blccustomerrole (null, customerroleid, null, null) values (?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.notifypostregisterlisteners(customer)
method:org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.logincustomer(customer)
method:org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.logincustomer(string,string)

Syntactic Similarity:0.15407329085571908
Semantic Similarity:0.4
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5540732908557191
Path matching:True
Request matching:True
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.registercustomercontroller.registercustomer(registercustomerform,bindingresult,httpservletrequest,httpservletresponse)
method:org.broadleafcommerce.profile.web.controller.validator.registercustomervalidator.validate(object,errors)
method:org.broadleafcommerce.profile.web.controller.validator.registercustomervalidator.validate(object,errors,boolean)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyusername(string,boolean)
[select customer from blccustomer customer where customer.username = :username]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.registercustomer(customer,string,string)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer)
[update blccustomer set null=?, customerid=?, null=?, null=?, username=?, password=?, emailaddress=?, firstname=?, lastname=?, externalid=?, null=?, challengeanswer=?, passwordchangerequired=?, receiveemail=?, isregistered=?, deactivated=?, null=?, null=?, null=?, null=?, null=?, istaxexempt=?, taxexemptioncode=?, null=?, null=?, null=?, null=?, null=?, null=? where customerid=?]
[insert into blccustomer (null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.createregisteredcustomerroles(customer)
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.readrolebyname(string)
[select role from blcrole role where role.rolename = :name]
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.addroletocustomer(customerrole)
[insert into blccustomerrole (null, customerroleid, null, null) values (?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.notifypostregisterlisteners(customer)
method:org.broadleafcommerce.core.registration.mergeordersbyemailpostregistrationobserver.processregistrationevent(customer)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findordersbyemail(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersbyemail(string)
[select order from blcorder order where order.emailaddress = :email]
method:org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.logincustomer(customer)
method:org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.logincustomer(string,string)

Syntactic Similarity:0.1578522460940829
Semantic Similarity:0.36363636363636365
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5214886097304465
Path matching:False
Request matching:False
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.registercontroller.processregister(httpservletrequest,httpservletresponse,model,registercustomerform,bindingresult)
method:org.broadleafcommerce.core.web.controller.account.broadleafregistercontroller.processregister(registercustomerform,bindingresult,httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.profile.web.controller.validator.registercustomervalidator.validate(object,errors,boolean)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyusername(string,boolean)
[select customer from blccustomer customer where customer.username = :username]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.registercustomer(customer,string,string)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer)
[update blccustomer set null=?, customerid=?, null=?, null=?, username=?, password=?, emailaddress=?, firstname=?, lastname=?, externalid=?, null=?, challengeanswer=?, passwordchangerequired=?, receiveemail=?, isregistered=?, deactivated=?, null=?, null=?, null=?, null=?, null=?, istaxexempt=?, taxexemptioncode=?, null=?, null=?, null=?, null=?, null=?, null=? where customerid=?]
[insert into blccustomer (null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.createregisteredcustomerroles(customer)
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.readrolebyname(string)
[select role from blcrole role where role.rolename = :name]
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.addroletocustomer(customerrole)
[insert into blccustomerrole (null, customerroleid, null, null) values (?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.notifypostregisterlisteners(customer)
method:org.broadleafcommerce.core.registration.mergeordersbyemailpostregistrationobserver.processregistrationevent(customer)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findordersbyemail(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersbyemail(string)
[select order from blcorder order where order.emailaddress = :email]
method:org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.logincustomer(customer)
method:org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.logincustomer(string,string)

Syntactic Similarity:0.1578522460940829
Semantic Similarity:0.36363636363636365
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5214886097304465
Path matching:False
Request matching:True
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.registercontroller.processregister(httpservletrequest,httpservletresponse,model,registercustomerform,bindingresult)
method:org.broadleafcommerce.core.web.controller.account.broadleafregistercontroller.processregister(registercustomerform,bindingresult,httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.profile.web.controller.validator.registercustomervalidator.validate(object,errors,boolean)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyusername(string,boolean)
[select customer from blccustomer customer where customer.username = :username]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.registercustomer(customer,string,string)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer)
[update blccustomer set null=?, customerid=?, null=?, null=?, username=?, password=?, emailaddress=?, firstname=?, lastname=?, externalid=?, null=?, challengeanswer=?, passwordchangerequired=?, receiveemail=?, isregistered=?, deactivated=?, null=?, null=?, null=?, null=?, null=?, istaxexempt=?, taxexemptioncode=?, null=?, null=?, null=?, null=?, null=?, null=? where customerid=?]
[insert into blccustomer (null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.createregisteredcustomerroles(customer)
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.readrolebyname(string)
[select role from blcrole role where role.rolename = :name]
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.addroletocustomer(customerrole)
[insert into blccustomerrole (null, customerroleid, null, null) values (?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.notifypostregisterlisteners(customer)
method:org.broadleafcommerce.core.registration.mergeordersbyemailpostregistrationobserver.processregistrationevent(customer)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findordersbyemail(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersbyemail(string)
[select order from blcorder order where order.emailaddress = :email]

Syntactic Similarity:0.1578522460940829
Semantic Similarity:0.36363636363636365
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5214886097304465
Path matching:False
Request matching:True
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.registercontroller.processregister(httpservletrequest,httpservletresponse,model,registercustomerform,bindingresult)
method:org.broadleafcommerce.core.web.controller.account.broadleafregistercontroller.processregister(registercustomerform,bindingresult,httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.profile.web.controller.validator.registercustomervalidator.validate(object,errors,boolean)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyusername(string,boolean)
[select customer from blccustomer customer where customer.username = :username]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.registercustomer(customer,string,string)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer)
[update blccustomer set null=?, customerid=?, null=?, null=?, username=?, password=?, emailaddress=?, firstname=?, lastname=?, externalid=?, null=?, challengeanswer=?, passwordchangerequired=?, receiveemail=?, isregistered=?, deactivated=?, null=?, null=?, null=?, null=?, null=?, istaxexempt=?, taxexemptioncode=?, null=?, null=?, null=?, null=?, null=?, null=? where customerid=?]
[insert into blccustomer (null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.createregisteredcustomerroles(customer)
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.readrolebyname(string)
[select role from blcrole role where role.rolename = :name]
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.addroletocustomer(customerrole)
[insert into blccustomerrole (null, customerroleid, null, null) values (?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.notifypostregisterlisteners(customer)
method:org.broadleafcommerce.core.registration.mergeordersbyemailpostregistrationobserver.processregistrationevent(customer)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findordersbyemail(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersbyemail(string)
[select order from blcorder order where order.emailaddress = :email]
method:org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.logincustomer(customer)
method:org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.logincustomer(string,string)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.save(order,boolean)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.persist(order)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.save(order)
[update blcorder set null=?, orderid=?, null=?, null=?, name=?, null=?, orderstatus=?, totaltax=?, totalshipping=?, ordersubtotal=?, ordertotal=?, submitdate=?, ordernumber=?, emailaddress=?, null=?, null=?, null=?, null=?, null=?, null=?, null=?, null=?, null=?, null=?, taxoverride=?, null=? where orderid=?]
[insert into blcorder (null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.10594787187487506
Semantic Similarity:0.3076923076923077
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.4136401795671828
Path matching:False
Request matching:True



======================================= 2 given SQL query ===========================================
Given SQL session queries: 
select customerim0_.customer_id as customer1_40_, customerim0_.created_by as created_2_40_, customerim0_.date_created as date_cre3_40_, customerim0_.date_updated as date_upd4_40_, customerim0_.updated_by as updated_5_40_, customerim0_.challenge_answer as challeng6_40_, customerim0_.challenge_question_id as challen20_40_, customerim0_.locale_code as locale_21_40_, customerim0_.deactivated as deactiva7_40_, customerim0_.email_address as email_ad8_40_, customerim0_.external_id as external9_40_, customerim0_.first_name as first_n10_40_, customerim0_.is_tax_exempt as is_tax_11_40_, customerim0_.last_name as last_na12_40_, customerim0_.password as passwor13_40_, customerim0_.password_change_required as passwor14_40_, customerim0_.is_preview as is_prev15_40_, customerim0_.receive_email as receive16_40_, customerim0_.is_registered as is_regi17_40_, customerim0_.tax_exemption_code as tax_exe18_40_, customerim0_.user_name as user_na19_40_ from blc_customer customerim0_ where customerim0_.email_address=?
update blc_customer set date_updated=?, updated_by=?, challenge_answer=?, challenge_question_id=?, locale_code=?, deactivated=?, email_address=?, external_id=?, first_name=?, is_tax_exempt=?, last_name=?, password=?, password_change_required=?, is_preview=?, receive_email=?, is_registered=?, tax_exemption_code=?, user_name=? where customer_id=?
select customerim0_.customer_id as customer1_40_, customerim0_.created_by as created_2_40_, customerim0_.date_created as date_cre3_40_, customerim0_.date_updated as date_upd4_40_, customerim0_.updated_by as updated_5_40_, customerim0_.challenge_answer as challeng6_40_, customerim0_.challenge_question_id as challen20_40_, customerim0_.locale_code as locale_21_40_, customerim0_.deactivated as deactiva7_40_, customerim0_.email_address as email_ad8_40_, customerim0_.external_id as external9_40_, customerim0_.first_name as first_n10_40_, customerim0_.is_tax_exempt as is_tax_11_40_, customerim0_.last_name as last_na12_40_, customerim0_.password as passwor13_40_, customerim0_.password_change_required as passwor14_40_, customerim0_.is_preview as is_prev15_40_, customerim0_.receive_email as receive16_40_, customerim0_.is_registered as is_regi17_40_, customerim0_.tax_exemption_code as tax_exe18_40_, customerim0_.user_name as user_na19_40_ from blc_customer customerim0_ where customerim0_.user_name=?
select customerro0_.customer_role_id as customer1_48_, customerro0_.customer_id as customer2_48_, customerro0_.role_id as role_id3_48_ from blc_customer_role customerro0_ where customerro0_.customer_id=?
select roleimpl0_.role_id as role_id1_137_0_, roleimpl0_.role_name as role_nam2_137_0_ from blc_role roleimpl0_ where roleimpl0_.role_id=?
Pre-processed SQL session queries : 
select from blccustomer where customerim.email_address=? 
update blc_customer set date_updated=?, updated_by=?, challenge_answer=?, challenge_question_id=?, locale_code=?, deactivated=?, email_address=?, external_id=?, first_name=?, is_tax_exempt=?, last_name=?, password=?, password_change_required=?, is_preview=?, receive_email=?, is_registered=?, tax_exemption_code=?, user_name=? where customer_id=?
select from blccustomer where customerim.user_name=? 
select from blccustomerrole where customerro.customer_id=? 
select from blcrole where roleimpl.role_id=? 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.account.updateaccountcontroller.processupdateaccount(httpservletrequest, model, updateaccountform, bindingresult, redirectattributes) 
called| string com.community.controller.account.updateaccountcontroller.processupdateaccount(httpservletrequest, model, updateaccountform, bindingresult, redirectattributes) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafupdateaccountcontroller.processupdateaccount(httpservletrequest, model, updateaccountform, bindingresult, redirectattributes) 
called| void org.broadleafcommerce.core.web.controller.account.validator.updateaccountvalidator.validate(updateaccountform, errors) 
called| customer org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyemail(string) 
called| customer org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyemail(string) 
called| list org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyemail(string) 
sql|select customerim0_.customer_id as customer1_40_, customerim0_.created_by as created_2_40_, customerim0_.date_created as date_cre3_40_, customerim0_.date_updated as date_upd4_40_, customerim0_.updated_by as updated_5_40_, customerim0_.challenge_answer as challeng6_40_, customerim0_.challenge_question_id as challen20_40_, customerim0_.locale_code as locale_21_40_, customerim0_.deactivated as deactiva7_40_, customerim0_.email_address as email_ad8_40_, customerim0_.external_id as external9_40_, customerim0_.first_name as first_n10_40_, customerim0_.is_tax_exempt as is_tax_11_40_, customerim0_.last_name as last_na12_40_, customerim0_.password as passwor13_40_, customerim0_.password_change_required as passwor14_40_, customerim0_.is_preview as is_prev15_40_, customerim0_.receive_email as receive16_40_, customerim0_.is_registered as is_regi17_40_, customerim0_.tax_exemption_code as tax_exe18_40_, customerim0_.user_name as user_na19_40_ from blc_customer customerim0_ where customerim0_.email_address=?
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| customer org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer) 
called| customer org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer, boolean) 
called| customer org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer) 
sql|update blc_customer set date_updated=?, updated_by=?, challenge_answer=?, challenge_question_id=?, locale_code=?, deactivated=?, email_address=?, external_id=?, first_name=?, is_tax_exempt=?, last_name=?, password=?, password_change_required=?, is_preview=?, receive_email=?, is_registered=?, tax_exemption_code=?, user_name=? where customer_id=?
called| void org.broadleafcommerce.profile.core.domain.customerpersistedentitylistener.customerupdated(object) 
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.onapplicationevent(customerpersistedevent) 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomersessionattributename() 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomeridsessionattributename() 
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.resettransientfields(customer, customer) 
called| void org.broadleafcommerce.profile.web.core.customerstate.setcustomer(customer) 
called| userdetails org.broadleafcommerce.profile.core.service.userdetailsserviceimpl.loaduserbyusername(string) 
called| customer org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyusername(string, boolean) 
called| customer org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string, boolean) 
called| list org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyusername(string, boolean) 
sql|select customerim0_.customer_id as customer1_40_, customerim0_.created_by as created_2_40_, customerim0_.date_created as date_cre3_40_, customerim0_.date_updated as date_upd4_40_, customerim0_.updated_by as updated_5_40_, customerim0_.challenge_answer as challeng6_40_, customerim0_.challenge_question_id as challen20_40_, customerim0_.locale_code as locale_21_40_, customerim0_.deactivated as deactiva7_40_, customerim0_.email_address as email_ad8_40_, customerim0_.external_id as external9_40_, customerim0_.first_name as first_n10_40_, customerim0_.is_tax_exempt as is_tax_11_40_, customerim0_.last_name as last_na12_40_, customerim0_.password as passwor13_40_, customerim0_.password_change_required as passwor14_40_, customerim0_.is_preview as is_prev15_40_, customerim0_.receive_email as receive16_40_, customerim0_.is_registered as is_regi17_40_, customerim0_.tax_exemption_code as tax_exe18_40_, customerim0_.user_name as user_na19_40_ from blc_customer customerim0_ where customerim0_.user_name=?
called| list org.broadleafcommerce.profile.core.service.roleserviceimpl.findcustomerrolesbycustomerid(long) 
called| list org.broadleafcommerce.profile.core.dao.roledaoimpl.readcustomerrolesbycustomerid(long) 
sql|select customerro0_.customer_role_id as customer1_48_, customerro0_.customer_id as customer2_48_, customerro0_.role_id as role_id3_48_ from blc_customer_role customerro0_ where customerro0_.customer_id=?
sql|select roleimpl0_.role_id as role_id1_137_0_, roleimpl0_.role_name as role_nam2_137_0_ from blc_role roleimpl0_ where roleimpl0_.role_id=?
called| list org.broadleafcommerce.profile.core.service.userdetailsserviceimpl.creategrantedauthorities(list) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafupdateaccountcontroller.getaccountupdatedmessage() 
called| string org.broadleafcommerce.core.web.controller.account.broadleafupdateaccountcontroller.getaccountredirectview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[False, False, False, False, False]
path_matching_number_k:[0, 0, 0, 0, 0]
path_precision_k:[0.0, 0.0, 0.0, 0.0, 0.0]
path_ap:0.12878787878787878
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[False, False, False, False, False]
request_matching_number_k:[0, 0, 0, 0, 0]
request_precision_k:[0.0, 0.0, 0.0, 0.0, 0.0]
request_ap:0.12878787878787878

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.registercontroller.processregister(httpservletrequest,httpservletresponse,model,registercustomerform,bindingresult)
method:org.broadleafcommerce.core.web.controller.account.broadleafregistercontroller.processregister(registercustomerform,bindingresult,httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.profile.web.controller.validator.registercustomervalidator.validate(object,errors,boolean)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyusername(string,boolean)
[select customer from blccustomer customer where customer.username = :username]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.registercustomer(customer,string,string)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer)
[update blccustomer set null=?, customerid=?, null=?, null=?, username=?, password=?, emailaddress=?, firstname=?, lastname=?, externalid=?, null=?, challengeanswer=?, passwordchangerequired=?, receiveemail=?, isregistered=?, deactivated=?, null=?, null=?, null=?, null=?, null=?, istaxexempt=?, taxexemptioncode=?, null=?, null=?, null=?, null=?, null=?, null=? where customerid=?]
[insert into blccustomer (null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.createregisteredcustomerroles(customer)
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.readrolebyname(string)
[select role from blcrole role where role.rolename = :name]
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.addroletocustomer(customerrole)
[insert into blccustomerrole (null, customerroleid, null, null) values (?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.notifypostregisterlisteners(customer)
method:org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.logincustomer(customer)
method:org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.logincustomer(string,string)

Syntactic Similarity:0.1565819892036011
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.6565819892036011
Path matching:False
Request matching:False
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.registercustomercontroller.registercustomer(registercustomerform,bindingresult,httpservletrequest,httpservletresponse)
method:org.broadleafcommerce.profile.web.controller.validator.registercustomervalidator.validate(object,errors)
method:org.broadleafcommerce.profile.web.controller.validator.registercustomervalidator.validate(object,errors,boolean)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyusername(string,boolean)
[select customer from blccustomer customer where customer.username = :username]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.registercustomer(customer,string,string)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer)
[update blccustomer set null=?, customerid=?, null=?, null=?, username=?, password=?, emailaddress=?, firstname=?, lastname=?, externalid=?, null=?, challengeanswer=?, passwordchangerequired=?, receiveemail=?, isregistered=?, deactivated=?, null=?, null=?, null=?, null=?, null=?, istaxexempt=?, taxexemptioncode=?, null=?, null=?, null=?, null=?, null=?, null=? where customerid=?]
[insert into blccustomer (null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.createregisteredcustomerroles(customer)
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.readrolebyname(string)
[select role from blcrole role where role.rolename = :name]
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.addroletocustomer(customerrole)
[insert into blccustomerrole (null, customerroleid, null, null) values (?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.notifypostregisterlisteners(customer)
method:org.broadleafcommerce.core.registration.mergeordersbyemailpostregistrationobserver.processregistrationevent(customer)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findordersbyemail(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersbyemail(string)
[select order from blcorder order where order.emailaddress = :email]
method:org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.logincustomer(customer)
method:org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.logincustomer(string,string)

Syntactic Similarity:0.16301901020307938
Semantic Similarity:0.42857142857142855
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5915904387745079
Path matching:False
Request matching:False
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.registercontroller.processregister(httpservletrequest,httpservletresponse,model,registercustomerform,bindingresult)
method:org.broadleafcommerce.core.web.controller.account.broadleafregistercontroller.processregister(registercustomerform,bindingresult,httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.profile.web.controller.validator.registercustomervalidator.validate(object,errors,boolean)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyusername(string,boolean)
[select customer from blccustomer customer where customer.username = :username]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.registercustomer(customer,string,string)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer)
[update blccustomer set null=?, customerid=?, null=?, null=?, username=?, password=?, emailaddress=?, firstname=?, lastname=?, externalid=?, null=?, challengeanswer=?, passwordchangerequired=?, receiveemail=?, isregistered=?, deactivated=?, null=?, null=?, null=?, null=?, null=?, istaxexempt=?, taxexemptioncode=?, null=?, null=?, null=?, null=?, null=?, null=? where customerid=?]
[insert into blccustomer (null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.createregisteredcustomerroles(customer)
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.readrolebyname(string)
[select role from blcrole role where role.rolename = :name]
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.addroletocustomer(customerrole)
[insert into blccustomerrole (null, customerroleid, null, null) values (?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.notifypostregisterlisteners(customer)
method:org.broadleafcommerce.core.registration.mergeordersbyemailpostregistrationobserver.processregistrationevent(customer)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findordersbyemail(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersbyemail(string)
[select order from blcorder order where order.emailaddress = :email]
method:org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.logincustomer(customer)
method:org.broadleafcommerce.profile.web.core.service.login.loginserviceimpl.logincustomer(string,string)

Syntactic Similarity:0.16301901020307938
Semantic Similarity:0.42857142857142855
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5915904387745079
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.registercontroller.processregister(httpservletrequest,httpservletresponse,model,registercustomerform,bindingresult)
method:org.broadleafcommerce.core.web.controller.account.broadleafregistercontroller.processregister(registercustomerform,bindingresult,httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.profile.web.controller.validator.registercustomervalidator.validate(object,errors,boolean)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyusername(string,boolean)
[select customer from blccustomer customer where customer.username = :username]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.registercustomer(customer,string,string)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer)
[update blccustomer set null=?, customerid=?, null=?, null=?, username=?, password=?, emailaddress=?, firstname=?, lastname=?, externalid=?, null=?, challengeanswer=?, passwordchangerequired=?, receiveemail=?, isregistered=?, deactivated=?, null=?, null=?, null=?, null=?, null=?, istaxexempt=?, taxexemptioncode=?, null=?, null=?, null=?, null=?, null=?, null=? where customerid=?]
[insert into blccustomer (null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.createregisteredcustomerroles(customer)
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.readrolebyname(string)
[select role from blcrole role where role.rolename = :name]
method:org.broadleafcommerce.profile.core.dao.roledaoimpl.addroletocustomer(customerrole)
[insert into blccustomerrole (null, customerroleid, null, null) values (?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.notifypostregisterlisteners(customer)
method:org.broadleafcommerce.core.registration.mergeordersbyemailpostregistrationobserver.processregistrationevent(customer)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findordersbyemail(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersbyemail(string)
[select order from blcorder order where order.emailaddress = :email]

Syntactic Similarity:0.16301901020307938
Semantic Similarity:0.42857142857142855
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5915904387745079
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.changepasswordcontroller.processchangepassword(httpservletrequest,model,changepasswordform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafchangepasswordcontroller.processchangepassword(httpservletrequest,model,changepasswordform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.changepassword(passwordchange)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyusername(string,boolean)
[select customer from blccustomer customer where customer.username = :username]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer)
[update blccustomer set null=?, customerid=?, null=?, null=?, username=?, password=?, emailaddress=?, firstname=?, lastname=?, externalid=?, null=?, challengeanswer=?, passwordchangerequired=?, receiveemail=?, isregistered=?, deactivated=?, null=?, null=?, null=?, null=?, null=?, istaxexempt=?, taxexemptioncode=?, null=?, null=?, null=?, null=?, null=?, null=? where customerid=?]
[insert into blccustomer (null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.11201127363670912
Semantic Similarity:0.4
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5120112736367092
Path matching:False
Request matching:False



======================================= 3 given SQL query ===========================================
Given SQL session queries: 
select systemprop0_.blc_system_property_id as blc_syst1_174_, systemprop0_.friendly_group as friendly2_174_, systemprop0_.friendly_name as friendly3_174_, systemprop0_.friendly_tab as friendly4_174_, systemprop0_.property_name as property5_174_, systemprop0_.override_generated_prop_name as override6_174_, systemprop0_.property_type as property7_174_, systemprop0_.property_value as property8_174_ from blc_system_property systemprop0_ where systemprop0_.property_name=?
update blc_customer set date_updated=?, updated_by=?, challenge_answer=?, challenge_question_id=?, locale_code=?, deactivated=?, email_address=?, external_id=?, first_name=?, is_tax_exempt=?, last_name=?, password=?, password_change_required=?, is_preview=?, receive_email=?, is_registered=?, tax_exemption_code=?, user_name=? where customer_id=?
Pre-processed SQL session queries : 
select from blcsystemproperty where systemprop.property_name=? 
update blc_customer set date_updated=?, updated_by=?, challenge_answer=?, challenge_question_id=?, locale_code=?, deactivated=?, email_address=?, external_id=?, first_name=?, is_tax_exempt=?, last_name=?, password=?, password_change_required=?, is_preview=?, receive_email=?, is_registered=?, tax_exemption_code=?, user_name=? where customer_id=?

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.account.changepasswordcontroller.processchangepassword(httpservletrequest, model, changepasswordform, bindingresult, redirectattributes) 
called| string com.community.controller.account.changepasswordcontroller.processchangepassword(httpservletrequest, model, changepasswordform, bindingresult, redirectattributes) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafchangepasswordcontroller.processchangepassword(httpservletrequest, model, changepasswordform, bindingresult, redirectattributes) 
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| void org.broadleafcommerce.core.web.controller.account.validator.changepasswordvalidator.validate(passwordchange, errors) 
called| boolean org.broadleafcommerce.profile.core.service.customerserviceimpl.ispasswordvalid(string, string) 
called| string org.broadleafcommerce.core.web.controller.account.validator.changepasswordvalidator.getvalidpasswordregex() 
sql|select systemprop0_.blc_system_property_id as blc_syst1_174_, systemprop0_.friendly_group as friendly2_174_, systemprop0_.friendly_name as friendly3_174_, systemprop0_.friendly_tab as friendly4_174_, systemprop0_.property_name as property5_174_, systemprop0_.override_generated_prop_name as override6_174_, systemprop0_.property_type as property7_174_, systemprop0_.property_value as property8_174_ from blc_system_property systemprop0_ where systemprop0_.property_name=?
called| customer org.broadleafcommerce.profile.core.service.customerserviceimpl.changepassword(passwordchange) 
called| customer org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyusername(string) 
called| customer org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string) 
called| customer org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string, boolean) 
called| list org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyusername(string, boolean) 
called| customer org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer) 
called| customer org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer, boolean) 
called| string org.broadleafcommerce.profile.core.service.customerserviceimpl.encodepassword(string) 
called| customer org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer) 
sql|update blc_customer set date_updated=?, updated_by=?, challenge_answer=?, challenge_question_id=?, locale_code=?, deactivated=?, email_address=?, external_id=?, first_name=?, is_tax_exempt=?, last_name=?, password=?, password_change_required=?, is_preview=?, receive_email=?, is_registered=?, tax_exemption_code=?, user_name=? where customer_id=?
called| void org.broadleafcommerce.profile.core.domain.customerpersistedentitylistener.customerupdated(object) 
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.onapplicationevent(customerpersistedevent) 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomersessionattributename() 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomeridsessionattributename() 
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.resettransientfields(customer, customer) 
called| void org.broadleafcommerce.profile.web.core.customerstate.setcustomer(customer) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafchangepasswordcontroller.getchangepasswordredirect() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[False, True, False, False, False]
path_matching_number_k:[0, 1, 1, 1, 1]
path_precision_k:[0.0, 0.5, 0.3333333333333333, 0.25, 0.2]
path_ap:0.5
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[False, True, False, False, False]
request_matching_number_k:[0, 1, 1, 1, 1]
request_precision_k:[0.0, 0.5, 0.3333333333333333, 0.25, 0.2]
request_ap:0.5

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.orderhistorycontroller.vieworderdetails(httpservletrequest,model,string)
method:org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderdetails(httpservletrequest,model,string)
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.getorderdetails(string)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string)
[select order from blcorder order where order.ordernumber = :ordernumber]
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.validatecustomerowneddata(order)
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.shouldvalidatecustomerowneddata()
[select from blcsystemproperty where systemprop.propertyname=?]

Syntactic Similarity:0.3189816105036618
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.6523149438369951
Path matching:False
Request matching:False
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.changepasswordcontroller.processchangepassword(httpservletrequest,model,changepasswordform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafchangepasswordcontroller.processchangepassword(httpservletrequest,model,changepasswordform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.changepassword(passwordchange)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyusername(string,boolean)
[select customer from blccustomer customer where customer.username = :username]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer)
[update blccustomer set null=?, customerid=?, null=?, null=?, username=?, password=?, emailaddress=?, firstname=?, lastname=?, externalid=?, null=?, challengeanswer=?, passwordchangerequired=?, receiveemail=?, isregistered=?, deactivated=?, null=?, null=?, null=?, null=?, null=?, istaxexempt=?, taxexemptioncode=?, null=?, null=?, null=?, null=?, null=?, null=? where customerid=?]
[insert into blccustomer (null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.09720572537921403
Semantic Similarity:0.25
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.347205725379214
Path matching:True
Request matching:True
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.updateaccountcontroller.processupdateaccount(httpservletrequest,model,updateaccountform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafupdateaccountcontroller.processupdateaccount(httpservletrequest,model,updateaccountform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.validator.updateaccountvalidator.validate(updateaccountform,errors)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyemail(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyemail(string)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyemail(string)
[select customer from blccustomer customer where customer.emailaddress = :email]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer)
[update blccustomer set null=?, customerid=?, null=?, null=?, username=?, password=?, emailaddress=?, firstname=?, lastname=?, externalid=?, null=?, challengeanswer=?, passwordchangerequired=?, receiveemail=?, isregistered=?, deactivated=?, null=?, null=?, null=?, null=?, null=?, istaxexempt=?, taxexemptioncode=?, null=?, null=?, null=?, null=?, null=?, null=? where customerid=?]
[insert into blccustomer (null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.09236824232873726
Semantic Similarity:0.25
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.34236824232873725
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.logincontroller.processresetpassword(resetpasswordform,httpservletrequest,httpservletresponse,model,bindingresult)
method:org.broadleafcommerce.core.web.controller.account.broadleaflogincontroller.processresetpassword(resetpasswordform,httpservletrequest,httpservletresponse,model,bindingresult)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.resetpasswordusingtoken(string,string,string,string)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.checkpasswordresettoken(string,customer,genericresponse)
method:org.broadleafcommerce.profile.core.dao.customerforgotpasswordsecuritytokendaoimpl.readunusedtokensbycustomerid(long)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer)
[update blccustomer set null=?, customerid=?, null=?, null=?, username=?, password=?, emailaddress=?, firstname=?, lastname=?, externalid=?, null=?, challengeanswer=?, passwordchangerequired=?, receiveemail=?, isregistered=?, deactivated=?, null=?, null=?, null=?, null=?, null=?, istaxexempt=?, taxexemptioncode=?, null=?, null=?, null=?, null=?, null=?, null=? where customerid=?]
[insert into blccustomer (null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.invalidatealltokensforcustomer(customer)
method:org.broadleafcommerce.profile.core.dao.customerforgotpasswordsecuritytokendaoimpl.readunusedtokensbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customerforgotpasswordsecuritytokendaoimpl.savetoken(customerforgotpasswordsecuritytoken)
[update blccustomerpasswordtoken set null=?, passwordtoken=?, createdate=?, tokenuseddate=?, customerid=?, tokenusedflag=? where passwordtoken=?]
[insert into blccustomerpasswordtoken (null, passwordtoken, createdate, tokenuseddate, customerid, tokenusedflag) values (?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.070699639218539
Semantic Similarity:0.2
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.270699639218539
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.logincontroller.processresetpassword(resetpasswordform,httpservletrequest,httpservletresponse,model,bindingresult)
method:org.broadleafcommerce.core.web.controller.account.broadleaflogincontroller.processresetpassword(resetpasswordform,httpservletrequest,httpservletresponse,model,bindingresult)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.resetpasswordusingtoken(string,string,string,string)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.checkpasswordresettoken(string,customer,genericresponse)
method:org.broadleafcommerce.profile.core.dao.customerforgotpasswordsecuritytokendaoimpl.readtoken(string)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer)
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.savecustomer(customer,boolean)
method:org.broadleafcommerce.profile.core.dao.customerdaoimpl.save(customer)
[update blccustomer set null=?, customerid=?, null=?, null=?, username=?, password=?, emailaddress=?, firstname=?, lastname=?, externalid=?, null=?, challengeanswer=?, passwordchangerequired=?, receiveemail=?, isregistered=?, deactivated=?, null=?, null=?, null=?, null=?, null=?, istaxexempt=?, taxexemptioncode=?, null=?, null=?, null=?, null=?, null=?, null=? where customerid=?]
[insert into blccustomer (null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customerserviceimpl.invalidatealltokensforcustomer(customer)
method:org.broadleafcommerce.profile.core.dao.customerforgotpasswordsecuritytokendaoimpl.readunusedtokensbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customerforgotpasswordsecuritytokendaoimpl.savetoken(customerforgotpasswordsecuritytoken)
[update blccustomerpasswordtoken set null=?, passwordtoken=?, createdate=?, tokenuseddate=?, customerid=?, tokenusedflag=? where passwordtoken=?]
[insert into blccustomerpasswordtoken (null, passwordtoken, createdate, tokenuseddate, customerid, tokenusedflag) values (?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.070699639218539
Semantic Similarity:0.2
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.270699639218539
Path matching:False
Request matching:False



======================================= 4 given SQL query ===========================================
Given SQL session queries: 
select countrysub0_.abbreviation as abbrevia1_36_, countrysub0_.alt_abbreviation as alt_abbr2_36_, countrysub0_.country_sub_cat as country_4_36_, countrysub0_.country as country5_36_, countrysub0_.name as name3_36_ from blc_country_sub countrysub0_ where countrysub0_.country=? and countrysub0_.alt_abbreviation=?
select countrysub0_.country_sub_cat_id as country_1_37_0_, countrysub0_.name as name2_37_0_ from blc_country_sub_cat countrysub0_ where countrysub0_.country_sub_cat_id=?
select systemprop0_.blc_system_property_id as blc_syst1_174_, systemprop0_.friendly_group as friendly2_174_, systemprop0_.friendly_name as friendly3_174_, systemprop0_.friendly_tab as friendly4_174_, systemprop0_.property_name as property5_174_, systemprop0_.override_generated_prop_name as override6_174_, systemprop0_.property_type as property7_174_, systemprop0_.property_value as property8_174_ from blc_system_property systemprop0_ where systemprop0_.property_name=?
select tbl.id_val from sequence_generator tbl where tbl.id_name=? for update
update sequence_generator set id_val=?  where id_val=? and id_name=?
insert into blc_phone (country_code, extension, is_active, is_default, phone_number, phone_id) values (?, ?, ?, ?, ?, ?)
insert into blc_address (address_line1, address_line2, address_line3, city, company_name, country, county, email_address, fax, first_name, full_name, is_active, is_business, is_default, is_mailing, is_street, iso_country_alpha2, iso_country_sub, last_name, phone_fax_id, phone_primary_id, phone_secondary_id, postal_code, primary_phone, secondary_phone, standardized, state_prov_region, sub_state_prov_reg, tokenized_address, verification_level, zip_four, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
select customerad0_.customer_address_id as customer1_41_, customerad0_.address_id as address_4_41_, customerad0_.address_name as address_2_41_, customerad0_.archived as archived3_41_, customerad0_.customer_id as customer5_41_ from blc_customer_address customerad0_ cross join blc_address addressimp1_ where customerad0_.address_id=addressimp1_.address_id and customerad0_.customer_id=? and addressimp1_.is_active=1 and (customerad0_.archived is null or customerad0_.archived=?) order by customerad0_.customer_address_id
insert into blc_customer_address (address_id, address_name, archived, customer_id, customer_address_id) values (?, ?, ?, ?, ?)
update blc_address set address_line1=?, address_line2=?, address_line3=?, city=?, company_name=?, country=?, county=?, email_address=?, fax=?, first_name=?, full_name=?, is_active=?, is_business=?, is_default=?, is_mailing=?, is_street=?, iso_country_alpha2=?, iso_country_sub=?, last_name=?, phone_fax_id=?, phone_primary_id=?, phone_secondary_id=?, postal_code=?, primary_phone=?, secondary_phone=?, standardized=?, state_prov_region=?, sub_state_prov_reg=?, tokenized_address=?, verification_level=?, zip_four=? where address_id=?
select customerad0_.customer_address_id as customer1_41_, customerad0_.address_id as address_4_41_, customerad0_.address_name as address_2_41_, customerad0_.archived as archived3_41_, customerad0_.customer_id as customer5_41_ from blc_customer_address customerad0_ where customerad0_.customer_address_id=20709 and customerad0_.customer_id=3200
select customerad0_.address_id as col_0_0_ from blc_customer_address customerad0_ cross join blc_address addressimp1_ where customerad0_.address_id=addressimp1_.address_id and customerad0_.customer_id=? and addressimp1_.is_default=1
update blc_address set is_default=0 where address_id in (?)
select phoneimpl0_.phone_id as phone_id1_118_0_, phoneimpl0_.country_code as country_2_118_0_, phoneimpl0_.extension as extensio3_118_0_, phoneimpl0_.is_active as is_activ4_118_0_, phoneimpl0_.is_default as is_defau5_118_0_, phoneimpl0_.phone_number as phone_nu6_118_0_ from blc_phone phoneimpl0_ where phoneimpl0_.phone_id=?
select addressimp0_.address_id as address_1_1_3_, addressimp0_.address_line1 as address_2_1_3_, addressimp0_.address_line2 as address_3_1_3_, addressimp0_.address_line3 as address_4_1_3_, addressimp0_.city as city5_1_3_, addressimp0_.company_name as company_6_1_3_, addressimp0_.country as country27_1_3_, addressimp0_.county as county7_1_3_, addressimp0_.email_address as email_ad8_1_3_, addressimp0_.fax as fax9_1_3_, addressimp0_.first_name as first_n10_1_3_, addressimp0_.full_name as full_na11_1_3_, addressimp0_.is_active as is_acti12_1_3_, addressimp0_.is_business as is_busi13_1_3_, addressimp0_.is_default as is_defa14_1_3_, addressimp0_.is_mailing as is_mail15_1_3_, addressimp0_.is_street as is_stre16_1_3_, addressimp0_.iso_country_alpha2 as iso_cou28_1_3_, addressimp0_.iso_country_sub as iso_cou17_1_3_, addressimp0_.last_name as last_na18_1_3_, addressimp0_.phone_fax_id as phone_f29_1_3_, addressimp0_.phone_primary_id as phone_p30_1_3_, addressimp0_.phone_secondary_id as phone_s31_1_3_, addressimp0_.postal_code as postal_19_1_3_, addressimp0_.primary_phone as primary20_1_3_, addressimp0_.secondary_phone as seconda21_1_3_, addressimp0_.standardized as standar22_1_3_, addressimp0_.state_prov_region as state_p32_1_3_, addressimp0_.sub_state_prov_reg as sub_sta23_1_3_, addressimp0_.tokenized_address as tokeniz24_1_3_, addressimp0_.verification_level as verific25_1_3_, addressimp0_.zip_four as zip_fou26_1_3_, phoneimpl1_.phone_id as phone_id1_118_0_, phoneimpl1_.country_code as country_2_118_0_, phoneimpl1_.extension as extensio3_118_0_, phoneimpl1_.is_active as is_activ4_118_0_, phoneimpl1_.is_default as is_defau5_118_0_, phoneimpl1_.phone_number as phone_nu6_118_0_, phoneimpl2_.phone_id as phone_id1_118_1_, phoneimpl2_.country_code as country_2_118_1_, phoneimpl2_.extension as extensio3_118_1_, phoneimpl2_.is_active as is_activ4_118_1_, phoneimpl2_.is_default as is_defau5_118_1_, phoneimpl2_.phone_number as phone_nu6_118_1_, phoneimpl3_.phone_id as phone_id1_118_2_, phoneimpl3_.country_code as country_2_118_2_, phoneimpl3_.extension as extensio3_118_2_, phoneimpl3_.is_active as is_activ4_118_2_, phoneimpl3_.is_default as is_defau5_118_2_, phoneimpl3_.phone_number as phone_nu6_118_2_ from blc_address addressimp0_ left outer join blc_phone phoneimpl1_ on addressimp0_.phone_fax_id=phoneimpl1_.phone_id left outer join blc_phone phoneimpl2_ on addressimp0_.phone_primary_id=phoneimpl2_.phone_id left outer join blc_phone phoneimpl3_ on addressimp0_.phone_secondary_id=phoneimpl3_.phone_id where addressimp0_.address_id=?
select customerad0_.customer_address_id as customer1_41_4_, customerad0_.address_id as address_4_41_4_, customerad0_.address_name as address_2_41_4_, customerad0_.archived as archived3_41_4_, customerad0_.customer_id as customer5_41_4_, addressimp1_.address_id as address_1_1_0_, addressimp1_.address_line1 as address_2_1_0_, addressimp1_.address_line2 as address_3_1_0_, addressimp1_.address_line3 as address_4_1_0_, addressimp1_.city as city5_1_0_, addressimp1_.company_name as company_6_1_0_, addressimp1_.country as country27_1_0_, addressimp1_.county as county7_1_0_, addressimp1_.email_address as email_ad8_1_0_, addressimp1_.fax as fax9_1_0_, addressimp1_.first_name as first_n10_1_0_, addressimp1_.full_name as full_na11_1_0_, addressimp1_.is_active as is_acti12_1_0_, addressimp1_.is_business as is_busi13_1_0_, addressimp1_.is_default as is_defa14_1_0_, addressimp1_.is_mailing as is_mail15_1_0_, addressimp1_.is_street as is_stre16_1_0_, addressimp1_.iso_country_alpha2 as iso_cou28_1_0_, addressimp1_.iso_country_sub as iso_cou17_1_0_, addressimp1_.last_name as last_na18_1_0_, addressimp1_.phone_fax_id as phone_f29_1_0_, addressimp1_.phone_primary_id as phone_p30_1_0_, addressimp1_.phone_secondary_id as phone_s31_1_0_, addressimp1_.postal_code as postal_19_1_0_, addressimp1_.primary_phone as primary20_1_0_, addressimp1_.secondary_phone as seconda21_1_0_, addressimp1_.standardized as standar22_1_0_, addressimp1_.state_prov_region as state_p32_1_0_, addressimp1_.sub_state_prov_reg as sub_sta23_1_0_, addressimp1_.tokenized_address as tokeniz24_1_0_, addressimp1_.verification_level as verific25_1_0_, addressimp1_.zip_four as zip_fou26_1_0_, phoneimpl2_.phone_id as phone_id1_118_1_, phoneimpl2_.country_code as country_2_118_1_, phoneimpl2_.extension as extensio3_118_1_, phoneimpl2_.is_active as is_activ4_118_1_, phoneimpl2_.is_default as is_defau5_118_1_, phoneimpl2_.phone_number as phone_nu6_118_1_, phoneimpl3_.phone_id as phone_id1_118_2_, phoneimpl3_.country_code as country_2_118_2_, phoneimpl3_.extension as extensio3_118_2_, phoneimpl3_.is_active as is_activ4_118_2_, phoneimpl3_.is_default as is_defau5_118_2_, phoneimpl3_.phone_number as phone_nu6_118_2_, phoneimpl4_.phone_id as phone_id1_118_3_, phoneimpl4_.country_code as country_2_118_3_, phoneimpl4_.extension as extensio3_118_3_, phoneimpl4_.is_active as is_activ4_118_3_, phoneimpl4_.is_default as is_defau5_118_3_, phoneimpl4_.phone_number as phone_nu6_118_3_ from blc_customer_address customerad0_ inner join blc_address addressimp1_ on customerad0_.address_id=addressimp1_.address_id left outer join blc_phone phoneimpl2_ on addressimp1_.phone_fax_id=phoneimpl2_.phone_id left outer join blc_phone phoneimpl3_ on addressimp1_.phone_primary_id=phoneimpl3_.phone_id left outer join blc_phone phoneimpl4_ on addressimp1_.phone_secondary_id=phoneimpl4_.phone_id where customerad0_.customer_address_id=?
Pre-processed SQL session queries : 
select from blccountrysub where countrysub.country=? and countrysub.alt_abbreviation=? 
select from blccountrysubcat where countrysub.country_sub_cat_id=? 
select from blcsystemproperty where systemprop.property_name=? 
select tbl.idval from sequencegenerator where tbl.id_name=? for update 
update sequence_generator set id_val=?  where id_val=? and id_name=?
insert into blc_phone (country_code, extension, is_active, is_default, phone_number, phone_id) values (?, ?, ?, ?, ?, ?)
insert into blc_address (address_line, address_line, address_line, city, company_name, country, county, email_address, fax, first_name, full_name, is_active, is_business, is_default, is_mailing, is_street, iso_country_alpha, iso_country_sub, last_name, phone_fax_id, phone_primary_id, phone_secondary_id, postal_code, primary_phone, secondary_phone, standardized, state_prov_region, sub_state_prov_reg, tokenized_address, verification_level, zip_four, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
select from blccustomeraddress cross join blcaddress where customerad.address_id=addressimp.address_id and customerad.customer_id=? and addressimp.is_active=? and (customerad.archived is null or customerad.archived=?)  order by customerad.customeraddressid 
insert into blc_customer_address (address_id, address_name, archived, customer_id, customer_address_id) values (?, ?, ?, ?, ?)
update blc_address set address_line=?, address_line=?, address_line=?, city=?, company_name=?, country=?, county=?, email_address=?, fax=?, first_name=?, full_name=?, is_active=?, is_business=?, is_default=?, is_mailing=?, is_street=?, iso_country_alpha=?, iso_country_sub=?, last_name=?, phone_fax_id=?, phone_primary_id=?, phone_secondary_id=?, postal_code=?, primary_phone=?, secondary_phone=?, standardized=?, state_prov_region=?, sub_state_prov_reg=?, tokenized_address=?, verification_level=?, zip_four=? where address_id=?
select from blccustomeraddress where customerad.customer_address_id=? and customerad.customer_id=? 
select customerad.addressid from blccustomeraddress cross join blcaddress where customerad.address_id=addressimp.address_id and customerad.customer_id=? and addressimp.is_default=? 
update blc_address set is_default=? where address_id in (?)
select from blcphone where phoneimpl.phone_id=? 
select from blcaddress left outer join blcphone left outer join blcphone left outer join blcphone where addressimp.address_id=? 
select from blccustomeraddress inner join blcaddress left outer join blcphone left outer join blcphone left outer join blcphone where customerad.customer_address_id=? 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest, model, customeraddressform, bindingresult, redirectattributes) 
called| string com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest, model, customeraddressform, bindingresult, redirectattributes) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest, model, customeraddressform, bindingresult, redirectattributes) 
called| void org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address) 
called| countrysubdivision org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string, string) 
called| countrysubdivision org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string, string) 
sql|select countrysub0_.abbreviation as abbrevia1_36_, countrysub0_.alt_abbreviation as alt_abbr2_36_, countrysub0_.country_sub_cat as country_4_36_, countrysub0_.country as country5_36_, countrysub0_.name as name3_36_ from blc_country_sub countrysub0_ where countrysub0_.country=? and countrysub0_.alt_abbreviation=?
sql|select countrysub0_.country_sub_cat_id as country_1_37_0_, countrysub0_.name as name2_37_0_ from blc_country_sub_cat countrysub0_ where countrysub0_.country_sub_cat_id=?
called| void org.broadleafcommerce.core.web.controller.account.validator.customeraddressvalidator.validate(object, errors) 
sql|select systemprop0_.blc_system_property_id as blc_syst1_174_, systemprop0_.friendly_group as friendly2_174_, systemprop0_.friendly_name as friendly3_174_, systemprop0_.friendly_tab as friendly4_174_, systemprop0_.property_name as property5_174_, systemprop0_.override_generated_prop_name as override6_174_, systemprop0_.property_type as property7_174_, systemprop0_.property_value as property8_174_ from blc_system_property systemprop0_ where systemprop0_.property_name=?
called| void org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.removeunusedphones(customeraddressform) 
called| address org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address) 
called| address org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address) 
sql|insert into blc_phone (country_code, extension, is_active, is_default, phone_number, phone_id) values (?, ?, ?, ?, ?, ?)
sql|insert into blc_address (address_line1, address_line2, address_line3, city, company_name, country, county, email_address, fax, first_name, full_name, is_active, is_business, is_default, is_mailing, is_street, iso_country_alpha2, iso_country_sub, last_name, phone_fax_id, phone_primary_id, phone_secondary_id, postal_code, primary_phone, secondary_phone, standardized, state_prov_region, sub_state_prov_reg, tokenized_address, verification_level, zip_four, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
called| customeraddress org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create() 
called| customeraddress org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create() 
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| customeraddress org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress) 
called| list org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long) 
called| list org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long) 
sql|select customerad0_.customer_address_id as customer1_41_, customerad0_.address_id as address_4_41_, customerad0_.address_name as address_2_41_, customerad0_.archived as archived3_41_, customerad0_.customer_id as customer5_41_ from blc_customer_address customerad0_ cross join blc_address addressimp1_ where customerad0_.address_id=addressimp1_.address_id and customerad0_.customer_id=? and addressimp1_.is_active=? and (customerad0_.archived is null or customerad0_.archived=?) order by customerad0_.customer_address_id
called| customeraddress org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress) 
called| void org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.makecustomeraddressdefault(long, long) 
called| customeraddress org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readcustomeraddressbyidandcustomerid(long, long) 
sql|insert into blc_customer_address (address_id, address_name, archived, customer_id, customer_address_id) values (?, ?, ?, ?, ?)
called| void org.broadleafcommerce.profile.core.domain.customeraddresspersistedentitylistener.customeraddressupdated(object) 
sql|update blc_address set address_line1=?, address_line2=?, address_line3=?, city=?, company_name=?, country=?, county=?, email_address=?, fax=?, first_name=?, full_name=?, is_active=?, is_business=?, is_default=?, is_mailing=?, is_street=?, iso_country_alpha2=?, iso_country_sub=?, last_name=?, phone_fax_id=?, phone_primary_id=?, phone_secondary_id=?, postal_code=?, primary_phone=?, secondary_phone=?, standardized=?, state_prov_region=?, sub_state_prov_reg=?, tokenized_address=?, verification_level=?, zip_four=? where address_id=?
sql|select customerad0_.customer_address_id as customer1_41_, customerad0_.address_id as address_4_41_, customerad0_.address_name as address_2_41_, customerad0_.archived as archived3_41_, customerad0_.customer_id as customer5_41_ from blc_customer_address customerad0_ where customerad0_.customer_address_id=? and customerad0_.customer_id=?
called| void org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.cleardefaultaddressforcustomer(long) 
sql|select customerad0_.address_id as col_0_0_ from blc_customer_address customerad0_ cross join blc_address addressimp1_ where customerad0_.address_id=addressimp1_.address_id and customerad0_.customer_id=? and addressimp1_.is_default=?
sql|update blc_address set is_default=? where address_id in (?)
sql|select phoneimpl0_.phone_id as phone_id1_118_0_, phoneimpl0_.country_code as country_2_118_0_, phoneimpl0_.extension as extensio3_118_0_, phoneimpl0_.is_active as is_activ4_118_0_, phoneimpl0_.is_default as is_defau5_118_0_, phoneimpl0_.phone_number as phone_nu6_118_0_ from blc_phone phoneimpl0_ where phoneimpl0_.phone_id=?
sql|select addressimp0_.address_id as address_1_1_3_, addressimp0_.address_line1 as address_2_1_3_, addressimp0_.address_line2 as address_3_1_3_, addressimp0_.address_line3 as address_4_1_3_, addressimp0_.city as city5_1_3_, addressimp0_.company_name as company_6_1_3_, addressimp0_.country as country27_1_3_, addressimp0_.county as county7_1_3_, addressimp0_.email_address as email_ad8_1_3_, addressimp0_.fax as fax9_1_3_, addressimp0_.first_name as first_n10_1_3_, addressimp0_.full_name as full_na11_1_3_, addressimp0_.is_active as is_acti12_1_3_, addressimp0_.is_business as is_busi13_1_3_, addressimp0_.is_default as is_defa14_1_3_, addressimp0_.is_mailing as is_mail15_1_3_, addressimp0_.is_street as is_stre16_1_3_, addressimp0_.iso_country_alpha2 as iso_cou28_1_3_, addressimp0_.iso_country_sub as iso_cou17_1_3_, addressimp0_.last_name as last_na18_1_3_, addressimp0_.phone_fax_id as phone_f29_1_3_, addressimp0_.phone_primary_id as phone_p30_1_3_, addressimp0_.phone_secondary_id as phone_s31_1_3_, addressimp0_.postal_code as postal_19_1_3_, addressimp0_.primary_phone as primary20_1_3_, addressimp0_.secondary_phone as seconda21_1_3_, addressimp0_.standardized as standar22_1_3_, addressimp0_.state_prov_region as state_p32_1_3_, addressimp0_.sub_state_prov_reg as sub_sta23_1_3_, addressimp0_.tokenized_address as tokeniz24_1_3_, addressimp0_.verification_level as verific25_1_3_, addressimp0_.zip_four as zip_fou26_1_3_, phoneimpl1_.phone_id as phone_id1_118_0_, phoneimpl1_.country_code as country_2_118_0_, phoneimpl1_.extension as extensio3_118_0_, phoneimpl1_.is_active as is_activ4_118_0_, phoneimpl1_.is_default as is_defau5_118_0_, phoneimpl1_.phone_number as phone_nu6_118_0_, phoneimpl2_.phone_id as phone_id1_118_1_, phoneimpl2_.country_code as country_2_118_1_, phoneimpl2_.extension as extensio3_118_1_, phoneimpl2_.is_active as is_activ4_118_1_, phoneimpl2_.is_default as is_defau5_118_1_, phoneimpl2_.phone_number as phone_nu6_118_1_, phoneimpl3_.phone_id as phone_id1_118_2_, phoneimpl3_.country_code as country_2_118_2_, phoneimpl3_.extension as extensio3_118_2_, phoneimpl3_.is_active as is_activ4_118_2_, phoneimpl3_.is_default as is_defau5_118_2_, phoneimpl3_.phone_number as phone_nu6_118_2_ from blc_address addressimp0_ left outer join blc_phone phoneimpl1_ on addressimp0_.phone_fax_id=phoneimpl1_.phone_id left outer join blc_phone phoneimpl2_ on addressimp0_.phone_primary_id=phoneimpl2_.phone_id left outer join blc_phone phoneimpl3_ on addressimp0_.phone_secondary_id=phoneimpl3_.phone_id where addressimp0_.address_id=?
sql|select customerad0_.customer_address_id as customer1_41_4_, customerad0_.address_id as address_4_41_4_, customerad0_.address_name as address_2_41_4_, customerad0_.archived as archived3_41_4_, customerad0_.customer_id as customer5_41_4_, addressimp1_.address_id as address_1_1_0_, addressimp1_.address_line1 as address_2_1_0_, addressimp1_.address_line2 as address_3_1_0_, addressimp1_.address_line3 as address_4_1_0_, addressimp1_.city as city5_1_0_, addressimp1_.company_name as company_6_1_0_, addressimp1_.country as country27_1_0_, addressimp1_.county as county7_1_0_, addressimp1_.email_address as email_ad8_1_0_, addressimp1_.fax as fax9_1_0_, addressimp1_.first_name as first_n10_1_0_, addressimp1_.full_name as full_na11_1_0_, addressimp1_.is_active as is_acti12_1_0_, addressimp1_.is_business as is_busi13_1_0_, addressimp1_.is_default as is_defa14_1_0_, addressimp1_.is_mailing as is_mail15_1_0_, addressimp1_.is_street as is_stre16_1_0_, addressimp1_.iso_country_alpha2 as iso_cou28_1_0_, addressimp1_.iso_country_sub as iso_cou17_1_0_, addressimp1_.last_name as last_na18_1_0_, addressimp1_.phone_fax_id as phone_f29_1_0_, addressimp1_.phone_primary_id as phone_p30_1_0_, addressimp1_.phone_secondary_id as phone_s31_1_0_, addressimp1_.postal_code as postal_19_1_0_, addressimp1_.primary_phone as primary20_1_0_, addressimp1_.secondary_phone as seconda21_1_0_, addressimp1_.standardized as standar22_1_0_, addressimp1_.state_prov_region as state_p32_1_0_, addressimp1_.sub_state_prov_reg as sub_sta23_1_0_, addressimp1_.tokenized_address as tokeniz24_1_0_, addressimp1_.verification_level as verific25_1_0_, addressimp1_.zip_four as zip_fou26_1_0_, phoneimpl2_.phone_id as phone_id1_118_1_, phoneimpl2_.country_code as country_2_118_1_, phoneimpl2_.extension as extensio3_118_1_, phoneimpl2_.is_active as is_activ4_118_1_, phoneimpl2_.is_default as is_defau5_118_1_, phoneimpl2_.phone_number as phone_nu6_118_1_, phoneimpl3_.phone_id as phone_id1_118_2_, phoneimpl3_.country_code as country_2_118_2_, phoneimpl3_.extension as extensio3_118_2_, phoneimpl3_.is_active as is_activ4_118_2_, phoneimpl3_.is_default as is_defau5_118_2_, phoneimpl3_.phone_number as phone_nu6_118_2_, phoneimpl4_.phone_id as phone_id1_118_3_, phoneimpl4_.country_code as country_2_118_3_, phoneimpl4_.extension as extensio3_118_3_, phoneimpl4_.is_active as is_activ4_118_3_, phoneimpl4_.is_default as is_defau5_118_3_, phoneimpl4_.phone_number as phone_nu6_118_3_ from blc_customer_address customerad0_ inner join blc_address addressimp1_ on customerad0_.address_id=addressimp1_.address_id left outer join blc_phone phoneimpl2_ on addressimp1_.phone_fax_id=phoneimpl2_.phone_id left outer join blc_phone phoneimpl3_ on addressimp1_.phone_primary_id=phoneimpl3_.phone_id left outer join blc_phone phoneimpl4_ on addressimp1_.phone_secondary_id=phoneimpl4_.phone_id where customerad0_.customer_address_id=?
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.onapplicationevent(customerpersistedevent) 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomersessionattributename() 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomeridsessionattributename() 
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.resettransientfields(customer, customer) 
called| void org.broadleafcommerce.profile.web.core.customerstate.setcustomer(customer) 
called| void org.broadleafcommerce.core.web.controller.account.customeraddressform.setcustomeraddressid(long) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.getaddressaddedmessage() 
called| string org.broadleafcommerce.core.web.controller.account.abstractcustomeraddresscontroller.getcustomeraddressesredirect() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[True, False, True, False, True]
path_matching_number_k:[1, 1, 2, 2, 3]
path_precision_k:[1.0, 0.5, 0.6666666666666666, 0.5, 0.6]
path_ap:0.6631313131313131
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[True, True, True, True, True]
request_matching_number_k:[1, 2, 3, 4, 5]
request_precision_k:[1.0, 1.0, 1.0, 1.0, 1.0]
request_ap:0.9707362082362082

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address)
method:org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address)
[update blcaddress set null=?, addressid=?, fullname=?, firstname=?, lastname=?, emailaddress=?, companyname=?, addressline1=?, addressline2=?, addressline3=?, city=?, null=?, isocountrysub=?, substateprovreg=?, county=?, null=?, null=?, postalcode=?, zipfour=?, null=?, null=?, null=?, isdefault=?, isactive=?, isbusiness=?, isstreet=?, ismailing=?, tokenizedaddress=?, standardized=?, verificationlevel=?, primaryphone=?, secondaryphone=?, fax=? where addressid=?]
[insert into blcaddress (null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.makecustomeraddressdefault(long,long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readcustomeraddressbyidandcustomerid(long,long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.cleardefaultaddressforcustomer(long)
[select ca.address.id from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isdefault = true]
[update blcaddress a set a.isdefault = false where a.id in :addressids]
[select from blcaddress left outer join blcphone where blcaddress.addressid=?]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.20349760208306963
Semantic Similarity:0.38461538461538464
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5881129866984542
Path matching:True
Request matching:True
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandname(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandname(string,string)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address)
method:org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address)
[update blcaddress set null=?, addressid=?, fullname=?, firstname=?, lastname=?, emailaddress=?, companyname=?, addressline1=?, addressline2=?, addressline3=?, city=?, null=?, isocountrysub=?, substateprovreg=?, county=?, null=?, null=?, postalcode=?, zipfour=?, null=?, null=?, null=?, isdefault=?, isactive=?, isbusiness=?, isstreet=?, ismailing=?, tokenizedaddress=?, standardized=?, verificationlevel=?, primaryphone=?, secondaryphone=?, fax=? where addressid=?]
[insert into blcaddress (null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.makecustomeraddressdefault(long,long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readcustomeraddressbyidandcustomerid(long,long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.cleardefaultaddressforcustomer(long)
[select ca.address.id from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isdefault = true]
[update blcaddress a set a.isdefault = false where a.id in :addressids]
[select from blcaddress left outer join blcphone where blcaddress.addressid=?]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.20349760208306963
Semantic Similarity:0.38461538461538464
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5881129866984542
Path matching:False
Request matching:True
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address)
method:org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address)
[update blcaddress set null=?, addressid=?, fullname=?, firstname=?, lastname=?, emailaddress=?, companyname=?, addressline1=?, addressline2=?, addressline3=?, city=?, null=?, isocountrysub=?, substateprovreg=?, county=?, null=?, null=?, postalcode=?, zipfour=?, null=?, null=?, null=?, isdefault=?, isactive=?, isbusiness=?, isstreet=?, ismailing=?, tokenizedaddress=?, standardized=?, verificationlevel=?, primaryphone=?, secondaryphone=?, fax=? where addressid=?]
[insert into blcaddress (null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.makecustomeraddressdefault(long,long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readcustomeraddressbyidandcustomerid(long,long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.cleardefaultaddressforcustomer(long)
[select ca.address.id from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isdefault = true]
[update blcaddress a set a.isdefault = false where a.id in :addressids]
[select from blcaddress left outer join blcphone where blcaddress.addressid=?]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]

Syntactic Similarity:0.17159788070414742
Semantic Similarity:0.38461538461538464
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5562132653195321
Path matching:True
Request matching:True
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandname(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandname(string,string)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address)
method:org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address)
[update blcaddress set null=?, addressid=?, fullname=?, firstname=?, lastname=?, emailaddress=?, companyname=?, addressline1=?, addressline2=?, addressline3=?, city=?, null=?, isocountrysub=?, substateprovreg=?, county=?, null=?, null=?, postalcode=?, zipfour=?, null=?, null=?, null=?, isdefault=?, isactive=?, isbusiness=?, isstreet=?, ismailing=?, tokenizedaddress=?, standardized=?, verificationlevel=?, primaryphone=?, secondaryphone=?, fax=? where addressid=?]
[insert into blcaddress (null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.makecustomeraddressdefault(long,long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readcustomeraddressbyidandcustomerid(long,long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.cleardefaultaddressforcustomer(long)
[select ca.address.id from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isdefault = true]
[update blcaddress a set a.isdefault = false where a.id in :addressids]
[select from blcaddress left outer join blcphone where blcaddress.addressid=?]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]

Syntactic Similarity:0.17159788070414742
Semantic Similarity:0.38461538461538464
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5562132653195321
Path matching:False
Request matching:True
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address)
method:org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address)
[update blcaddress set null=?, addressid=?, fullname=?, firstname=?, lastname=?, emailaddress=?, companyname=?, addressline1=?, addressline2=?, addressline3=?, city=?, null=?, isocountrysub=?, substateprovreg=?, county=?, null=?, null=?, postalcode=?, zipfour=?, null=?, null=?, null=?, isdefault=?, isactive=?, isbusiness=?, isstreet=?, ismailing=?, tokenizedaddress=?, standardized=?, verificationlevel=?, primaryphone=?, secondaryphone=?, fax=? where addressid=?]
[insert into blcaddress (null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.makecustomeraddressdefault(long,long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readcustomeraddressbyidandcustomerid(long,long)

Syntactic Similarity:0.19640718736657636
Semantic Similarity:0.3076923076923077
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5040994950588841
Path matching:True
Request matching:True



======================================= 5 given SQL query ===========================================
Given SQL session queries: 
select countrysub0_.abbreviation as abbrevia1_36_, countrysub0_.alt_abbreviation as alt_abbr2_36_, countrysub0_.country_sub_cat as country_4_36_, countrysub0_.country as country5_36_, countrysub0_.name as name3_36_ from blc_country_sub countrysub0_ where countrysub0_.country=? and countrysub0_.alt_abbreviation=?
select countrysub0_.country_sub_cat_id as country_1_37_0_, countrysub0_.name as name2_37_0_ from blc_country_sub_cat countrysub0_ where countrysub0_.country_sub_cat_id=?
insert into blc_phone (country_code, extension, is_active, is_default, phone_number, phone_id) values (?, ?, ?, ?, ?, ?)
insert into blc_address (address_line1, address_line2, address_line3, city, company_name, country, county, email_address, fax, first_name, full_name, is_active, is_business, is_default, is_mailing, is_street, iso_country_alpha2, iso_country_sub, last_name, phone_fax_id, phone_primary_id, phone_secondary_id, postal_code, primary_phone, secondary_phone, standardized, state_prov_region, sub_state_prov_reg, tokenized_address, verification_level, zip_four, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
select customerad0_.customer_address_id as customer1_41_, customerad0_.address_id as address_4_41_, customerad0_.address_name as address_2_41_, customerad0_.archived as archived3_41_, customerad0_.customer_id as customer5_41_ from blc_customer_address customerad0_ cross join blc_address addressimp1_ where customerad0_.address_id=addressimp1_.address_id and customerad0_.customer_id=? and addressimp1_.is_active=1 and (customerad0_.archived is null or customerad0_.archived=?) order by customerad0_.customer_address_id
insert into blc_customer_address (address_id, address_name, archived, customer_id, customer_address_id) values (?, ?, ?, ?, ?)
Pre-processed SQL session queries : 
select from blccountrysub where countrysub.country=? and countrysub.alt_abbreviation=? 
select from blccountrysubcat where countrysub.country_sub_cat_id=? 
insert into blc_phone (country_code, extension, is_active, is_default, phone_number, phone_id) values (?, ?, ?, ?, ?, ?)
insert into blc_address (address_line, address_line, address_line, city, company_name, country, county, email_address, fax, first_name, full_name, is_active, is_business, is_default, is_mailing, is_street, iso_country_alpha, iso_country_sub, last_name, phone_fax_id, phone_primary_id, phone_secondary_id, postal_code, primary_phone, secondary_phone, standardized, state_prov_region, sub_state_prov_reg, tokenized_address, verification_level, zip_four, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
select from blccustomeraddress cross join blcaddress where customerad.address_id=addressimp.address_id and customerad.customer_id=? and addressimp.is_active=? and (customerad.archived is null or customerad.archived=?)  order by customerad.customeraddressid 
insert into blc_customer_address (address_id, address_name, archived, customer_id, customer_address_id) values (?, ?, ?, ?, ?)

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest, model, customeraddressform, bindingresult, redirectattributes) 
called| string com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest, model, customeraddressform, bindingresult, redirectattributes) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest, model, customeraddressform, bindingresult, redirectattributes) 
called| void org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address) 
called| countrysubdivision org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string, string) 
called| countrysubdivision org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string, string) 
sql|select countrysub0_.abbreviation as abbrevia1_36_, countrysub0_.alt_abbreviation as alt_abbr2_36_, countrysub0_.country_sub_cat as country_4_36_, countrysub0_.country as country5_36_, countrysub0_.name as name3_36_ from blc_country_sub countrysub0_ where countrysub0_.country=? and countrysub0_.alt_abbreviation=?
sql|select countrysub0_.country_sub_cat_id as country_1_37_0_, countrysub0_.name as name2_37_0_ from blc_country_sub_cat countrysub0_ where countrysub0_.country_sub_cat_id=?
called| void org.broadleafcommerce.core.web.controller.account.validator.customeraddressvalidator.validate(object, errors) 
called| void org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.removeunusedphones(customeraddressform) 
called| address org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address) 
called| address org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address) 
sql|insert into blc_phone (country_code, extension, is_active, is_default, phone_number, phone_id) values (?, ?, ?, ?, ?, ?)
sql|insert into blc_address (address_line1, address_line2, address_line3, city, company_name, country, county, email_address, fax, first_name, full_name, is_active, is_business, is_default, is_mailing, is_street, iso_country_alpha2, iso_country_sub, last_name, phone_fax_id, phone_primary_id, phone_secondary_id, postal_code, primary_phone, secondary_phone, standardized, state_prov_region, sub_state_prov_reg, tokenized_address, verification_level, zip_four, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
called| customeraddress org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create() 
called| customeraddress org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create() 
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| customeraddress org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress) 
called| list org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long) 
called| list org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long) 
sql|select customerad0_.customer_address_id as customer1_41_, customerad0_.address_id as address_4_41_, customerad0_.address_name as address_2_41_, customerad0_.archived as archived3_41_, customerad0_.customer_id as customer5_41_ from blc_customer_address customerad0_ cross join blc_address addressimp1_ where customerad0_.address_id=addressimp1_.address_id and customerad0_.customer_id=? and addressimp1_.is_active=? and (customerad0_.archived is null or customerad0_.archived=?) order by customerad0_.customer_address_id
called| customeraddress org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress) 
sql|insert into blc_customer_address (address_id, address_name, archived, customer_id, customer_address_id) values (?, ?, ?, ?, ?)
called| void org.broadleafcommerce.profile.core.domain.customeraddresspersistedentitylistener.customeraddressupdated(object) 
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.onapplicationevent(customerpersistedevent) 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomersessionattributename() 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomeridsessionattributename() 
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.resettransientfields(customer, customer) 
called| void org.broadleafcommerce.profile.web.core.customerstate.setcustomer(customer) 
called| void org.broadleafcommerce.core.web.controller.account.customeraddressform.setcustomeraddressid(long) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.getaddressaddedmessage() 
called| string org.broadleafcommerce.core.web.controller.account.abstractcustomeraddresscontroller.getcustomeraddressesredirect() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[True, False, False, False, True]
path_matching_number_k:[1, 1, 1, 1, 2]
path_precision_k:[1.0, 0.5, 0.3333333333333333, 0.25, 0.4]
path_ap:0.7
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[True, True, True, True, True]
request_matching_number_k:[1, 2, 3, 4, 5]
request_precision_k:[1.0, 1.0, 1.0, 1.0, 1.0]
request_ap:1.0

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address)
method:org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address)
[update blcaddress set null=?, addressid=?, fullname=?, firstname=?, lastname=?, emailaddress=?, companyname=?, addressline1=?, addressline2=?, addressline3=?, city=?, null=?, isocountrysub=?, substateprovreg=?, county=?, null=?, null=?, postalcode=?, zipfour=?, null=?, null=?, null=?, isdefault=?, isactive=?, isbusiness=?, isstreet=?, ismailing=?, tokenizedaddress=?, standardized=?, verificationlevel=?, primaryphone=?, secondaryphone=?, fax=? where addressid=?]
[insert into blcaddress (null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.22281824999568423
Semantic Similarity:0.375
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5978182499956842
Path matching:True
Request matching:True
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandname(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandname(string,string)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address)
method:org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address)
[update blcaddress set null=?, addressid=?, fullname=?, firstname=?, lastname=?, emailaddress=?, companyname=?, addressline1=?, addressline2=?, addressline3=?, city=?, null=?, isocountrysub=?, substateprovreg=?, county=?, null=?, null=?, postalcode=?, zipfour=?, null=?, null=?, null=?, isdefault=?, isactive=?, isbusiness=?, isstreet=?, ismailing=?, tokenizedaddress=?, standardized=?, verificationlevel=?, primaryphone=?, secondaryphone=?, fax=? where addressid=?]
[insert into blcaddress (null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.makecustomeraddressdefault(long,long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readcustomeraddressbyidandcustomerid(long,long)

Syntactic Similarity:0.22281824999568423
Semantic Similarity:0.375
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5978182499956842
Path matching:False
Request matching:True
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address)
method:org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address)
[update blcaddress set null=?, addressid=?, fullname=?, firstname=?, lastname=?, emailaddress=?, companyname=?, addressline1=?, addressline2=?, addressline3=?, city=?, null=?, isocountrysub=?, substateprovreg=?, county=?, null=?, null=?, postalcode=?, zipfour=?, null=?, null=?, null=?, isdefault=?, isactive=?, isbusiness=?, isstreet=?, ismailing=?, tokenizedaddress=?, standardized=?, verificationlevel=?, primaryphone=?, secondaryphone=?, fax=? where addressid=?]
[insert into blcaddress (null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.makecustomeraddressdefault(long,long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readcustomeraddressbyidandcustomerid(long,long)

Syntactic Similarity:0.22281824999568423
Semantic Similarity:0.375
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5978182499956842
Path matching:False
Request matching:True
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandname(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandname(string,string)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address)
method:org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address)
[update blcaddress set null=?, addressid=?, fullname=?, firstname=?, lastname=?, emailaddress=?, companyname=?, addressline1=?, addressline2=?, addressline3=?, city=?, null=?, isocountrysub=?, substateprovreg=?, county=?, null=?, null=?, postalcode=?, zipfour=?, null=?, null=?, null=?, isdefault=?, isactive=?, isbusiness=?, isstreet=?, ismailing=?, tokenizedaddress=?, standardized=?, verificationlevel=?, primaryphone=?, secondaryphone=?, fax=? where addressid=?]
[insert into blcaddress (null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.22281824999568423
Semantic Similarity:0.375
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5978182499956842
Path matching:False
Request matching:True
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address)
method:org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address)
[update blcaddress set null=?, addressid=?, fullname=?, firstname=?, lastname=?, emailaddress=?, companyname=?, addressline1=?, addressline2=?, addressline3=?, city=?, null=?, isocountrysub=?, substateprovreg=?, county=?, null=?, null=?, postalcode=?, zipfour=?, null=?, null=?, null=?, isdefault=?, isactive=?, isbusiness=?, isstreet=?, ismailing=?, tokenizedaddress=?, standardized=?, verificationlevel=?, primaryphone=?, secondaryphone=?, fax=? where addressid=?]
[insert into blcaddress (null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]

Syntactic Similarity:0.18972148651379334
Semantic Similarity:0.375
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5647214865137933
Path matching:True
Request matching:True



======================================= 6 given SQL query ===========================================
Given SQL session queries: 
insert into blc_phone (country_code, extension, is_active, is_default, phone_number, phone_id) values (?, ?, ?, ?, ?, ?)
insert into blc_address (address_line1, address_line2, address_line3, city, company_name, country, county, email_address, fax, first_name, full_name, is_active, is_business, is_default, is_mailing, is_street, iso_country_alpha2, iso_country_sub, last_name, phone_fax_id, phone_primary_id, phone_secondary_id, postal_code, primary_phone, secondary_phone, standardized, state_prov_region, sub_state_prov_reg, tokenized_address, verification_level, zip_four, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
update blc_customer_address set address_id=?, address_name=?, archived=?, customer_id=? where customer_address_id=?
select customerad0_.customer_address_id as customer1_41_, customerad0_.address_id as address_4_41_, customerad0_.address_name as address_2_41_, customerad0_.archived as archived3_41_, customerad0_.customer_id as customer5_41_ from blc_customer_address customerad0_ cross join blc_address addressimp1_ where customerad0_.address_id=addressimp1_.address_id and customerad0_.customer_id=? and addressimp1_.is_active=1 and (customerad0_.archived is null or customerad0_.archived=?) order by customerad0_.customer_address_id
Pre-processed SQL session queries : 
insert into blc_phone (country_code, extension, is_active, is_default, phone_number, phone_id) values (?, ?, ?, ?, ?, ?)
insert into blc_address (address_line, address_line, address_line, city, company_name, country, county, email_address, fax, first_name, full_name, is_active, is_business, is_default, is_mailing, is_street, iso_country_alpha, iso_country_sub, last_name, phone_fax_id, phone_primary_id, phone_secondary_id, postal_code, primary_phone, secondary_phone, standardized, state_prov_region, sub_state_prov_reg, tokenized_address, verification_level, zip_four, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
update blc_customer_address set address_id=?, address_name=?, archived=?, customer_id=? where customer_address_id=?
select from blccustomeraddress cross join blcaddress where customerad.address_id=addressimp.address_id and customerad.customer_id=? and addressimp.is_active=? and (customerad.archived is null or customerad.archived=?)  order by customerad.customeraddressid 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.account.managecustomeraddressescontroller.updatecustomeraddress(httpservletrequest, model, long, customeraddressform, bindingresult, redirectattributes) 
called| string com.community.controller.account.managecustomeraddressescontroller.updatecustomeraddress(httpservletrequest, model, long, customeraddressform, bindingresult, redirectattributes) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.updatecustomeraddress(httpservletrequest, model, long, customeraddressform, bindingresult, redirectattributes) 
called| void org.broadleafcommerce.core.web.controller.account.validator.customeraddressvalidator.validate(object, errors) 
called| customeraddress org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readcustomeraddressbyid(long) 
called| customeraddress org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readcustomeraddressbyid(long) 
called| void org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.validatecustomerowneddata(customeraddress) 
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| customeraddress org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress) 
called| list org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long) 
called| list org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long) 
sql|insert into blc_phone (country_code, extension, is_active, is_default, phone_number, phone_id) values (?, ?, ?, ?, ?, ?)
sql|insert into blc_address (address_line1, address_line2, address_line3, city, company_name, country, county, email_address, fax, first_name, full_name, is_active, is_business, is_default, is_mailing, is_street, iso_country_alpha2, iso_country_sub, last_name, phone_fax_id, phone_primary_id, phone_secondary_id, postal_code, primary_phone, secondary_phone, standardized, state_prov_region, sub_state_prov_reg, tokenized_address, verification_level, zip_four, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
sql|update blc_customer_address set address_id=?, address_name=?, archived=?, customer_id=? where customer_address_id=?
called| void org.broadleafcommerce.profile.core.domain.customeraddresspersistedentitylistener.customeraddressupdated(object) 
sql|select customerad0_.customer_address_id as customer1_41_, customerad0_.address_id as address_4_41_, customerad0_.address_name as address_2_41_, customerad0_.archived as archived3_41_, customerad0_.customer_id as customer5_41_ from blc_customer_address customerad0_ cross join blc_address addressimp1_ where customerad0_.address_id=addressimp1_.address_id and customerad0_.customer_id=? and addressimp1_.is_active=? and (customerad0_.archived is null or customerad0_.archived=?) order by customerad0_.customer_address_id
called| customeraddress org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress) 
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.onapplicationevent(customerpersistedevent) 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomersessionattributename() 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomeridsessionattributename() 
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.resettransientfields(customer, customer) 
called| void org.broadleafcommerce.profile.web.core.customerstate.setcustomer(customer) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.getaddressupdatedmessage() 
called| string org.broadleafcommerce.core.web.controller.account.abstractcustomeraddresscontroller.getcustomeraddressesredirect() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[False, False, False, False, False]
path_matching_number_k:[0, 0, 0, 0, 0]
path_precision_k:[0.0, 0.0, 0.0, 0.0, 0.0]
path_ap:0.08391608391608392
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[False, False, False, False, False]
request_matching_number_k:[0, 0, 0, 0, 0]
request_precision_k:[0.0, 0.0, 0.0, 0.0, 0.0]
request_ap:0.1398732846101267

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address)
method:org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address)
[update blcaddress set null=?, addressid=?, fullname=?, firstname=?, lastname=?, emailaddress=?, companyname=?, addressline1=?, addressline2=?, addressline3=?, city=?, null=?, isocountrysub=?, substateprovreg=?, county=?, null=?, null=?, postalcode=?, zipfour=?, null=?, null=?, null=?, isdefault=?, isactive=?, isbusiness=?, isstreet=?, ismailing=?, tokenizedaddress=?, standardized=?, verificationlevel=?, primaryphone=?, secondaryphone=?, fax=? where addressid=?]
[insert into blcaddress (null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.2505915635745636
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.7505915635745636
Path matching:False
Request matching:False
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandname(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandname(string,string)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address)
method:org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address)
[update blcaddress set null=?, addressid=?, fullname=?, firstname=?, lastname=?, emailaddress=?, companyname=?, addressline1=?, addressline2=?, addressline3=?, city=?, null=?, isocountrysub=?, substateprovreg=?, county=?, null=?, null=?, postalcode=?, zipfour=?, null=?, null=?, null=?, isdefault=?, isactive=?, isbusiness=?, isstreet=?, ismailing=?, tokenizedaddress=?, standardized=?, verificationlevel=?, primaryphone=?, secondaryphone=?, fax=? where addressid=?]
[insert into blcaddress (null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.makecustomeraddressdefault(long,long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readcustomeraddressbyidandcustomerid(long,long)

Syntactic Similarity:0.2505915635745636
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.7505915635745636
Path matching:False
Request matching:False
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address)
method:org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address)
[update blcaddress set null=?, addressid=?, fullname=?, firstname=?, lastname=?, emailaddress=?, companyname=?, addressline1=?, addressline2=?, addressline3=?, city=?, null=?, isocountrysub=?, substateprovreg=?, county=?, null=?, null=?, postalcode=?, zipfour=?, null=?, null=?, null=?, isdefault=?, isactive=?, isbusiness=?, isstreet=?, ismailing=?, tokenizedaddress=?, standardized=?, verificationlevel=?, primaryphone=?, secondaryphone=?, fax=? where addressid=?]
[insert into blcaddress (null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.makecustomeraddressdefault(long,long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readcustomeraddressbyidandcustomerid(long,long)

Syntactic Similarity:0.2505915635745636
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.7505915635745636
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandname(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandname(string,string)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address)
method:org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address)
[update blcaddress set null=?, addressid=?, fullname=?, firstname=?, lastname=?, emailaddress=?, companyname=?, addressline1=?, addressline2=?, addressline3=?, city=?, null=?, isocountrysub=?, substateprovreg=?, county=?, null=?, null=?, postalcode=?, zipfour=?, null=?, null=?, null=?, isdefault=?, isactive=?, isbusiness=?, isstreet=?, ismailing=?, tokenizedaddress=?, standardized=?, verificationlevel=?, primaryphone=?, secondaryphone=?, fax=? where addressid=?]
[insert into blcaddress (null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.2505915635745636
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.7505915635745636
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.addcustomeraddress(httpservletrequest,model,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.saveaddress(address)
method:org.broadleafcommerce.profile.core.dao.addressdaoimpl.save(address)
[update blcaddress set null=?, addressid=?, fullname=?, firstname=?, lastname=?, emailaddress=?, companyname=?, addressline1=?, addressline2=?, addressline3=?, city=?, null=?, isocountrysub=?, substateprovreg=?, county=?, null=?, null=?, postalcode=?, zipfour=?, null=?, null=?, null=?, isdefault=?, isactive=?, isbusiness=?, isstreet=?, ismailing=?, tokenizedaddress=?, standardized=?, verificationlevel=?, primaryphone=?, secondaryphone=?, fax=? where addressid=?]
[insert into blcaddress (null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.makecustomeraddressdefault(long,long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readcustomeraddressbyidandcustomerid(long,long)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]

Syntactic Similarity:0.21088580936324983
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.7108858093632499
Path matching:False
Request matching:False



======================================= 7 given SQL query ===========================================
Given SQL session queries: 
update blc_customer_address set archived = 'y' where customer_address_id = ?
Pre-processed SQL session queries : 
update blc_customer_address set archived = ? where customer_address_id = ?

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.account.managecustomeraddressescontroller.removecustomeraddress(httpservletrequest, model, long, redirectattributes) 
called| string com.community.controller.account.managecustomeraddressescontroller.removecustomeraddress(httpservletrequest, model, long, redirectattributes) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.removecustomeraddress(httpservletrequest, model, long, redirectattributes) 
called| customeraddress org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readcustomeraddressbyid(long) 
called| customeraddress org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readcustomeraddressbyid(long) 
called| void org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.validatecustomerowneddata(customeraddress) 
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| void org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.deletecustomeraddressbyid(long) 
called| void org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.deletecustomeraddressbyid(long) 
sql|update blc_customer_address set archived = ? where customer_address_id = ?
called| void org.broadleafcommerce.profile.core.domain.customeraddresspersistedentitylistener.customeraddressupdated(object) 
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.onapplicationevent(customerpersistedevent) 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomersessionattributename() 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomeridsessionattributename() 
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.resettransientfields(customer, customer) 
called| void org.broadleafcommerce.profile.web.core.customerstate.setcustomer(customer) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.getaddressremovedmessage() 
called| string org.broadleafcommerce.core.web.controller.account.abstractcustomeraddresscontroller.getcustomeraddressesredirect() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[False, False, False, False, False]
path_matching_number_k:[0, 0, 0, 0, 0]
path_precision_k:[0.0, 0.0, 0.0, 0.0, 0.0]
path_ap:0.06340579710144928
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[False, False, False, False, False]
request_matching_number_k:[0, 0, 0, 0, 0]
request_precision_k:[0.0, 0.0, 0.0, 0.0, 0.0]
request_ap:0.06340579710144928

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.checkout.shippinginfocontroller.savemultishipaddaddress(httpservletrequest,httpservletresponse,model,shippinginfoform,bindingresult)
method:org.broadleafcommerce.core.web.controller.checkout.broadleafshippinginfocontroller.savemultishipaddaddress(httpservletrequest,httpservletresponse,model,shippinginfoform,bindingresult)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandname(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandname(string,string)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.35738037595895084
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.6907137092922842
Path matching:False
Request matching:False
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.checkout.shippinginfocontroller.savemultishipaddaddress(httpservletrequest,httpservletresponse,model,shippinginfoform,bindingresult)
method:org.broadleafcommerce.core.web.controller.checkout.broadleafshippinginfocontroller.savemultishipaddaddress(httpservletrequest,httpservletresponse,model,shippinginfoform,bindingresult)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.makecustomeraddressdefault(long,long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readcustomeraddressbyidandcustomerid(long,long)

Syntactic Similarity:0.35738037595895084
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.6907137092922842
Path matching:False
Request matching:False
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.checkout.shippinginfocontroller.savemultishipaddaddress(httpservletrequest,httpservletresponse,model,shippinginfoform,bindingresult)
method:org.broadleafcommerce.core.web.controller.checkout.broadleafshippinginfocontroller.savemultishipaddaddress(httpservletrequest,httpservletresponse,model,shippinginfoform,bindingresult)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.35738037595895084
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.6907137092922842
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.checkout.shippinginfocontroller.savemultishipaddaddress(httpservletrequest,httpservletresponse,model,shippinginfoform,bindingresult)
method:org.broadleafcommerce.core.web.controller.checkout.broadleafshippinginfocontroller.savemultishipaddaddress(httpservletrequest,httpservletresponse,model,shippinginfoform,bindingresult)
method:org.broadleafcommerce.profile.core.service.addressserviceimpl.populateaddressisocountrysub(address)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandaltabbreviation(string,string)
method:org.broadleafcommerce.profile.core.service.countrysubdivisionserviceimpl.findsubdivisionbycountryandname(string,string)
method:org.broadleafcommerce.profile.core.dao.countrysubdivisiondaoimpl.findsubdivisionbycountryandname(string,string)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.create()
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.create()
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.makecustomeraddressdefault(long,long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readcustomeraddressbyidandcustomerid(long,long)

Syntactic Similarity:0.35738037595895084
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.6907137092922842
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomeraddressescontroller.updatecustomeraddress(httpservletrequest,model,long,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomeraddressescontroller.updatecustomeraddress(httpservletrequest,model,long,customeraddressform,bindingresult,redirectattributes)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readcustomeraddressbyid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readcustomeraddressbyid(long)
[select null, customeraddressid, addressname, null, null, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax from blccustomeraddress  left outer join blccustomer on blccustomeraddress=blccustomer  left outer join blcaddress on blccustomeraddress=blcaddress  where customeraddressid=?]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.savecustomeraddress(customeraddress)
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.readactivecustomeraddressesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.readactivecustomeraddressesbycustomerid(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isactive = true and (ca.archivestatus.archived is null or ca.archivestatus.archived = :archived) order by ca.id]
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.save(customeraddress)
[update blccustomeraddress set null=?, customeraddressid=?, addressname=?, null=?, null=?, null=? where customeraddressid=?]
[insert into blccustomeraddress (null, customeraddressid, addressname, null, null, null) values (?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.33604398969884236
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.6693773230321757
Path matching:False
Request matching:False



======================================= 8 given SQL query ===========================================
Given SQL session queries: 
select customerpa0_.customer_payment_id as customer1_45_0_, customerpa0_.address_id as address_6_45_0_, customerpa0_.customer_id as customer7_45_0_, customerpa0_.is_default as is_defau2_45_0_, customerpa0_.gateway_type as gateway_3_45_0_, customerpa0_.payment_token as payment_4_45_0_, customerpa0_.payment_type as payment_5_45_0_, addressimp1_.address_id as address_1_1_1_, addressimp1_.address_line1 as address_2_1_1_, addressimp1_.address_line2 as address_3_1_1_, addressimp1_.address_line3 as address_4_1_1_, addressimp1_.city as city5_1_1_, addressimp1_.company_name as company_6_1_1_, addressimp1_.country as country27_1_1_, addressimp1_.county as county7_1_1_, addressimp1_.email_address as email_ad8_1_1_, addressimp1_.fax as fax9_1_1_, addressimp1_.first_name as first_n10_1_1_, addressimp1_.full_name as full_na11_1_1_, addressimp1_.is_active as is_acti12_1_1_, addressimp1_.is_business as is_busi13_1_1_, addressimp1_.is_default as is_defa14_1_1_, addressimp1_.is_mailing as is_mail15_1_1_, addressimp1_.is_street as is_stre16_1_1_, addressimp1_.iso_country_alpha2 as iso_cou28_1_1_, addressimp1_.iso_country_sub as iso_cou17_1_1_, addressimp1_.last_name as last_na18_1_1_, addressimp1_.phone_fax_id as phone_f29_1_1_, addressimp1_.phone_primary_id as phone_p30_1_1_, addressimp1_.phone_secondary_id as phone_s31_1_1_, addressimp1_.postal_code as postal_19_1_1_, addressimp1_.primary_phone as primary20_1_1_, addressimp1_.secondary_phone as seconda21_1_1_, addressimp1_.standardized as standar22_1_1_, addressimp1_.state_prov_region as state_p32_1_1_, addressimp1_.sub_state_prov_reg as sub_sta23_1_1_, addressimp1_.tokenized_address as tokeniz24_1_1_, addressimp1_.verification_level as verific25_1_1_, addressimp1_.zip_four as zip_fou26_1_1_, customerim2_.customer_id as customer1_40_2_, customerim2_.created_by as created_2_40_2_, customerim2_.date_created as date_cre3_40_2_, customerim2_.date_updated as date_upd4_40_2_, customerim2_.updated_by as updated_5_40_2_, customerim2_.challenge_answer as challeng6_40_2_, customerim2_.challenge_question_id as challen20_40_2_, customerim2_.locale_code as locale_21_40_2_, customerim2_.deactivated as deactiva7_40_2_, customerim2_.email_address as email_ad8_40_2_, customerim2_.external_id as external9_40_2_, customerim2_.first_name as first_n10_40_2_, customerim2_.is_tax_exempt as is_tax_11_40_2_, customerim2_.last_name as last_na12_40_2_, customerim2_.password as passwor13_40_2_, customerim2_.password_change_required as passwor14_40_2_, customerim2_.is_preview as is_prev15_40_2_, customerim2_.receive_email as receive16_40_2_, customerim2_.is_registered as is_regi17_40_2_, customerim2_.tax_exemption_code as tax_exe18_40_2_, customerim2_.user_name as user_na19_40_2_ from blc_customer_payment customerpa0_ left outer join blc_address addressimp1_ on customerpa0_.address_id=addressimp1_.address_id inner join blc_customer customerim2_ on customerpa0_.customer_id=customerim2_.customer_id where customerpa0_.customer_payment_id=?
select customerpa0_.customer_payment_id as customer1_45_, customerpa0_.address_id as address_6_45_, customerpa0_.customer_id as customer7_45_, customerpa0_.is_default as is_defau2_45_, customerpa0_.gateway_type as gateway_3_45_, customerpa0_.payment_token as payment_4_45_, customerpa0_.payment_type as payment_5_45_ from blc_customer_payment customerpa0_ where customerpa0_.customer_id=? order by customerpa0_.customer_payment_id
select addressimp0_.address_id as address_1_1_0_, addressimp0_.address_line1 as address_2_1_0_, addressimp0_.address_line2 as address_3_1_0_, addressimp0_.address_line3 as address_4_1_0_, addressimp0_.city as city5_1_0_, addressimp0_.company_name as company_6_1_0_, addressimp0_.country as country27_1_0_, addressimp0_.county as county7_1_0_, addressimp0_.email_address as email_ad8_1_0_, addressimp0_.fax as fax9_1_0_, addressimp0_.first_name as first_n10_1_0_, addressimp0_.full_name as full_na11_1_0_, addressimp0_.is_active as is_acti12_1_0_, addressimp0_.is_business as is_busi13_1_0_, addressimp0_.is_default as is_defa14_1_0_, addressimp0_.is_mailing as is_mail15_1_0_, addressimp0_.is_street as is_stre16_1_0_, addressimp0_.iso_country_alpha2 as iso_cou28_1_0_, addressimp0_.iso_country_sub as iso_cou17_1_0_, addressimp0_.last_name as last_na18_1_0_, addressimp0_.phone_fax_id as phone_f29_1_0_, addressimp0_.phone_primary_id as phone_p30_1_0_, addressimp0_.phone_secondary_id as phone_s31_1_0_, addressimp0_.postal_code as postal_19_1_0_, addressimp0_.primary_phone as primary20_1_0_, addressimp0_.secondary_phone as seconda21_1_0_, addressimp0_.standardized as standar22_1_0_, addressimp0_.state_prov_region as state_p32_1_0_, addressimp0_.sub_state_prov_reg as sub_sta23_1_0_, addressimp0_.tokenized_address as tokeniz24_1_0_, addressimp0_.verification_level as verific25_1_0_, addressimp0_.zip_four as zip_fou26_1_0_ from blc_address addressimp0_ where addressimp0_.address_id=?
update blc_customer_payment set address_id=?, customer_id=?, is_default=?, gateway_type=?, payment_token=?, payment_type=? where customer_payment_id=?
Pre-processed SQL session queries : 
select from blccustomerpayment left outer join blcaddress inner join blccustomer where customerpa.customer_payment_id=? 
select from blccustomerpayment where customerpa.customer_id=?  order by customerpa.customerpaymentid 
select from blcaddress where addressimp.address_id=? 
update blc_customer_payment set address_id=?, customer_id=?, is_default=?, gateway_type=?, payment_token=?, payment_type=? where customer_payment_id=?

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.account.managecustomerpaymentscontroller.makedefaultcustomerpayment(httpservletrequest, model, paymentinfoform, long) 
called| string com.community.controller.account.managecustomerpaymentscontroller.makedefaultcustomerpayment(httpservletrequest, model, paymentinfoform, long) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomerpaymentscontroller.makedefaultcustomerpayment(httpservletrequest, model, long) 
called| customerpayment org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.readcustomerpaymentbyid(long) 
called| customerpayment org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.readcustomerpaymentbyid(long) 
sql|select customerpa0_.customer_payment_id as customer1_45_0_, customerpa0_.address_id as address_6_45_0_, customerpa0_.customer_id as customer7_45_0_, customerpa0_.is_default as is_defau2_45_0_, customerpa0_.gateway_type as gateway_3_45_0_, customerpa0_.payment_token as payment_4_45_0_, customerpa0_.payment_type as payment_5_45_0_, addressimp1_.address_id as address_1_1_1_, addressimp1_.address_line1 as address_2_1_1_, addressimp1_.address_line2 as address_3_1_1_, addressimp1_.address_line3 as address_4_1_1_, addressimp1_.city as city5_1_1_, addressimp1_.company_name as company_6_1_1_, addressimp1_.country as country27_1_1_, addressimp1_.county as county7_1_1_, addressimp1_.email_address as email_ad8_1_1_, addressimp1_.fax as fax9_1_1_, addressimp1_.first_name as first_n10_1_1_, addressimp1_.full_name as full_na11_1_1_, addressimp1_.is_active as is_acti12_1_1_, addressimp1_.is_business as is_busi13_1_1_, addressimp1_.is_default as is_defa14_1_1_, addressimp1_.is_mailing as is_mail15_1_1_, addressimp1_.is_street as is_stre16_1_1_, addressimp1_.iso_country_alpha2 as iso_cou28_1_1_, addressimp1_.iso_country_sub as iso_cou17_1_1_, addressimp1_.last_name as last_na18_1_1_, addressimp1_.phone_fax_id as phone_f29_1_1_, addressimp1_.phone_primary_id as phone_p30_1_1_, addressimp1_.phone_secondary_id as phone_s31_1_1_, addressimp1_.postal_code as postal_19_1_1_, addressimp1_.primary_phone as primary20_1_1_, addressimp1_.secondary_phone as seconda21_1_1_, addressimp1_.standardized as standar22_1_1_, addressimp1_.state_prov_region as state_p32_1_1_, addressimp1_.sub_state_prov_reg as sub_sta23_1_1_, addressimp1_.tokenized_address as tokeniz24_1_1_, addressimp1_.verification_level as verific25_1_1_, addressimp1_.zip_four as zip_fou26_1_1_, customerim2_.customer_id as customer1_40_2_, customerim2_.created_by as created_2_40_2_, customerim2_.date_created as date_cre3_40_2_, customerim2_.date_updated as date_upd4_40_2_, customerim2_.updated_by as updated_5_40_2_, customerim2_.challenge_answer as challeng6_40_2_, customerim2_.challenge_question_id as challen20_40_2_, customerim2_.locale_code as locale_21_40_2_, customerim2_.deactivated as deactiva7_40_2_, customerim2_.email_address as email_ad8_40_2_, customerim2_.external_id as external9_40_2_, customerim2_.first_name as first_n10_40_2_, customerim2_.is_tax_exempt as is_tax_11_40_2_, customerim2_.last_name as last_na12_40_2_, customerim2_.password as passwor13_40_2_, customerim2_.password_change_required as passwor14_40_2_, customerim2_.is_preview as is_prev15_40_2_, customerim2_.receive_email as receive16_40_2_, customerim2_.is_registered as is_regi17_40_2_, customerim2_.tax_exemption_code as tax_exe18_40_2_, customerim2_.user_name as user_na19_40_2_ from blc_customer_payment customerpa0_ left outer join blc_address addressimp1_ on customerpa0_.address_id=addressimp1_.address_id inner join blc_customer customerim2_ on customerpa0_.customer_id=customerim2_.customer_id where customerpa0_.customer_payment_id=?
called| customerpayment org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.setasdefaultpayment(customerpayment) 
called| customerpayment org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.finddefaultpaymentforcustomer(customer) 
called| list org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.readcustomerpaymentsbycustomerid(long) 
called| list org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.readcustomerpaymentsbycustomerid(long) 
sql|select customerpa0_.customer_payment_id as customer1_45_, customerpa0_.address_id as address_6_45_, customerpa0_.customer_id as customer7_45_, customerpa0_.is_default as is_defau2_45_, customerpa0_.gateway_type as gateway_3_45_, customerpa0_.payment_token as payment_4_45_, customerpa0_.payment_type as payment_5_45_ from blc_customer_payment customerpa0_ where customerpa0_.customer_id=? order by customerpa0_.customer_payment_id
sql|select addressimp0_.address_id as address_1_1_0_, addressimp0_.address_line1 as address_2_1_0_, addressimp0_.address_line2 as address_3_1_0_, addressimp0_.address_line3 as address_4_1_0_, addressimp0_.city as city5_1_0_, addressimp0_.company_name as company_6_1_0_, addressimp0_.country as country27_1_0_, addressimp0_.county as county7_1_0_, addressimp0_.email_address as email_ad8_1_0_, addressimp0_.fax as fax9_1_0_, addressimp0_.first_name as first_n10_1_0_, addressimp0_.full_name as full_na11_1_0_, addressimp0_.is_active as is_acti12_1_0_, addressimp0_.is_business as is_busi13_1_0_, addressimp0_.is_default as is_defa14_1_0_, addressimp0_.is_mailing as is_mail15_1_0_, addressimp0_.is_street as is_stre16_1_0_, addressimp0_.iso_country_alpha2 as iso_cou28_1_0_, addressimp0_.iso_country_sub as iso_cou17_1_0_, addressimp0_.last_name as last_na18_1_0_, addressimp0_.phone_fax_id as phone_f29_1_0_, addressimp0_.phone_primary_id as phone_p30_1_0_, addressimp0_.phone_secondary_id as phone_s31_1_0_, addressimp0_.postal_code as postal_19_1_0_, addressimp0_.primary_phone as primary20_1_0_, addressimp0_.secondary_phone as seconda21_1_0_, addressimp0_.standardized as standar22_1_0_, addressimp0_.state_prov_region as state_p32_1_0_, addressimp0_.sub_state_prov_reg as sub_sta23_1_0_, addressimp0_.tokenized_address as tokeniz24_1_0_, addressimp0_.verification_level as verific25_1_0_, addressimp0_.zip_four as zip_fou26_1_0_ from blc_address addressimp0_ where addressimp0_.address_id=?
called| customerpayment org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.savecustomerpayment(customerpayment) 
called| customerpayment org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.save(customerpayment) 
sql|update blc_customer_payment set address_id=?, customer_id=?, is_default=?, gateway_type=?, payment_token=?, payment_type=? where customer_payment_id=?
called| void org.broadleafcommerce.profile.core.domain.customerpaymentpersistedentitylistener.customerpaymentupdated(object) 
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.onapplicationevent(customerpersistedevent) 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomersessionattributename() 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomeridsessionattributename() 
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.resettransientfields(customer, customer) 
called| void org.broadleafcommerce.profile.web.core.customerstate.setcustomer(customer) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomerpaymentscontroller.getcustomerpaymentview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[True, True, False, False, False]
path_matching_number_k:[1, 2, 2, 2, 2]
path_precision_k:[1.0, 1.0, 0.6666666666666666, 0.5, 0.4]
path_ap:1.0
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[True, True, False, False, False]
request_matching_number_k:[1, 2, 2, 2, 2]
request_precision_k:[1.0, 1.0, 0.6666666666666666, 0.5, 0.4]
request_ap:1.0

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomerpaymentscontroller.makedefaultcustomerpayment(httpservletrequest,model,paymentinfoform,long)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomerpaymentscontroller.makedefaultcustomerpayment(httpservletrequest,model,long)
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.readcustomerpaymentbyid(long)
method:org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.readcustomerpaymentbyid(long)
[select null, customerpaymentid, null, null, paymenttoken, paymenttype, gatewaytype, isdefault, fieldvalue, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax from blccustomerpayment  left outer join blccustomer on blccustomerpayment=blccustomer  left outer join blcaddress on blccustomerpayment=blcaddress  where customerpaymentid=?]
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.setasdefaultpayment(customerpayment)
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.finddefaultpaymentforcustomer(customer)
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.readcustomerpaymentsbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.readcustomerpaymentsbycustomerid(long)
[select cp from blccustomerpayment cp where cp.customer.id = :customerid order by cp.id]
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.savecustomerpayment(customerpayment)
method:org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.save(customerpayment)
[update blccustomerpayment set null=?, customerpaymentid=?, null=?, null=?, paymenttoken=?, paymenttype=?, gatewaytype=?, isdefault=?, fieldvalue=? where customerpaymentid=?]
[insert into blccustomerpayment (null, customerpaymentid, null, null, paymenttoken, paymenttype, gatewaytype, isdefault, fieldvalue) values (?, ?, ?, ?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.23203950699303566
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.7320395069930357
Path matching:True
Request matching:True
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomerpaymentscontroller.makedefaultcustomerpayment(httpservletrequest,model,paymentinfoform,long)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomerpaymentscontroller.makedefaultcustomerpayment(httpservletrequest,model,long)
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.readcustomerpaymentbyid(long)
method:org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.readcustomerpaymentbyid(long)
[select null, customerpaymentid, null, null, paymenttoken, paymenttype, gatewaytype, isdefault, fieldvalue, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax from blccustomerpayment  left outer join blccustomer on blccustomerpayment=blccustomer  left outer join blcaddress on blccustomerpayment=blcaddress  where customerpaymentid=?]

Syntactic Similarity:0.16676182820683685
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5000951615401702
Path matching:True
Request matching:True
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomerpaymentscontroller.removecustomerpayment(httpservletrequest,model,paymentinfoform,long)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomerpaymentscontroller.removecustomerpayment(httpservletrequest,model,long)
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.deletecustomerpaymentbyid(long)
method:org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.deletecustomerpaymentbyid(long)
[delete from blccustomerpayment where customerpaymentid=?]
method:org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.readcustomerpaymentbyid(long)
[select null, customerpaymentid, null, null, paymenttoken, paymenttype, gatewaytype, isdefault, fieldvalue, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax from blccustomerpayment  left outer join blccustomer on blccustomerpayment=blccustomer  left outer join blcaddress on blccustomerpayment=blcaddress  where customerpaymentid=?]

Syntactic Similarity:0.20247335538758254
Semantic Similarity:0.25
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.45247335538758254
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.checkout.checkoutcontroller.getcheckoutstagepartial(httpservletrequest,httpservletresponse,model,shippinginfoform,paymentinfoform,giftcardinfoform,customercreditinfoform,string,redirectattributes)
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.prepopulateinfoforms(shippinginfoform,paymentinfoform)
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.prepopulateshippinginfoform(shippinginfoform,order)
method:org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.getfirstshippablefulfillmentgroup(order)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.finddefaultcustomeraddress(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.finddefaultcustomeraddress(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isdefault = true]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.prepopulatepaymentinfoform(paymentinfoform,shippinginfoform,order)
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getbillingaddress(order)
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getaddressfromccorderpayment(order)
method:org.broadleafcommerce.core.payment.service.orderpaymentserviceimpl.readpaymentsfororder(order)
method:org.broadleafcommerce.core.payment.dao.orderpaymentdaoimpl.readpaymentsfororder(order)
[select payment from blcorderpayment payment where payment.order.id = :orderid and (payment.archivestatus.archived is null or payment.archivestatus.archived = 'n')]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getcustomerpaymentusedfororder()
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.readcustomerpaymentsbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.readcustomerpaymentsbycustomerid(long)
[select cp from blccustomerpayment cp where cp.customer.id = :customerid order by cp.id]
method:org.broadleafcommerce.core.web.order.service.cartstateserviceimpl.carthascreditcardpaymentwithsametoken(string)
method:org.broadleafcommerce.core.payment.service.orderpaymentserviceimpl.readpaymentsfororder(order)
method:org.broadleafcommerce.core.payment.dao.orderpaymentdaoimpl.readpaymentsfororder(order)
[select payment from blcorderpayment payment where payment.order.id = :orderid and (payment.archivestatus.archived is null or payment.archivestatus.archived = 'n')]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getshouldusecustomerpaymentdefaultvalue(customerpayment)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerpayments()
[select null, customerpaymentid, null, null, paymenttoken, paymenttype, gatewaytype, isdefault, fieldvalue, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax from blccustomerpayment  left outer join blcaddress on blccustomerpayment=blcaddress  where customerpaymentid=?]
method:org.broadleafcommerce.core.web.order.service.cartstateserviceimpl.carthastemporarycreditcard()
method:org.broadleafcommerce.core.payment.service.orderpaymentserviceimpl.readpaymentsfororder(order)
method:org.broadleafcommerce.core.payment.dao.orderpaymentdaoimpl.readpaymentsfororder(order)
[select payment from blcorderpayment payment where payment.order.id = :orderid and (payment.archivestatus.archived is null or payment.archivestatus.archived = 'n')]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getshouldsavenewpaymentdefaultvalue()
method:org.broadleafcommerce.core.web.order.service.cartstateserviceimpl.carthastemporarycreditcard()
method:org.broadleafcommerce.core.payment.service.orderpaymentserviceimpl.readpaymentsfororder(order)
method:org.broadleafcommerce.core.payment.dao.orderpaymentdaoimpl.readpaymentsfororder(order)
[select payment from blcorderpayment payment where payment.order.id = :orderid and (payment.archivestatus.archived is null or payment.archivestatus.archived = 'n')]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.determineifsavedaddressisselected(model,shippinginfoform,paymentinfoform)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomeraddresses()
[select null, customeraddressid, addressname, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax from blccustomeraddress  left outer join blcaddress on blccustomeraddress=blcaddress  where customeraddressid=?]

Syntactic Similarity:0.08337176932894907
Semantic Similarity:0.16666666666666666
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.2500384359956157
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.checkout.checkoutcontroller.getcheckoutstagepartial(httpservletrequest,httpservletresponse,model,shippinginfoform,paymentinfoform,giftcardinfoform,customercreditinfoform,string,redirectattributes)
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.prepopulateinfoforms(shippinginfoform,paymentinfoform)
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.prepopulateshippinginfoform(shippinginfoform,order)
method:org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.getfirstshippablefulfillmentgroup(order)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.prepopulatepaymentinfoform(paymentinfoform,shippinginfoform,order)
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getbillingaddress(order)
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getaddressfromccorderpayment(order)
method:org.broadleafcommerce.core.payment.service.orderpaymentserviceimpl.readpaymentsfororder(order)
method:org.broadleafcommerce.core.payment.dao.orderpaymentdaoimpl.readpaymentsfororder(order)
[select payment from blcorderpayment payment where payment.order.id = :orderid and (payment.archivestatus.archived is null or payment.archivestatus.archived = 'n')]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getcustomerpaymentusedfororder()
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.readcustomerpaymentsbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.readcustomerpaymentsbycustomerid(long)
[select cp from blccustomerpayment cp where cp.customer.id = :customerid order by cp.id]
method:org.broadleafcommerce.core.web.order.service.cartstateserviceimpl.carthascreditcardpaymentwithsametoken(string)
method:org.broadleafcommerce.core.payment.service.orderpaymentserviceimpl.readpaymentsfororder(order)
method:org.broadleafcommerce.core.payment.dao.orderpaymentdaoimpl.readpaymentsfororder(order)
[select payment from blcorderpayment payment where payment.order.id = :orderid and (payment.archivestatus.archived is null or payment.archivestatus.archived = 'n')]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getshouldusecustomerpaymentdefaultvalue(customerpayment)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerpayments()
[select null, customerpaymentid, null, null, paymenttoken, paymenttype, gatewaytype, isdefault, fieldvalue, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax from blccustomerpayment  left outer join blcaddress on blccustomerpayment=blcaddress  where customerpaymentid=?]
method:org.broadleafcommerce.core.web.order.service.cartstateserviceimpl.carthastemporarycreditcard()
method:org.broadleafcommerce.core.payment.service.orderpaymentserviceimpl.readpaymentsfororder(order)
method:org.broadleafcommerce.core.payment.dao.orderpaymentdaoimpl.readpaymentsfororder(order)
[select payment from blcorderpayment payment where payment.order.id = :orderid and (payment.archivestatus.archived is null or payment.archivestatus.archived = 'n')]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getshouldsavenewpaymentdefaultvalue()
method:org.broadleafcommerce.core.web.order.service.cartstateserviceimpl.carthastemporarycreditcard()
method:org.broadleafcommerce.core.payment.service.orderpaymentserviceimpl.readpaymentsfororder(order)
method:org.broadleafcommerce.core.payment.dao.orderpaymentdaoimpl.readpaymentsfororder(order)
[select payment from blcorderpayment payment where payment.order.id = :orderid and (payment.archivestatus.archived is null or payment.archivestatus.archived = 'n')]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.determineifsavedaddressisselected(model,shippinginfoform,paymentinfoform)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomeraddresses()
[select null, customeraddressid, addressname, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax from blccustomeraddress  left outer join blcaddress on blccustomeraddress=blcaddress  where customeraddressid=?]

Syntactic Similarity:0.08078268900053587
Semantic Similarity:0.16666666666666666
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.24744935566720253
Path matching:False
Request matching:False



======================================= 9 given SQL query ===========================================
Given SQL session queries: 
select customerpa0_.customer_payment_id as customer1_45_0_, customerpa0_.address_id as address_6_45_0_, customerpa0_.customer_id as customer7_45_0_, customerpa0_.is_default as is_defau2_45_0_, customerpa0_.gateway_type as gateway_3_45_0_, customerpa0_.payment_token as payment_4_45_0_, customerpa0_.payment_type as payment_5_45_0_, addressimp1_.address_id as address_1_1_1_, addressimp1_.address_line1 as address_2_1_1_, addressimp1_.address_line2 as address_3_1_1_, addressimp1_.address_line3 as address_4_1_1_, addressimp1_.city as city5_1_1_, addressimp1_.company_name as company_6_1_1_, addressimp1_.country as country27_1_1_, addressimp1_.county as county7_1_1_, addressimp1_.email_address as email_ad8_1_1_, addressimp1_.fax as fax9_1_1_, addressimp1_.first_name as first_n10_1_1_, addressimp1_.full_name as full_na11_1_1_, addressimp1_.is_active as is_acti12_1_1_, addressimp1_.is_business as is_busi13_1_1_, addressimp1_.is_default as is_defa14_1_1_, addressimp1_.is_mailing as is_mail15_1_1_, addressimp1_.is_street as is_stre16_1_1_, addressimp1_.iso_country_alpha2 as iso_cou28_1_1_, addressimp1_.iso_country_sub as iso_cou17_1_1_, addressimp1_.last_name as last_na18_1_1_, addressimp1_.phone_fax_id as phone_f29_1_1_, addressimp1_.phone_primary_id as phone_p30_1_1_, addressimp1_.phone_secondary_id as phone_s31_1_1_, addressimp1_.postal_code as postal_19_1_1_, addressimp1_.primary_phone as primary20_1_1_, addressimp1_.secondary_phone as seconda21_1_1_, addressimp1_.standardized as standar22_1_1_, addressimp1_.state_prov_region as state_p32_1_1_, addressimp1_.sub_state_prov_reg as sub_sta23_1_1_, addressimp1_.tokenized_address as tokeniz24_1_1_, addressimp1_.verification_level as verific25_1_1_, addressimp1_.zip_four as zip_fou26_1_1_, customerim2_.customer_id as customer1_40_2_, customerim2_.created_by as created_2_40_2_, customerim2_.date_created as date_cre3_40_2_, customerim2_.date_updated as date_upd4_40_2_, customerim2_.updated_by as updated_5_40_2_, customerim2_.challenge_answer as challeng6_40_2_, customerim2_.challenge_question_id as challen20_40_2_, customerim2_.locale_code as locale_21_40_2_, customerim2_.deactivated as deactiva7_40_2_, customerim2_.email_address as email_ad8_40_2_, customerim2_.external_id as external9_40_2_, customerim2_.first_name as first_n10_40_2_, customerim2_.is_tax_exempt as is_tax_11_40_2_, customerim2_.last_name as last_na12_40_2_, customerim2_.password as passwor13_40_2_, customerim2_.password_change_required as passwor14_40_2_, customerim2_.is_preview as is_prev15_40_2_, customerim2_.receive_email as receive16_40_2_, customerim2_.is_registered as is_regi17_40_2_, customerim2_.tax_exemption_code as tax_exe18_40_2_, customerim2_.user_name as user_na19_40_2_ from blc_customer_payment customerpa0_ left outer join blc_address addressimp1_ on customerpa0_.address_id=addressimp1_.address_id inner join blc_customer customerim2_ on customerpa0_.customer_id=customerim2_.customer_id where customerpa0_.customer_payment_id=?
delete from blc_customer_payment_fields where customer_payment_id=?
delete from blc_customer_payment where customer_payment_id=?
Pre-processed SQL session queries : 
select from blccustomerpayment left outer join blcaddress inner join blccustomer where customerpa.customer_payment_id=? 
delete from blc_customer_payment_fields where customer_payment_id=?
delete from blc_customer_payment where customer_payment_id=?

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.account.managecustomerpaymentscontroller.removecustomerpayment(httpservletrequest, model, paymentinfoform, long) 
called| string com.community.controller.account.managecustomerpaymentscontroller.removecustomerpayment(httpservletrequest, model, paymentinfoform, long) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomerpaymentscontroller.removecustomerpayment(httpservletrequest, model, long) 
called| void org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.deletecustomerpaymentbyid(long) 
called| void org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.deletecustomerpaymentbyid(long) 
called| customerpayment org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.readcustomerpaymentbyid(long) 
sql|select customerpa0_.customer_payment_id as customer1_45_0_, customerpa0_.address_id as address_6_45_0_, customerpa0_.customer_id as customer7_45_0_, customerpa0_.is_default as is_defau2_45_0_, customerpa0_.gateway_type as gateway_3_45_0_, customerpa0_.payment_token as payment_4_45_0_, customerpa0_.payment_type as payment_5_45_0_, addressimp1_.address_id as address_1_1_1_, addressimp1_.address_line1 as address_2_1_1_, addressimp1_.address_line2 as address_3_1_1_, addressimp1_.address_line3 as address_4_1_1_, addressimp1_.city as city5_1_1_, addressimp1_.company_name as company_6_1_1_, addressimp1_.country as country27_1_1_, addressimp1_.county as county7_1_1_, addressimp1_.email_address as email_ad8_1_1_, addressimp1_.fax as fax9_1_1_, addressimp1_.first_name as first_n10_1_1_, addressimp1_.full_name as full_na11_1_1_, addressimp1_.is_active as is_acti12_1_1_, addressimp1_.is_business as is_busi13_1_1_, addressimp1_.is_default as is_defa14_1_1_, addressimp1_.is_mailing as is_mail15_1_1_, addressimp1_.is_street as is_stre16_1_1_, addressimp1_.iso_country_alpha2 as iso_cou28_1_1_, addressimp1_.iso_country_sub as iso_cou17_1_1_, addressimp1_.last_name as last_na18_1_1_, addressimp1_.phone_fax_id as phone_f29_1_1_, addressimp1_.phone_primary_id as phone_p30_1_1_, addressimp1_.phone_secondary_id as phone_s31_1_1_, addressimp1_.postal_code as postal_19_1_1_, addressimp1_.primary_phone as primary20_1_1_, addressimp1_.secondary_phone as seconda21_1_1_, addressimp1_.standardized as standar22_1_1_, addressimp1_.state_prov_region as state_p32_1_1_, addressimp1_.sub_state_prov_reg as sub_sta23_1_1_, addressimp1_.tokenized_address as tokeniz24_1_1_, addressimp1_.verification_level as verific25_1_1_, addressimp1_.zip_four as zip_fou26_1_1_, customerim2_.customer_id as customer1_40_2_, customerim2_.created_by as created_2_40_2_, customerim2_.date_created as date_cre3_40_2_, customerim2_.date_updated as date_upd4_40_2_, customerim2_.updated_by as updated_5_40_2_, customerim2_.challenge_answer as challeng6_40_2_, customerim2_.challenge_question_id as challen20_40_2_, customerim2_.locale_code as locale_21_40_2_, customerim2_.deactivated as deactiva7_40_2_, customerim2_.email_address as email_ad8_40_2_, customerim2_.external_id as external9_40_2_, customerim2_.first_name as first_n10_40_2_, customerim2_.is_tax_exempt as is_tax_11_40_2_, customerim2_.last_name as last_na12_40_2_, customerim2_.password as passwor13_40_2_, customerim2_.password_change_required as passwor14_40_2_, customerim2_.is_preview as is_prev15_40_2_, customerim2_.receive_email as receive16_40_2_, customerim2_.is_registered as is_regi17_40_2_, customerim2_.tax_exemption_code as tax_exe18_40_2_, customerim2_.user_name as user_na19_40_2_ from blc_customer_payment customerpa0_ left outer join blc_address addressimp1_ on customerpa0_.address_id=addressimp1_.address_id inner join blc_customer customerim2_ on customerpa0_.customer_id=customerim2_.customer_id where customerpa0_.customer_payment_id=?
sql|delete from blc_customer_payment_fields where customer_payment_id=?
sql|delete from blc_customer_payment where customer_payment_id=?
called| void org.broadleafcommerce.profile.core.domain.customerpaymentpersistedentitylistener.customerpaymentupdated(object) 
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.onapplicationevent(customerpersistedevent) 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomersessionattributename() 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomeridsessionattributename() 
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| void org.broadleafcommerce.profile.web.core.customerstaterefresher.resettransientfields(customer, customer) 
called| void org.broadleafcommerce.profile.web.core.customerstate.setcustomer(customer) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomerpaymentscontroller.getcustomerpaymentview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[True, False, False, False, False]
path_matching_number_k:[1, 1, 1, 1, 1]
path_precision_k:[1.0, 0.5, 0.3333333333333333, 0.25, 0.2]
path_ap:1.0
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[True, False, False, False, False]
request_matching_number_k:[1, 1, 1, 1, 1]
request_precision_k:[1.0, 0.5, 0.3333333333333333, 0.25, 0.2]
request_ap:1.0

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomerpaymentscontroller.removecustomerpayment(httpservletrequest,model,paymentinfoform,long)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomerpaymentscontroller.removecustomerpayment(httpservletrequest,model,long)
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.deletecustomerpaymentbyid(long)
method:org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.deletecustomerpaymentbyid(long)
[delete from blccustomerpayment where customerpaymentid=?]
method:org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.readcustomerpaymentbyid(long)
[select null, customerpaymentid, null, null, paymenttoken, paymenttype, gatewaytype, isdefault, fieldvalue, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax from blccustomerpayment  left outer join blccustomer on blccustomerpayment=blccustomer  left outer join blcaddress on blccustomerpayment=blcaddress  where customerpaymentid=?]

Syntactic Similarity:0.2677687377169214
Semantic Similarity:0.6666666666666666
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.9344354043835881
Path matching:True
Request matching:True
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomerpaymentscontroller.makedefaultcustomerpayment(httpservletrequest,model,paymentinfoform,long)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomerpaymentscontroller.makedefaultcustomerpayment(httpservletrequest,model,long)
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.readcustomerpaymentbyid(long)
method:org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.readcustomerpaymentbyid(long)
[select null, customerpaymentid, null, null, paymenttoken, paymenttype, gatewaytype, isdefault, fieldvalue, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax from blccustomerpayment  left outer join blccustomer on blccustomerpayment=blccustomer  left outer join blcaddress on blccustomerpayment=blcaddress  where customerpaymentid=?]

Syntactic Similarity:0.1846090390090138
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5179423723423471
Path matching:False
Request matching:False
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managecustomerpaymentscontroller.makedefaultcustomerpayment(httpservletrequest,model,paymentinfoform,long)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagecustomerpaymentscontroller.makedefaultcustomerpayment(httpservletrequest,model,long)
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.readcustomerpaymentbyid(long)
method:org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.readcustomerpaymentbyid(long)
[select null, customerpaymentid, null, null, paymenttoken, paymenttype, gatewaytype, isdefault, fieldvalue, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax from blccustomerpayment  left outer join blccustomer on blccustomerpayment=blccustomer  left outer join blcaddress on blccustomerpayment=blcaddress  where customerpaymentid=?]
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.setasdefaultpayment(customerpayment)
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.finddefaultpaymentforcustomer(customer)
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.readcustomerpaymentsbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.readcustomerpaymentsbycustomerid(long)
[select cp from blccustomerpayment cp where cp.customer.id = :customerid order by cp.id]
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.savecustomerpayment(customerpayment)
method:org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.save(customerpayment)
[update blccustomerpayment set null=?, customerpaymentid=?, null=?, null=?, paymenttoken=?, paymenttype=?, gatewaytype=?, isdefault=?, fieldvalue=? where customerpaymentid=?]
[insert into blccustomerpayment (null, customerpaymentid, null, null, paymenttoken, paymenttype, gatewaytype, isdefault, fieldvalue) values (?, ?, ?, ?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.23986932118467946
Semantic Similarity:0.2
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.4398693211846795
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.checkout.checkoutcontroller.getcheckoutstagepartial(httpservletrequest,httpservletresponse,model,shippinginfoform,paymentinfoform,giftcardinfoform,customercreditinfoform,string,redirectattributes)
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.prepopulateinfoforms(shippinginfoform,paymentinfoform)
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.prepopulateshippinginfoform(shippinginfoform,order)
method:org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.getfirstshippablefulfillmentgroup(order)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.profile.core.service.customeraddressserviceimpl.finddefaultcustomeraddress(long)
method:org.broadleafcommerce.profile.core.dao.customeraddressdaoimpl.finddefaultcustomeraddress(long)
[select ca from blccustomeraddress ca where ca.customer.id = :customerid and ca.address.isdefault = true]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.prepopulatepaymentinfoform(paymentinfoform,shippinginfoform,order)
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getbillingaddress(order)
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getaddressfromccorderpayment(order)
method:org.broadleafcommerce.core.payment.service.orderpaymentserviceimpl.readpaymentsfororder(order)
method:org.broadleafcommerce.core.payment.dao.orderpaymentdaoimpl.readpaymentsfororder(order)
[select payment from blcorderpayment payment where payment.order.id = :orderid and (payment.archivestatus.archived is null or payment.archivestatus.archived = 'n')]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getcustomerpaymentusedfororder()
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.readcustomerpaymentsbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.readcustomerpaymentsbycustomerid(long)
[select cp from blccustomerpayment cp where cp.customer.id = :customerid order by cp.id]
method:org.broadleafcommerce.core.web.order.service.cartstateserviceimpl.carthascreditcardpaymentwithsametoken(string)
method:org.broadleafcommerce.core.payment.service.orderpaymentserviceimpl.readpaymentsfororder(order)
method:org.broadleafcommerce.core.payment.dao.orderpaymentdaoimpl.readpaymentsfororder(order)
[select payment from blcorderpayment payment where payment.order.id = :orderid and (payment.archivestatus.archived is null or payment.archivestatus.archived = 'n')]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getshouldusecustomerpaymentdefaultvalue(customerpayment)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerpayments()
[select null, customerpaymentid, null, null, paymenttoken, paymenttype, gatewaytype, isdefault, fieldvalue, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax from blccustomerpayment  left outer join blcaddress on blccustomerpayment=blcaddress  where customerpaymentid=?]
method:org.broadleafcommerce.core.web.order.service.cartstateserviceimpl.carthastemporarycreditcard()
method:org.broadleafcommerce.core.payment.service.orderpaymentserviceimpl.readpaymentsfororder(order)
method:org.broadleafcommerce.core.payment.dao.orderpaymentdaoimpl.readpaymentsfororder(order)
[select payment from blcorderpayment payment where payment.order.id = :orderid and (payment.archivestatus.archived is null or payment.archivestatus.archived = 'n')]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getshouldsavenewpaymentdefaultvalue()
method:org.broadleafcommerce.core.web.order.service.cartstateserviceimpl.carthastemporarycreditcard()
method:org.broadleafcommerce.core.payment.service.orderpaymentserviceimpl.readpaymentsfororder(order)
method:org.broadleafcommerce.core.payment.dao.orderpaymentdaoimpl.readpaymentsfororder(order)
[select payment from blcorderpayment payment where payment.order.id = :orderid and (payment.archivestatus.archived is null or payment.archivestatus.archived = 'n')]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.determineifsavedaddressisselected(model,shippinginfoform,paymentinfoform)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomeraddresses()
[select null, customeraddressid, addressname, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax from blccustomeraddress  left outer join blcaddress on blccustomeraddress=blcaddress  where customeraddressid=?]

Syntactic Similarity:0.07676578208239226
Semantic Similarity:0.16666666666666666
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.24343244874905892
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.checkout.checkoutcontroller.getcheckoutstagepartial(httpservletrequest,httpservletresponse,model,shippinginfoform,paymentinfoform,giftcardinfoform,customercreditinfoform,string,redirectattributes)
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.prepopulateinfoforms(shippinginfoform,paymentinfoform)
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.prepopulateshippinginfoform(shippinginfoform,order)
method:org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.getfirstshippablefulfillmentgroup(order)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.prepopulatepaymentinfoform(paymentinfoform,shippinginfoform,order)
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getbillingaddress(order)
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getaddressfromccorderpayment(order)
method:org.broadleafcommerce.core.payment.service.orderpaymentserviceimpl.readpaymentsfororder(order)
method:org.broadleafcommerce.core.payment.dao.orderpaymentdaoimpl.readpaymentsfororder(order)
[select payment from blcorderpayment payment where payment.order.id = :orderid and (payment.archivestatus.archived is null or payment.archivestatus.archived = 'n')]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getcustomerpaymentusedfororder()
method:org.broadleafcommerce.profile.core.service.customerpaymentserviceimpl.readcustomerpaymentsbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customerpaymentdaoimpl.readcustomerpaymentsbycustomerid(long)
[select cp from blccustomerpayment cp where cp.customer.id = :customerid order by cp.id]
method:org.broadleafcommerce.core.web.order.service.cartstateserviceimpl.carthascreditcardpaymentwithsametoken(string)
method:org.broadleafcommerce.core.payment.service.orderpaymentserviceimpl.readpaymentsfororder(order)
method:org.broadleafcommerce.core.payment.dao.orderpaymentdaoimpl.readpaymentsfororder(order)
[select payment from blcorderpayment payment where payment.order.id = :orderid and (payment.archivestatus.archived is null or payment.archivestatus.archived = 'n')]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getshouldusecustomerpaymentdefaultvalue(customerpayment)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerpayments()
[select null, customerpaymentid, null, null, paymenttoken, paymenttype, gatewaytype, isdefault, fieldvalue, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax from blccustomerpayment  left outer join blcaddress on blccustomerpayment=blcaddress  where customerpaymentid=?]
method:org.broadleafcommerce.core.web.order.service.cartstateserviceimpl.carthastemporarycreditcard()
method:org.broadleafcommerce.core.payment.service.orderpaymentserviceimpl.readpaymentsfororder(order)
method:org.broadleafcommerce.core.payment.dao.orderpaymentdaoimpl.readpaymentsfororder(order)
[select payment from blcorderpayment payment where payment.order.id = :orderid and (payment.archivestatus.archived is null or payment.archivestatus.archived = 'n')]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.getshouldsavenewpaymentdefaultvalue()
method:org.broadleafcommerce.core.web.order.service.cartstateserviceimpl.carthastemporarycreditcard()
method:org.broadleafcommerce.core.payment.service.orderpaymentserviceimpl.readpaymentsfororder(order)
method:org.broadleafcommerce.core.payment.dao.orderpaymentdaoimpl.readpaymentsfororder(order)
[select payment from blcorderpayment payment where payment.order.id = :orderid and (payment.archivestatus.archived is null or payment.archivestatus.archived = 'n')]
method:org.broadleafcommerce.core.web.checkout.service.checkoutformserviceimpl.determineifsavedaddressisselected(model,shippinginfoform,paymentinfoform)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomeraddresses()
[select null, customeraddressid, addressname, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax from blccustomeraddress  left outer join blcaddress on blccustomeraddress=blcaddress  where customeraddressid=?]

Syntactic Similarity:0.07489246795432014
Semantic Similarity:0.16666666666666666
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.2415591346209868
Path matching:False
Request matching:False



======================================= 10 given SQL query ===========================================
Given SQL session queries: 
select customerph0_.customer_id as customer3_47_0_, customerph0_.customer_phone_id as customer1_47_0_, customerph0_.customer_phone_id as customer1_47_1_, customerph0_.customer_id as customer3_47_1_, customerph0_.phone_id as phone_id4_47_1_, customerph0_.phone_name as phone_na2_47_1_, phoneimpl1_.phone_id as phone_id1_118_2_, phoneimpl1_.country_code as country_2_118_2_, phoneimpl1_.extension as extensio3_118_2_, phoneimpl1_.is_active as is_activ4_118_2_, phoneimpl1_.is_default as is_defau5_118_2_, phoneimpl1_.phone_number as phone_nu6_118_2_ from blc_customer_phone customerph0_ inner join blc_phone phoneimpl1_ on customerph0_.phone_id=phoneimpl1_.phone_id where customerph0_.customer_id=?
select fulfillmen0_.order_id as order_i23_66_0_, fulfillmen0_.fulfillment_group_id as fulfillm1_66_0_, fulfillmen0_.fulfillment_group_id as fulfillm1_66_1_, fulfillmen0_.address_id as address21_66_1_, fulfillmen0_.delivery_instruction as delivery2_66_1_, fulfillmen0_.fulfillment_option_id as fulfill22_66_1_, fulfillmen0_.price as price3_66_1_, fulfillmen0_.shipping_price_taxable as shipping4_66_1_, fulfillmen0_.merchandise_total as merchand5_66_1_, fulfillmen0_.method as method6_66_1_, fulfillmen0_.order_id as order_i23_66_1_, fulfillmen0_.personal_message_id as persona24_66_1_, fulfillmen0_.phone_id as phone_i25_66_1_, fulfillmen0_.is_primary as is_prima7_66_1_, fulfillmen0_.reference_number as referenc8_66_1_, fulfillmen0_.retail_price as retail_p9_66_1_, fulfillmen0_.sale_price as sale_pr10_66_1_, fulfillmen0_.fulfillment_group_sequnce as fulfill11_66_1_, fulfillmen0_.service as service12_66_1_, fulfillmen0_.shipping_override as shippin13_66_1_, fulfillmen0_.status as status14_66_1_, fulfillmen0_.total as total15_66_1_, fulfillmen0_.total_fee_tax as total_f16_66_1_, fulfillmen0_.total_fg_tax as total_f17_66_1_, fulfillmen0_.total_item_tax as total_i18_66_1_, fulfillmen0_.total_tax as total_t19_66_1_, fulfillmen0_.type as type20_66_1_, addressimp1_.address_id as address_1_1_2_, addressimp1_.address_line1 as address_2_1_2_, addressimp1_.address_line2 as address_3_1_2_, addressimp1_.address_line3 as address_4_1_2_, addressimp1_.city as city5_1_2_, addressimp1_.company_name as company_6_1_2_, addressimp1_.country as country27_1_2_, addressimp1_.county as county7_1_2_, addressimp1_.email_address as email_ad8_1_2_, addressimp1_.fax as fax9_1_2_, addressimp1_.first_name as first_n10_1_2_, addressimp1_.full_name as full_na11_1_2_, addressimp1_.is_active as is_acti12_1_2_, addressimp1_.is_business as is_busi13_1_2_, addressimp1_.is_default as is_defa14_1_2_, addressimp1_.is_mailing as is_mail15_1_2_, addressimp1_.is_street as is_stre16_1_2_, addressimp1_.iso_country_alpha2 as iso_cou28_1_2_, addressimp1_.iso_country_sub as iso_cou17_1_2_, addressimp1_.last_name as last_na18_1_2_, addressimp1_.phone_fax_id as phone_f29_1_2_, addressimp1_.phone_primary_id as phone_p30_1_2_, addressimp1_.phone_secondary_id as phone_s31_1_2_, addressimp1_.postal_code as postal_19_1_2_, addressimp1_.primary_phone as primary20_1_2_, addressimp1_.secondary_phone as seconda21_1_2_, addressimp1_.standardized as standar22_1_2_, addressimp1_.state_prov_region as state_p32_1_2_, addressimp1_.sub_state_prov_reg as sub_sta23_1_2_, addressimp1_.tokenized_address as tokeniz24_1_2_, addressimp1_.verification_level as verific25_1_2_, addressimp1_.zip_four as zip_fou26_1_2_, fulfillmen2_.fulfillment_option_id as fulfillm1_71_3_, fulfillmen2_.fulfillment_type as fulfillm2_71_3_, fulfillmen2_.long_description as long_des3_71_3_, fulfillmen2_.name as name4_71_3_, fulfillmen2_.tax_code as tax_code5_71_3_, fulfillmen2_.taxable as taxable6_71_3_, fulfillmen2_.use_flat_rates as use_flat7_71_3_, fulfillmen2_1_.currency_code as currency3_72_3_, fulfillmen2_1_.price as price1_72_3_, case when fulfillmen2_1_.fulfillment_option_id is not null then 1 when fulfillmen2_2_.fulfillment_option_id is not null then 2 when fulfillmen2_3_.fulfillment_option_id is not null then 3 when fulfillmen2_.fulfillment_option_id is not null then 0 end as clazz_3_, broadleafc3_.currency_code as currency1_38_4_, broadleafc3_.default_flag as default_2_38_4_, broadleafc3_.friendly_name as friendly3_38_4_, personalme4_.personal_message_id as personal1_116_5_, personalme4_.message as message2_116_5_, personalme4_.message_from as message_3_116_5_, personalme4_.message_to as message_4_116_5_, personalme4_.occasion as occasion5_116_5_, phoneimpl5_.phone_id as phone_id1_118_6_, phoneimpl5_.country_code as country_2_118_6_, phoneimpl5_.extension as extensio3_118_6_, phoneimpl5_.is_active as is_activ4_118_6_, phoneimpl5_.is_default as is_defau5_118_6_, phoneimpl5_.phone_number as phone_nu6_118_6_ from blc_fulfillment_group fulfillmen0_ left outer join blc_address addressimp1_ on fulfillmen0_.address_id=addressimp1_.address_id left outer join blc_fulfillment_option fulfillmen2_ on fulfillmen0_.fulfillment_option_id=fulfillmen2_.fulfillment_option_id left outer join blc_fulfillment_option_fixed fulfillmen2_1_ on fulfillmen2_.fulfillment_option_id=fulfillmen2_1_.fulfillment_option_id left outer join blc_fulfillment_opt_banded_prc fulfillmen2_2_ on fulfillmen2_.fulfillment_option_id=fulfillmen2_2_.fulfillment_option_id left outer join blc_fulfillment_opt_banded_wgt fulfillmen2_3_ on fulfillmen2_.fulfillment_option_id=fulfillmen2_3_.fulfillment_option_id left outer join blc_currency broadleafc3_ on fulfillmen2_1_.currency_code=broadleafc3_.currency_code left outer join blc_personal_message personalme4_ on fulfillmen0_.personal_message_id=personalme4_.personal_message_id left outer join blc_phone phoneimpl5_ on fulfillmen0_.phone_id=phoneimpl5_.phone_id where fulfillmen0_.order_id=?
select payments0_.order_id as order_id8_106_0_, payments0_.order_payment_id as order_pa1_106_0_, payments0_.order_payment_id as order_pa1_106_1_, payments0_.amount as amount2_106_1_, payments0_.archived as archived3_106_1_, payments0_.address_id as address_7_106_1_, payments0_.gateway_type as gateway_4_106_1_, payments0_.order_id as order_id8_106_1_, payments0_.reference_number as referenc5_106_1_, payments0_.payment_type as payment_6_106_1_, addressimp1_.address_id as address_1_1_2_, addressimp1_.address_line1 as address_2_1_2_, addressimp1_.address_line2 as address_3_1_2_, addressimp1_.address_line3 as address_4_1_2_, addressimp1_.city as city5_1_2_, addressimp1_.company_name as company_6_1_2_, addressimp1_.country as country27_1_2_, addressimp1_.county as county7_1_2_, addressimp1_.email_address as email_ad8_1_2_, addressimp1_.fax as fax9_1_2_, addressimp1_.first_name as first_n10_1_2_, addressimp1_.full_name as full_na11_1_2_, addressimp1_.is_active as is_acti12_1_2_, addressimp1_.is_business as is_busi13_1_2_, addressimp1_.is_default as is_defa14_1_2_, addressimp1_.is_mailing as is_mail15_1_2_, addressimp1_.is_street as is_stre16_1_2_, addressimp1_.iso_country_alpha2 as iso_cou28_1_2_, addressimp1_.iso_country_sub as iso_cou17_1_2_, addressimp1_.last_name as last_na18_1_2_, addressimp1_.phone_fax_id as phone_f29_1_2_, addressimp1_.phone_primary_id as phone_p30_1_2_, addressimp1_.phone_secondary_id as phone_s31_1_2_, addressimp1_.postal_code as postal_19_1_2_, addressimp1_.primary_phone as primary20_1_2_, addressimp1_.secondary_phone as seconda21_1_2_, addressimp1_.standardized as standar22_1_2_, addressimp1_.state_prov_region as state_p32_1_2_, addressimp1_.sub_state_prov_reg as sub_sta23_1_2_, addressimp1_.tokenized_address as tokeniz24_1_2_, addressimp1_.verification_level as verific25_1_2_, addressimp1_.zip_four as zip_fou26_1_2_ from blc_order_payment payments0_ left outer join blc_address addressimp1_ on payments0_.address_id=addressimp1_.address_id where payments0_.order_id=?
Pre-processed SQL session queries : 
select from blccustomerphone inner join blcphone where customerph.customer_id=? 
select from blcfulfillmentgroup left outer join blcaddress left outer join blcfulfillmentoption left outer join blcfulfillmentoptionfixed left outer join blcfulfillmentoptbandedprc left outer join blcfulfillmentoptbandedwgt left outer join blccurrency left outer join blcpersonalmessage left outer join blcphone where fulfillmen.order_id=? 
select from blcorderpayment left outer join blcaddress where payments.order_id=? 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.cart.cartcontroller.minicart(httpservletrequest, httpservletresponse, model) 
called| string com.community.controller.cart.cartcontroller.minicart(httpservletrequest, httpservletresponse, model) 
called| string org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest, httpservletresponse, model) 
called| order org.broadleafcommerce.core.web.order.cartstate.getcart() 
called| string org.broadleafcommerce.core.web.order.security.cartstaterequestprocessor.getcartrequestattributename() 
called| paymentrequestdto org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order, paymentrequestdto) 
called| paymentrequestdto org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto, customer, string) 
sql|select customerph0_.customer_id as customer3_47_0_, customerph0_.customer_phone_id as customer1_47_0_, customerph0_.customer_phone_id as customer1_47_1_, customerph0_.customer_id as customer3_47_1_, customerph0_.phone_id as phone_id4_47_1_, customerph0_.phone_name as phone_na2_47_1_, phoneimpl1_.phone_id as phone_id1_118_2_, phoneimpl1_.country_code as country_2_118_2_, phoneimpl1_.extension as extensio3_118_2_, phoneimpl1_.is_active as is_activ4_118_2_, phoneimpl1_.is_default as is_defau5_118_2_, phoneimpl1_.phone_number as phone_nu6_118_2_ from blc_customer_phone customerph0_ inner join blc_phone phoneimpl1_ on customerph0_.phone_id=phoneimpl1_.phone_id where customerph0_.customer_id=?
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order, paymentrequestdto) 
sql|select fulfillmen0_.order_id as order_i23_66_0_, fulfillmen0_.fulfillment_group_id as fulfillm1_66_0_, fulfillmen0_.fulfillment_group_id as fulfillm1_66_1_, fulfillmen0_.address_id as address21_66_1_, fulfillmen0_.delivery_instruction as delivery2_66_1_, fulfillmen0_.fulfillment_option_id as fulfill22_66_1_, fulfillmen0_.price as price3_66_1_, fulfillmen0_.shipping_price_taxable as shipping4_66_1_, fulfillmen0_.merchandise_total as merchand5_66_1_, fulfillmen0_.method as method6_66_1_, fulfillmen0_.order_id as order_i23_66_1_, fulfillmen0_.personal_message_id as persona24_66_1_, fulfillmen0_.phone_id as phone_i25_66_1_, fulfillmen0_.is_primary as is_prima7_66_1_, fulfillmen0_.reference_number as referenc8_66_1_, fulfillmen0_.retail_price as retail_p9_66_1_, fulfillmen0_.sale_price as sale_pr10_66_1_, fulfillmen0_.fulfillment_group_sequnce as fulfill11_66_1_, fulfillmen0_.service as service12_66_1_, fulfillmen0_.shipping_override as shippin13_66_1_, fulfillmen0_.status as status14_66_1_, fulfillmen0_.total as total15_66_1_, fulfillmen0_.total_fee_tax as total_f16_66_1_, fulfillmen0_.total_fg_tax as total_f17_66_1_, fulfillmen0_.total_item_tax as total_i18_66_1_, fulfillmen0_.total_tax as total_t19_66_1_, fulfillmen0_.type as type20_66_1_, addressimp1_.address_id as address_1_1_2_, addressimp1_.address_line1 as address_2_1_2_, addressimp1_.address_line2 as address_3_1_2_, addressimp1_.address_line3 as address_4_1_2_, addressimp1_.city as city5_1_2_, addressimp1_.company_name as company_6_1_2_, addressimp1_.country as country27_1_2_, addressimp1_.county as county7_1_2_, addressimp1_.email_address as email_ad8_1_2_, addressimp1_.fax as fax9_1_2_, addressimp1_.first_name as first_n10_1_2_, addressimp1_.full_name as full_na11_1_2_, addressimp1_.is_active as is_acti12_1_2_, addressimp1_.is_business as is_busi13_1_2_, addressimp1_.is_default as is_defa14_1_2_, addressimp1_.is_mailing as is_mail15_1_2_, addressimp1_.is_street as is_stre16_1_2_, addressimp1_.iso_country_alpha2 as iso_cou28_1_2_, addressimp1_.iso_country_sub as iso_cou17_1_2_, addressimp1_.last_name as last_na18_1_2_, addressimp1_.phone_fax_id as phone_f29_1_2_, addressimp1_.phone_primary_id as phone_p30_1_2_, addressimp1_.phone_secondary_id as phone_s31_1_2_, addressimp1_.postal_code as postal_19_1_2_, addressimp1_.primary_phone as primary20_1_2_, addressimp1_.secondary_phone as seconda21_1_2_, addressimp1_.standardized as standar22_1_2_, addressimp1_.state_prov_region as state_p32_1_2_, addressimp1_.sub_state_prov_reg as sub_sta23_1_2_, addressimp1_.tokenized_address as tokeniz24_1_2_, addressimp1_.verification_level as verific25_1_2_, addressimp1_.zip_four as zip_fou26_1_2_, fulfillmen2_.fulfillment_option_id as fulfillm1_71_3_, fulfillmen2_.fulfillment_type as fulfillm2_71_3_, fulfillmen2_.long_description as long_des3_71_3_, fulfillmen2_.name as name4_71_3_, fulfillmen2_.tax_code as tax_code5_71_3_, fulfillmen2_.taxable as taxable6_71_3_, fulfillmen2_.use_flat_rates as use_flat7_71_3_, fulfillmen2_1_.currency_code as currency3_72_3_, fulfillmen2_1_.price as price1_72_3_, case when fulfillmen2_1_.fulfillment_option_id is not null then ? when fulfillmen2_2_.fulfillment_option_id is not null then ? when fulfillmen2_3_.fulfillment_option_id is not null then ? when fulfillmen2_.fulfillment_option_id is not null then ? end as clazz_3_, broadleafc3_.currency_code as currency1_38_4_, broadleafc3_.default_flag as default_2_38_4_, broadleafc3_.friendly_name as friendly3_38_4_, personalme4_.personal_message_id as personal1_116_5_, personalme4_.message as message2_116_5_, personalme4_.message_from as message_3_116_5_, personalme4_.message_to as message_4_116_5_, personalme4_.occasion as occasion5_116_5_, phoneimpl5_.phone_id as phone_id1_118_6_, phoneimpl5_.country_code as country_2_118_6_, phoneimpl5_.extension as extensio3_118_6_, phoneimpl5_.is_active as is_activ4_118_6_, phoneimpl5_.is_default as is_defau5_118_6_, phoneimpl5_.phone_number as phone_nu6_118_6_ from blc_fulfillment_group fulfillmen0_ left outer join blc_address addressimp1_ on fulfillmen0_.address_id=addressimp1_.address_id left outer join blc_fulfillment_option fulfillmen2_ on fulfillmen0_.fulfillment_option_id=fulfillmen2_.fulfillment_option_id left outer join blc_fulfillment_option_fixed fulfillmen2_1_ on fulfillmen2_.fulfillment_option_id=fulfillmen2_1_.fulfillment_option_id left outer join blc_fulfillment_opt_banded_prc fulfillmen2_2_ on fulfillmen2_.fulfillment_option_id=fulfillmen2_2_.fulfillment_option_id left outer join blc_fulfillment_opt_banded_wgt fulfillmen2_3_ on fulfillmen2_.fulfillment_option_id=fulfillmen2_3_.fulfillment_option_id left outer join blc_currency broadleafc3_ on fulfillmen2_1_.currency_code=broadleafc3_.currency_code left outer join blc_personal_message personalme4_ on fulfillmen0_.personal_message_id=personalme4_.personal_message_id left outer join blc_phone phoneimpl5_ on fulfillmen0_.phone_id=phoneimpl5_.phone_id where fulfillmen0_.order_id=?
called| fulfillmentgroup org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.getfirstshippablefulfillmentgroup(order) 
called| void org.broadleafcommerce.core.order.service.type.fulfillmenttype.settype(string) 
called| fulfillmenttype org.broadleafcommerce.core.order.service.type.fulfillmenttype.getinstance(string) 
called| boolean org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.isshippable(fulfillmenttype) 
called| boolean org.broadleafcommerce.core.order.service.type.fulfillmenttype.equals(object) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order, paymentrequestdto) 
sql|select payments0_.order_id as order_id8_106_0_, payments0_.order_payment_id as order_pa1_106_0_, payments0_.order_payment_id as order_pa1_106_1_, payments0_.amount as amount2_106_1_, payments0_.archived as archived3_106_1_, payments0_.address_id as address_7_106_1_, payments0_.gateway_type as gateway_4_106_1_, payments0_.order_id as order_id8_106_1_, payments0_.reference_number as referenc5_106_1_, payments0_.payment_type as payment_6_106_1_, addressimp1_.address_id as address_1_1_2_, addressimp1_.address_line1 as address_2_1_2_, addressimp1_.address_line2 as address_3_1_2_, addressimp1_.address_line3 as address_4_1_2_, addressimp1_.city as city5_1_2_, addressimp1_.company_name as company_6_1_2_, addressimp1_.country as country27_1_2_, addressimp1_.county as county7_1_2_, addressimp1_.email_address as email_ad8_1_2_, addressimp1_.fax as fax9_1_2_, addressimp1_.first_name as first_n10_1_2_, addressimp1_.full_name as full_na11_1_2_, addressimp1_.is_active as is_acti12_1_2_, addressimp1_.is_business as is_busi13_1_2_, addressimp1_.is_default as is_defa14_1_2_, addressimp1_.is_mailing as is_mail15_1_2_, addressimp1_.is_street as is_stre16_1_2_, addressimp1_.iso_country_alpha2 as iso_cou28_1_2_, addressimp1_.iso_country_sub as iso_cou17_1_2_, addressimp1_.last_name as last_na18_1_2_, addressimp1_.phone_fax_id as phone_f29_1_2_, addressimp1_.phone_primary_id as phone_p30_1_2_, addressimp1_.phone_secondary_id as phone_s31_1_2_, addressimp1_.postal_code as postal_19_1_2_, addressimp1_.primary_phone as primary20_1_2_, addressimp1_.secondary_phone as seconda21_1_2_, addressimp1_.standardized as standar22_1_2_, addressimp1_.state_prov_region as state_p32_1_2_, addressimp1_.sub_state_prov_reg as sub_sta23_1_2_, addressimp1_.tokenized_address as tokeniz24_1_2_, addressimp1_.verification_level as verific25_1_2_, addressimp1_.zip_four as zip_fou26_1_2_ from blc_order_payment payments0_ left outer join blc_address addressimp1_ on payments0_.address_id=addressimp1_.address_id where payments0_.order_id=?
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order, paymentrequestdto) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatedefaultlineitemsandsubtotal(order, paymentrequestdto) 
called| string org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.getcartview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[False, False, False, False, True]
path_matching_number_k:[0, 0, 0, 0, 1]
path_precision_k:[0.0, 0.0, 0.0, 0.0, 0.2]
path_ap:0.26666666666666666
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[False, False, False, False, True]
request_matching_number_k:[0, 0, 0, 0, 1]
request_precision_k:[0.0, 0.0, 0.0, 0.0, 0.2]
request_ap:0.28484848484848485

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.cart.cartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order,paymentrequestdto)
method:org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto,customer,string)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerphones()
[select customerid, customerphoneid, phonename, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone inner join blcphone on blccustomerphone.phoneid=blcphone.phoneid  where customerphoneid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.getfirstshippablefulfillmentgroup(order)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.gettotalafterappliedpayments()
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]

Syntactic Similarity:0.169567916812883
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.169567916812883
Path matching:False
Request matching:False
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.cart.cartcontroller.pricingsummary(httpservletrequest,httpservletresponse,boolean,model)
method:org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order,paymentrequestdto)
method:org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto,customer,string)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerphones()
[select customerid, customerphoneid, phonename, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone inner join blcphone on blccustomerphone.phoneid=blcphone.phoneid  where customerphoneid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.getfirstshippablefulfillmentgroup(order)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.gettotalafterappliedpayments()
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]

Syntactic Similarity:0.169567916812883
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.169567916812883
Path matching:False
Request matching:False
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.cart.cartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order,paymentrequestdto)
method:org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto,customer,string)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerphones()
[select customerid, customerphoneid, phonename, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone inner join blcphone on blccustomerphone.phoneid=blcphone.phoneid  where customerphoneid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.gettotalafterappliedpayments()
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]

Syntactic Similarity:0.16954054192579546
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.1695405419257954
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.cart.cartcontroller.pricingsummary(httpservletrequest,httpservletresponse,boolean,model)
method:org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order,paymentrequestdto)
method:org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto,customer,string)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerphones()
[select customerid, customerphoneid, phonename, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone inner join blcphone on blccustomerphone.phoneid=blcphone.phoneid  where customerphoneid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.gettotalafterappliedpayments()
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]

Syntactic Similarity:0.16954054192579546
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.1695405419257954
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.cart.cartcontroller.minicart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order,paymentrequestdto)
method:org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto,customer,string)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerphones()
[select null, customerphoneid, phonename, null, null, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone  left outer join blcphone on blccustomerphone.phoneid=blcphone.phoneid  where customerphoneid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.getfirstshippablefulfillmentgroup(order)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.gettotalafterappliedpayments()
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]

Syntactic Similarity:0.16640300964491198
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.166403009644912
Path matching:True
Request matching:True



======================================= 11 given SQL query ===========================================
Given SQL session queries: 
select customerph0_.customer_id as customer3_47_0_, customerph0_.customer_phone_id as customer1_47_0_, customerph0_.customer_phone_id as customer1_47_1_, customerph0_.customer_id as customer3_47_1_, customerph0_.phone_id as phone_id4_47_1_, customerph0_.phone_name as phone_na2_47_1_, phoneimpl1_.phone_id as phone_id1_118_2_, phoneimpl1_.country_code as country_2_118_2_, phoneimpl1_.extension as extensio3_118_2_, phoneimpl1_.is_active as is_activ4_118_2_, phoneimpl1_.is_default as is_defau5_118_2_, phoneimpl1_.phone_number as phone_nu6_118_2_ from blc_customer_phone customerph0_ inner join blc_phone phoneimpl1_ on customerph0_.phone_id=phoneimpl1_.phone_id where customerph0_.customer_id=?
Pre-processed SQL session queries : 
select from blccustomerphone inner join blcphone where customerph.customer_id=? 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.cart.cartcontroller.cart(httpservletrequest, httpservletresponse, model) 
called| string com.community.controller.cart.cartcontroller.cart(httpservletrequest, httpservletresponse, model) 
called| string org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest, httpservletresponse, model) 
called| order org.broadleafcommerce.core.web.order.cartstate.getcart() 
called| string org.broadleafcommerce.core.web.order.security.cartstaterequestprocessor.getcartrequestattributename() 
called| paymentrequestdto org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order, paymentrequestdto) 
called| paymentrequestdto org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto, customer, string) 
sql|select customerph0_.customer_id as customer3_47_0_, customerph0_.customer_phone_id as customer1_47_0_, customerph0_.customer_phone_id as customer1_47_1_, customerph0_.customer_id as customer3_47_1_, customerph0_.phone_id as phone_id4_47_1_, customerph0_.phone_name as phone_na2_47_1_, phoneimpl1_.phone_id as phone_id1_118_2_, phoneimpl1_.country_code as country_2_118_2_, phoneimpl1_.extension as extensio3_118_2_, phoneimpl1_.is_active as is_activ4_118_2_, phoneimpl1_.is_default as is_defau5_118_2_, phoneimpl1_.phone_number as phone_nu6_118_2_ from blc_customer_phone customerph0_ inner join blc_phone phoneimpl1_ on customerph0_.phone_id=phoneimpl1_.phone_id where customerph0_.customer_id=?
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order, paymentrequestdto) 
called| fulfillmentgroup org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.getfirstshippablefulfillmentgroup(order) 
called| fulfillmenttype org.broadleafcommerce.core.order.service.type.fulfillmenttype.getinstance(string) 
called| boolean org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.isshippable(fulfillmenttype) 
called| boolean org.broadleafcommerce.core.order.service.type.fulfillmenttype.equals(object) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order, paymentrequestdto) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order, paymentrequestdto) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatedefaultlineitemsandsubtotal(order, paymentrequestdto) 
called| string org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.getcartview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[False, False, False, False, True]
path_matching_number_k:[0, 0, 0, 0, 1]
path_precision_k:[0.0, 0.0, 0.0, 0.0, 0.2]
path_ap:0.24285714285714285
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[False, False, False, False, True]
request_matching_number_k:[0, 0, 0, 0, 1]
request_precision_k:[0.0, 0.0, 0.0, 0.0, 0.2]
request_ap:0.25535714285714284

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.customerphonecontroller.viewphone(long,httpservletrequest,phonenameform,bindingresult)
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.readcustomerphonebyid(long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readcustomerphonebyid(long)
[select null, customerphoneid, phonename, null, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone  left outer join blccustomer on blccustomerphone=blccustomer  left outer join blcphone on blccustomerphone=blcphone  where customerphoneid=?]

Syntactic Similarity:0.17694706681297342
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.1769470668129733
Path matching:False
Request matching:False
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.customerphonecontroller.savephone(phonenameform,bindingresult,httpservletrequest,long,long)
method:org.broadleafcommerce.profile.web.controller.validator.customerphonevalidator.validate(object,errors)
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.readallcustomerphonesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readallcustomerphonesbycustomerid(long)
[select cp from blccustomerphone cp where cp.customer.id = :customerid order by cp.id]

Syntactic Similarity:0.04586942444460844
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.0458694244446085
Path matching:False
Request matching:False
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.customerphonecontroller.deletephone(long,httpservletrequest)
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.deletecustomerphonebyid(long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.deletecustomerphonebyid(long)
[delete from blccustomerphone where customerphoneid=?]
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readcustomerphonebyid(long)
[select null, customerphoneid, phonename, null, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone  left outer join blccustomer on blccustomerphone=blccustomer  left outer join blcphone on blccustomerphone=blcphone  where customerphoneid=?]

Syntactic Similarity:0.19399764719144025
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.6939976471914402
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.customerphonecontroller.makephonedefault(long,httpservletrequest)
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.readcustomerphonebyid(long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readcustomerphonebyid(long)
[select null, customerphoneid, phonename, null, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone  left outer join blccustomer on blccustomerphone=blccustomer  left outer join blcphone on blccustomerphone=blcphone  where customerphoneid=?]
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.makecustomerphonedefault(long,long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.makecustomerphonedefault(long,long)
[update blccustomerphone set null=?, customerphoneid=?, phonename=?, null=?, null=? where customerphoneid=?]
[insert into blccustomerphone (null, customerphoneid, phonename, null, null) values (?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readactivecustomerphonesbycustomerid(long)
[select cp from blccustomerphone cp where cp.customer.id = :customerid and cp.phone.isactive = true order by cp.id]

Syntactic Similarity:0.14497879855516388
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.4783121318884972
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.cart.cartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order,paymentrequestdto)
method:org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto,customer,string)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerphones()
[select customerid, customerphoneid, phonename, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone inner join blcphone on blccustomerphone.phoneid=blcphone.phoneid  where customerphoneid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.gettotalafterappliedpayments()
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]

Syntactic Similarity:0.07356162943597631
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.40689496276930964
Path matching:True
Request matching:True



======================================= 12 given SQL query ===========================================
Given SQL session queries: 
select customerph0_.customer_id as customer3_47_0_, customerph0_.customer_phone_id as customer1_47_0_, customerph0_.customer_phone_id as customer1_47_1_, customerph0_.customer_id as customer3_47_1_, customerph0_.phone_id as phone_id4_47_1_, customerph0_.phone_name as phone_na2_47_1_, phoneimpl1_.phone_id as phone_id1_118_2_, phoneimpl1_.country_code as country_2_118_2_, phoneimpl1_.extension as extensio3_118_2_, phoneimpl1_.is_active as is_activ4_118_2_, phoneimpl1_.is_default as is_defau5_118_2_, phoneimpl1_.phone_number as phone_nu6_118_2_ from blc_customer_phone customerph0_ inner join blc_phone phoneimpl1_ on customerph0_.phone_id=phoneimpl1_.phone_id where customerph0_.customer_id=?
Pre-processed SQL session queries : 
select from blccustomerphone inner join blcphone where customerph.customer_id=? 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.cart.cartcontroller.minicart(httpservletrequest, httpservletresponse, model) 
called| string com.community.controller.cart.cartcontroller.minicart(httpservletrequest, httpservletresponse, model) 
called| string org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest, httpservletresponse, model) 
called| order org.broadleafcommerce.core.web.order.cartstate.getcart() 
called| string org.broadleafcommerce.core.web.order.security.cartstaterequestprocessor.getcartrequestattributename() 
called| paymentrequestdto org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order, paymentrequestdto) 
called| paymentrequestdto org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto, customer, string) 
sql|select customerph0_.customer_id as customer3_47_0_, customerph0_.customer_phone_id as customer1_47_0_, customerph0_.customer_phone_id as customer1_47_1_, customerph0_.customer_id as customer3_47_1_, customerph0_.phone_id as phone_id4_47_1_, customerph0_.phone_name as phone_na2_47_1_, phoneimpl1_.phone_id as phone_id1_118_2_, phoneimpl1_.country_code as country_2_118_2_, phoneimpl1_.extension as extensio3_118_2_, phoneimpl1_.is_active as is_activ4_118_2_, phoneimpl1_.is_default as is_defau5_118_2_, phoneimpl1_.phone_number as phone_nu6_118_2_ from blc_customer_phone customerph0_ inner join blc_phone phoneimpl1_ on customerph0_.phone_id=phoneimpl1_.phone_id where customerph0_.customer_id=?
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order, paymentrequestdto) 
called| fulfillmentgroup org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.getfirstshippablefulfillmentgroup(order) 
called| fulfillmenttype org.broadleafcommerce.core.order.service.type.fulfillmenttype.getinstance(string) 
called| boolean org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.isshippable(fulfillmenttype) 
called| boolean org.broadleafcommerce.core.order.service.type.fulfillmenttype.equals(object) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order, paymentrequestdto) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order, paymentrequestdto) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatedefaultlineitemsandsubtotal(order, paymentrequestdto) 
called| string org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.getcartview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[False, False, False, False, False]
path_matching_number_k:[0, 0, 0, 0, 0]
path_precision_k:[0.0, 0.0, 0.0, 0.0, 0.0]
path_ap:0.14090909090909093
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[False, False, False, False, False]
request_matching_number_k:[0, 0, 0, 0, 0]
request_precision_k:[0.0, 0.0, 0.0, 0.0, 0.0]
request_ap:0.17615307486631016

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.customerphonecontroller.viewphone(long,httpservletrequest,phonenameform,bindingresult)
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.readcustomerphonebyid(long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readcustomerphonebyid(long)
[select null, customerphoneid, phonename, null, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone  left outer join blccustomer on blccustomerphone=blccustomer  left outer join blcphone on blccustomerphone=blcphone  where customerphoneid=?]

Syntactic Similarity:0.17694706681297342
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.1769470668129733
Path matching:False
Request matching:False
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.customerphonecontroller.savephone(phonenameform,bindingresult,httpservletrequest,long,long)
method:org.broadleafcommerce.profile.web.controller.validator.customerphonevalidator.validate(object,errors)
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.readallcustomerphonesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readallcustomerphonesbycustomerid(long)
[select cp from blccustomerphone cp where cp.customer.id = :customerid order by cp.id]

Syntactic Similarity:0.04586942444460844
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.0458694244446085
Path matching:False
Request matching:False
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.customerphonecontroller.deletephone(long,httpservletrequest)
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.deletecustomerphonebyid(long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.deletecustomerphonebyid(long)
[delete from blccustomerphone where customerphoneid=?]
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readcustomerphonebyid(long)
[select null, customerphoneid, phonename, null, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone  left outer join blccustomer on blccustomerphone=blccustomer  left outer join blcphone on blccustomerphone=blcphone  where customerphoneid=?]

Syntactic Similarity:0.19399764719144025
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.6939976471914402
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.customerphonecontroller.makephonedefault(long,httpservletrequest)
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.readcustomerphonebyid(long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readcustomerphonebyid(long)
[select null, customerphoneid, phonename, null, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone  left outer join blccustomer on blccustomerphone=blccustomer  left outer join blcphone on blccustomerphone=blcphone  where customerphoneid=?]
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.makecustomerphonedefault(long,long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.makecustomerphonedefault(long,long)
[update blccustomerphone set null=?, customerphoneid=?, phonename=?, null=?, null=? where customerphoneid=?]
[insert into blccustomerphone (null, customerphoneid, phonename, null, null) values (?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readactivecustomerphonesbycustomerid(long)
[select cp from blccustomerphone cp where cp.customer.id = :customerid and cp.phone.isactive = true order by cp.id]

Syntactic Similarity:0.14497879855516388
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.4783121318884972
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.cart.cartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order,paymentrequestdto)
method:org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto,customer,string)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerphones()
[select customerid, customerphoneid, phonename, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone inner join blcphone on blccustomerphone.phoneid=blcphone.phoneid  where customerphoneid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.gettotalafterappliedpayments()
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]

Syntactic Similarity:0.07356162943597631
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.40689496276930964
Path matching:False
Request matching:False



======================================= 13 given SQL query ===========================================
Given SQL session queries: 
select customerph0_.customer_id as customer3_47_0_, customerph0_.customer_phone_id as customer1_47_0_, customerph0_.customer_phone_id as customer1_47_1_, customerph0_.customer_id as customer3_47_1_, customerph0_.phone_id as phone_id4_47_1_, customerph0_.phone_name as phone_na2_47_1_, phoneimpl1_.phone_id as phone_id1_118_2_, phoneimpl1_.country_code as country_2_118_2_, phoneimpl1_.extension as extensio3_118_2_, phoneimpl1_.is_active as is_activ4_118_2_, phoneimpl1_.is_default as is_defau5_118_2_, phoneimpl1_.phone_number as phone_nu6_118_2_ from blc_customer_phone customerph0_ inner join blc_phone phoneimpl1_ on customerph0_.phone_id=phoneimpl1_.phone_id where customerph0_.customer_id=?
select fulfillmen0_.order_id as order_i23_66_0_, fulfillmen0_.fulfillment_group_id as fulfillm1_66_0_, fulfillmen0_.fulfillment_group_id as fulfillm1_66_1_, fulfillmen0_.address_id as address21_66_1_, fulfillmen0_.delivery_instruction as delivery2_66_1_, fulfillmen0_.fulfillment_option_id as fulfill22_66_1_, fulfillmen0_.price as price3_66_1_, fulfillmen0_.shipping_price_taxable as shipping4_66_1_, fulfillmen0_.merchandise_total as merchand5_66_1_, fulfillmen0_.method as method6_66_1_, fulfillmen0_.order_id as order_i23_66_1_, fulfillmen0_.personal_message_id as persona24_66_1_, fulfillmen0_.phone_id as phone_i25_66_1_, fulfillmen0_.is_primary as is_prima7_66_1_, fulfillmen0_.reference_number as referenc8_66_1_, fulfillmen0_.retail_price as retail_p9_66_1_, fulfillmen0_.sale_price as sale_pr10_66_1_, fulfillmen0_.fulfillment_group_sequnce as fulfill11_66_1_, fulfillmen0_.service as service12_66_1_, fulfillmen0_.shipping_override as shippin13_66_1_, fulfillmen0_.status as status14_66_1_, fulfillmen0_.total as total15_66_1_, fulfillmen0_.total_fee_tax as total_f16_66_1_, fulfillmen0_.total_fg_tax as total_f17_66_1_, fulfillmen0_.total_item_tax as total_i18_66_1_, fulfillmen0_.total_tax as total_t19_66_1_, fulfillmen0_.type as type20_66_1_, addressimp1_.address_id as address_1_1_2_, addressimp1_.address_line1 as address_2_1_2_, addressimp1_.address_line2 as address_3_1_2_, addressimp1_.address_line3 as address_4_1_2_, addressimp1_.city as city5_1_2_, addressimp1_.company_name as company_6_1_2_, addressimp1_.country as country27_1_2_, addressimp1_.county as county7_1_2_, addressimp1_.email_address as email_ad8_1_2_, addressimp1_.fax as fax9_1_2_, addressimp1_.first_name as first_n10_1_2_, addressimp1_.full_name as full_na11_1_2_, addressimp1_.is_active as is_acti12_1_2_, addressimp1_.is_business as is_busi13_1_2_, addressimp1_.is_default as is_defa14_1_2_, addressimp1_.is_mailing as is_mail15_1_2_, addressimp1_.is_street as is_stre16_1_2_, addressimp1_.iso_country_alpha2 as iso_cou28_1_2_, addressimp1_.iso_country_sub as iso_cou17_1_2_, addressimp1_.last_name as last_na18_1_2_, addressimp1_.phone_fax_id as phone_f29_1_2_, addressimp1_.phone_primary_id as phone_p30_1_2_, addressimp1_.phone_secondary_id as phone_s31_1_2_, addressimp1_.postal_code as postal_19_1_2_, addressimp1_.primary_phone as primary20_1_2_, addressimp1_.secondary_phone as seconda21_1_2_, addressimp1_.standardized as standar22_1_2_, addressimp1_.state_prov_region as state_p32_1_2_, addressimp1_.sub_state_prov_reg as sub_sta23_1_2_, addressimp1_.tokenized_address as tokeniz24_1_2_, addressimp1_.verification_level as verific25_1_2_, addressimp1_.zip_four as zip_fou26_1_2_, fulfillmen2_.fulfillment_option_id as fulfillm1_71_3_, fulfillmen2_.fulfillment_type as fulfillm2_71_3_, fulfillmen2_.long_description as long_des3_71_3_, fulfillmen2_.name as name4_71_3_, fulfillmen2_.tax_code as tax_code5_71_3_, fulfillmen2_.taxable as taxable6_71_3_, fulfillmen2_.use_flat_rates as use_flat7_71_3_, fulfillmen2_1_.currency_code as currency3_72_3_, fulfillmen2_1_.price as price1_72_3_, case when fulfillmen2_1_.fulfillment_option_id is not null then 1 when fulfillmen2_2_.fulfillment_option_id is not null then 2 when fulfillmen2_3_.fulfillment_option_id is not null then 3 when fulfillmen2_.fulfillment_option_id is not null then 0 end as clazz_3_, broadleafc3_.currency_code as currency1_38_4_, broadleafc3_.default_flag as default_2_38_4_, broadleafc3_.friendly_name as friendly3_38_4_, personalme4_.personal_message_id as personal1_116_5_, personalme4_.message as message2_116_5_, personalme4_.message_from as message_3_116_5_, personalme4_.message_to as message_4_116_5_, personalme4_.occasion as occasion5_116_5_, phoneimpl5_.phone_id as phone_id1_118_6_, phoneimpl5_.country_code as country_2_118_6_, phoneimpl5_.extension as extensio3_118_6_, phoneimpl5_.is_active as is_activ4_118_6_, phoneimpl5_.is_default as is_defau5_118_6_, phoneimpl5_.phone_number as phone_nu6_118_6_ from blc_fulfillment_group fulfillmen0_ left outer join blc_address addressimp1_ on fulfillmen0_.address_id=addressimp1_.address_id left outer join blc_fulfillment_option fulfillmen2_ on fulfillmen0_.fulfillment_option_id=fulfillmen2_.fulfillment_option_id left outer join blc_fulfillment_option_fixed fulfillmen2_1_ on fulfillmen2_.fulfillment_option_id=fulfillmen2_1_.fulfillment_option_id left outer join blc_fulfillment_opt_banded_prc fulfillmen2_2_ on fulfillmen2_.fulfillment_option_id=fulfillmen2_2_.fulfillment_option_id left outer join blc_fulfillment_opt_banded_wgt fulfillmen2_3_ on fulfillmen2_.fulfillment_option_id=fulfillmen2_3_.fulfillment_option_id left outer join blc_currency broadleafc3_ on fulfillmen2_1_.currency_code=broadleafc3_.currency_code left outer join blc_personal_message personalme4_ on fulfillmen0_.personal_message_id=personalme4_.personal_message_id left outer join blc_phone phoneimpl5_ on fulfillmen0_.phone_id=phoneimpl5_.phone_id where fulfillmen0_.order_id=?
select payments0_.order_id as order_id8_106_0_, payments0_.order_payment_id as order_pa1_106_0_, payments0_.order_payment_id as order_pa1_106_1_, payments0_.amount as amount2_106_1_, payments0_.archived as archived3_106_1_, payments0_.address_id as address_7_106_1_, payments0_.gateway_type as gateway_4_106_1_, payments0_.order_id as order_id8_106_1_, payments0_.reference_number as referenc5_106_1_, payments0_.payment_type as payment_6_106_1_, addressimp1_.address_id as address_1_1_2_, addressimp1_.address_line1 as address_2_1_2_, addressimp1_.address_line2 as address_3_1_2_, addressimp1_.address_line3 as address_4_1_2_, addressimp1_.city as city5_1_2_, addressimp1_.company_name as company_6_1_2_, addressimp1_.country as country27_1_2_, addressimp1_.county as county7_1_2_, addressimp1_.email_address as email_ad8_1_2_, addressimp1_.fax as fax9_1_2_, addressimp1_.first_name as first_n10_1_2_, addressimp1_.full_name as full_na11_1_2_, addressimp1_.is_active as is_acti12_1_2_, addressimp1_.is_business as is_busi13_1_2_, addressimp1_.is_default as is_defa14_1_2_, addressimp1_.is_mailing as is_mail15_1_2_, addressimp1_.is_street as is_stre16_1_2_, addressimp1_.iso_country_alpha2 as iso_cou28_1_2_, addressimp1_.iso_country_sub as iso_cou17_1_2_, addressimp1_.last_name as last_na18_1_2_, addressimp1_.phone_fax_id as phone_f29_1_2_, addressimp1_.phone_primary_id as phone_p30_1_2_, addressimp1_.phone_secondary_id as phone_s31_1_2_, addressimp1_.postal_code as postal_19_1_2_, addressimp1_.primary_phone as primary20_1_2_, addressimp1_.secondary_phone as seconda21_1_2_, addressimp1_.standardized as standar22_1_2_, addressimp1_.state_prov_region as state_p32_1_2_, addressimp1_.sub_state_prov_reg as sub_sta23_1_2_, addressimp1_.tokenized_address as tokeniz24_1_2_, addressimp1_.verification_level as verific25_1_2_, addressimp1_.zip_four as zip_fou26_1_2_ from blc_order_payment payments0_ left outer join blc_address addressimp1_ on payments0_.address_id=addressimp1_.address_id where payments0_.order_id=?
Pre-processed SQL session queries : 
select from blccustomerphone inner join blcphone where customerph.customer_id=? 
select from blcfulfillmentgroup left outer join blcaddress left outer join blcfulfillmentoption left outer join blcfulfillmentoptionfixed left outer join blcfulfillmentoptbandedprc left outer join blcfulfillmentoptbandedwgt left outer join blccurrency left outer join blcpersonalmessage left outer join blcphone where fulfillmen.order_id=? 
select from blcorderpayment left outer join blcaddress where payments.order_id=? 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.cart.cartcontroller.cart(httpservletrequest, httpservletresponse, model) 
called| string com.community.controller.cart.cartcontroller.cart(httpservletrequest, httpservletresponse, model) 
called| string org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest, httpservletresponse, model) 
called| order org.broadleafcommerce.core.web.order.cartstate.getcart() 
called| string org.broadleafcommerce.core.web.order.security.cartstaterequestprocessor.getcartrequestattributename() 
called| paymentrequestdto org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order, paymentrequestdto) 
called| paymentrequestdto org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto, customer, string) 
sql|select customerph0_.customer_id as customer3_47_0_, customerph0_.customer_phone_id as customer1_47_0_, customerph0_.customer_phone_id as customer1_47_1_, customerph0_.customer_id as customer3_47_1_, customerph0_.phone_id as phone_id4_47_1_, customerph0_.phone_name as phone_na2_47_1_, phoneimpl1_.phone_id as phone_id1_118_2_, phoneimpl1_.country_code as country_2_118_2_, phoneimpl1_.extension as extensio3_118_2_, phoneimpl1_.is_active as is_activ4_118_2_, phoneimpl1_.is_default as is_defau5_118_2_, phoneimpl1_.phone_number as phone_nu6_118_2_ from blc_customer_phone customerph0_ inner join blc_phone phoneimpl1_ on customerph0_.phone_id=phoneimpl1_.phone_id where customerph0_.customer_id=?
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order, paymentrequestdto) 
sql|select fulfillmen0_.order_id as order_i23_66_0_, fulfillmen0_.fulfillment_group_id as fulfillm1_66_0_, fulfillmen0_.fulfillment_group_id as fulfillm1_66_1_, fulfillmen0_.address_id as address21_66_1_, fulfillmen0_.delivery_instruction as delivery2_66_1_, fulfillmen0_.fulfillment_option_id as fulfill22_66_1_, fulfillmen0_.price as price3_66_1_, fulfillmen0_.shipping_price_taxable as shipping4_66_1_, fulfillmen0_.merchandise_total as merchand5_66_1_, fulfillmen0_.method as method6_66_1_, fulfillmen0_.order_id as order_i23_66_1_, fulfillmen0_.personal_message_id as persona24_66_1_, fulfillmen0_.phone_id as phone_i25_66_1_, fulfillmen0_.is_primary as is_prima7_66_1_, fulfillmen0_.reference_number as referenc8_66_1_, fulfillmen0_.retail_price as retail_p9_66_1_, fulfillmen0_.sale_price as sale_pr10_66_1_, fulfillmen0_.fulfillment_group_sequnce as fulfill11_66_1_, fulfillmen0_.service as service12_66_1_, fulfillmen0_.shipping_override as shippin13_66_1_, fulfillmen0_.status as status14_66_1_, fulfillmen0_.total as total15_66_1_, fulfillmen0_.total_fee_tax as total_f16_66_1_, fulfillmen0_.total_fg_tax as total_f17_66_1_, fulfillmen0_.total_item_tax as total_i18_66_1_, fulfillmen0_.total_tax as total_t19_66_1_, fulfillmen0_.type as type20_66_1_, addressimp1_.address_id as address_1_1_2_, addressimp1_.address_line1 as address_2_1_2_, addressimp1_.address_line2 as address_3_1_2_, addressimp1_.address_line3 as address_4_1_2_, addressimp1_.city as city5_1_2_, addressimp1_.company_name as company_6_1_2_, addressimp1_.country as country27_1_2_, addressimp1_.county as county7_1_2_, addressimp1_.email_address as email_ad8_1_2_, addressimp1_.fax as fax9_1_2_, addressimp1_.first_name as first_n10_1_2_, addressimp1_.full_name as full_na11_1_2_, addressimp1_.is_active as is_acti12_1_2_, addressimp1_.is_business as is_busi13_1_2_, addressimp1_.is_default as is_defa14_1_2_, addressimp1_.is_mailing as is_mail15_1_2_, addressimp1_.is_street as is_stre16_1_2_, addressimp1_.iso_country_alpha2 as iso_cou28_1_2_, addressimp1_.iso_country_sub as iso_cou17_1_2_, addressimp1_.last_name as last_na18_1_2_, addressimp1_.phone_fax_id as phone_f29_1_2_, addressimp1_.phone_primary_id as phone_p30_1_2_, addressimp1_.phone_secondary_id as phone_s31_1_2_, addressimp1_.postal_code as postal_19_1_2_, addressimp1_.primary_phone as primary20_1_2_, addressimp1_.secondary_phone as seconda21_1_2_, addressimp1_.standardized as standar22_1_2_, addressimp1_.state_prov_region as state_p32_1_2_, addressimp1_.sub_state_prov_reg as sub_sta23_1_2_, addressimp1_.tokenized_address as tokeniz24_1_2_, addressimp1_.verification_level as verific25_1_2_, addressimp1_.zip_four as zip_fou26_1_2_, fulfillmen2_.fulfillment_option_id as fulfillm1_71_3_, fulfillmen2_.fulfillment_type as fulfillm2_71_3_, fulfillmen2_.long_description as long_des3_71_3_, fulfillmen2_.name as name4_71_3_, fulfillmen2_.tax_code as tax_code5_71_3_, fulfillmen2_.taxable as taxable6_71_3_, fulfillmen2_.use_flat_rates as use_flat7_71_3_, fulfillmen2_1_.currency_code as currency3_72_3_, fulfillmen2_1_.price as price1_72_3_, case when fulfillmen2_1_.fulfillment_option_id is not null then ? when fulfillmen2_2_.fulfillment_option_id is not null then ? when fulfillmen2_3_.fulfillment_option_id is not null then ? when fulfillmen2_.fulfillment_option_id is not null then ? end as clazz_3_, broadleafc3_.currency_code as currency1_38_4_, broadleafc3_.default_flag as default_2_38_4_, broadleafc3_.friendly_name as friendly3_38_4_, personalme4_.personal_message_id as personal1_116_5_, personalme4_.message as message2_116_5_, personalme4_.message_from as message_3_116_5_, personalme4_.message_to as message_4_116_5_, personalme4_.occasion as occasion5_116_5_, phoneimpl5_.phone_id as phone_id1_118_6_, phoneimpl5_.country_code as country_2_118_6_, phoneimpl5_.extension as extensio3_118_6_, phoneimpl5_.is_active as is_activ4_118_6_, phoneimpl5_.is_default as is_defau5_118_6_, phoneimpl5_.phone_number as phone_nu6_118_6_ from blc_fulfillment_group fulfillmen0_ left outer join blc_address addressimp1_ on fulfillmen0_.address_id=addressimp1_.address_id left outer join blc_fulfillment_option fulfillmen2_ on fulfillmen0_.fulfillment_option_id=fulfillmen2_.fulfillment_option_id left outer join blc_fulfillment_option_fixed fulfillmen2_1_ on fulfillmen2_.fulfillment_option_id=fulfillmen2_1_.fulfillment_option_id left outer join blc_fulfillment_opt_banded_prc fulfillmen2_2_ on fulfillmen2_.fulfillment_option_id=fulfillmen2_2_.fulfillment_option_id left outer join blc_fulfillment_opt_banded_wgt fulfillmen2_3_ on fulfillmen2_.fulfillment_option_id=fulfillmen2_3_.fulfillment_option_id left outer join blc_currency broadleafc3_ on fulfillmen2_1_.currency_code=broadleafc3_.currency_code left outer join blc_personal_message personalme4_ on fulfillmen0_.personal_message_id=personalme4_.personal_message_id left outer join blc_phone phoneimpl5_ on fulfillmen0_.phone_id=phoneimpl5_.phone_id where fulfillmen0_.order_id=?
called| fulfillmentgroup org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.getfirstshippablefulfillmentgroup(order) 
called| fulfillmenttype org.broadleafcommerce.core.order.service.type.fulfillmenttype.getinstance(string) 
called| boolean org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.isshippable(fulfillmenttype) 
called| boolean org.broadleafcommerce.core.order.service.type.fulfillmenttype.equals(object) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order, paymentrequestdto) 
sql|select payments0_.order_id as order_id8_106_0_, payments0_.order_payment_id as order_pa1_106_0_, payments0_.order_payment_id as order_pa1_106_1_, payments0_.amount as amount2_106_1_, payments0_.archived as archived3_106_1_, payments0_.address_id as address_7_106_1_, payments0_.gateway_type as gateway_4_106_1_, payments0_.order_id as order_id8_106_1_, payments0_.reference_number as referenc5_106_1_, payments0_.payment_type as payment_6_106_1_, addressimp1_.address_id as address_1_1_2_, addressimp1_.address_line1 as address_2_1_2_, addressimp1_.address_line2 as address_3_1_2_, addressimp1_.address_line3 as address_4_1_2_, addressimp1_.city as city5_1_2_, addressimp1_.company_name as company_6_1_2_, addressimp1_.country as country27_1_2_, addressimp1_.county as county7_1_2_, addressimp1_.email_address as email_ad8_1_2_, addressimp1_.fax as fax9_1_2_, addressimp1_.first_name as first_n10_1_2_, addressimp1_.full_name as full_na11_1_2_, addressimp1_.is_active as is_acti12_1_2_, addressimp1_.is_business as is_busi13_1_2_, addressimp1_.is_default as is_defa14_1_2_, addressimp1_.is_mailing as is_mail15_1_2_, addressimp1_.is_street as is_stre16_1_2_, addressimp1_.iso_country_alpha2 as iso_cou28_1_2_, addressimp1_.iso_country_sub as iso_cou17_1_2_, addressimp1_.last_name as last_na18_1_2_, addressimp1_.phone_fax_id as phone_f29_1_2_, addressimp1_.phone_primary_id as phone_p30_1_2_, addressimp1_.phone_secondary_id as phone_s31_1_2_, addressimp1_.postal_code as postal_19_1_2_, addressimp1_.primary_phone as primary20_1_2_, addressimp1_.secondary_phone as seconda21_1_2_, addressimp1_.standardized as standar22_1_2_, addressimp1_.state_prov_region as state_p32_1_2_, addressimp1_.sub_state_prov_reg as sub_sta23_1_2_, addressimp1_.tokenized_address as tokeniz24_1_2_, addressimp1_.verification_level as verific25_1_2_, addressimp1_.zip_four as zip_fou26_1_2_ from blc_order_payment payments0_ left outer join blc_address addressimp1_ on payments0_.address_id=addressimp1_.address_id where payments0_.order_id=?
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order, paymentrequestdto) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatedefaultlineitemsandsubtotal(order, paymentrequestdto) 
called| string org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.getcartview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[True, False, True, False, False]
path_matching_number_k:[1, 1, 2, 2, 2]
path_precision_k:[1.0, 0.5, 0.6666666666666666, 0.5, 0.4]
path_ap:0.8333333333333333
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[True, False, True, False, False]
request_matching_number_k:[1, 1, 2, 2, 2]
request_precision_k:[1.0, 0.5, 0.6666666666666666, 0.5, 0.4]
request_ap:0.6349206349206349

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.cart.cartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order,paymentrequestdto)
method:org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto,customer,string)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerphones()
[select customerid, customerphoneid, phonename, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone inner join blcphone on blccustomerphone.phoneid=blcphone.phoneid  where customerphoneid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.getfirstshippablefulfillmentgroup(order)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.gettotalafterappliedpayments()
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]

Syntactic Similarity:0.169567916812883
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.169567916812883
Path matching:True
Request matching:True
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.cart.cartcontroller.pricingsummary(httpservletrequest,httpservletresponse,boolean,model)
method:org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order,paymentrequestdto)
method:org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto,customer,string)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerphones()
[select customerid, customerphoneid, phonename, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone inner join blcphone on blccustomerphone.phoneid=blcphone.phoneid  where customerphoneid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.getfirstshippablefulfillmentgroup(order)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.gettotalafterappliedpayments()
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]

Syntactic Similarity:0.169567916812883
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.169567916812883
Path matching:False
Request matching:False
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.cart.cartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order,paymentrequestdto)
method:org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto,customer,string)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerphones()
[select customerid, customerphoneid, phonename, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone inner join blcphone on blccustomerphone.phoneid=blcphone.phoneid  where customerphoneid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.gettotalafterappliedpayments()
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]

Syntactic Similarity:0.16954054192579546
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.1695405419257954
Path matching:True
Request matching:True
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.cart.cartcontroller.pricingsummary(httpservletrequest,httpservletresponse,boolean,model)
method:org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order,paymentrequestdto)
method:org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto,customer,string)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerphones()
[select customerid, customerphoneid, phonename, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone inner join blcphone on blccustomerphone.phoneid=blcphone.phoneid  where customerphoneid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.gettotalafterappliedpayments()
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]

Syntactic Similarity:0.16954054192579546
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.1695405419257954
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.cart.cartcontroller.minicart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order,paymentrequestdto)
method:org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto,customer,string)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerphones()
[select null, customerphoneid, phonename, null, null, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone  left outer join blcphone on blccustomerphone.phoneid=blcphone.phoneid  where customerphoneid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.getfirstshippablefulfillmentgroup(order)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.gettotalafterappliedpayments()
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]

Syntactic Similarity:0.16640300964491198
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.166403009644912
Path matching:False
Request matching:False



======================================= 14 given SQL query ===========================================
Given SQL session queries: 
select customerph0_.customer_id as customer3_47_0_, customerph0_.customer_phone_id as customer1_47_0_, customerph0_.customer_phone_id as customer1_47_1_, customerph0_.customer_id as customer3_47_1_, customerph0_.phone_id as phone_id4_47_1_, customerph0_.phone_name as phone_na2_47_1_, phoneimpl1_.phone_id as phone_id1_118_2_, phoneimpl1_.country_code as country_2_118_2_, phoneimpl1_.extension as extensio3_118_2_, phoneimpl1_.is_active as is_activ4_118_2_, phoneimpl1_.is_default as is_defau5_118_2_, phoneimpl1_.phone_number as phone_nu6_118_2_ from blc_customer_phone customerph0_ inner join blc_phone phoneimpl1_ on customerph0_.phone_id=phoneimpl1_.phone_id where customerph0_.customer_id=?
Pre-processed SQL session queries : 
select from blccustomerphone inner join blcphone where customerph.customer_id=? 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.cart.cartcontroller.minicart(httpservletrequest, httpservletresponse, model) 
called| string com.community.controller.cart.cartcontroller.minicart(httpservletrequest, httpservletresponse, model) 
called| string org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest, httpservletresponse, model) 
called| order org.broadleafcommerce.core.web.order.cartstate.getcart() 
called| string org.broadleafcommerce.core.web.order.security.cartstaterequestprocessor.getcartrequestattributename() 
called| boolean org.broadleafcommerce.profile.web.site.security.customerstatefilter.isignored(httpservletrequest, httpservletresponse) 
called| void org.broadleafcommerce.profile.web.site.security.customerstatefilter.dofilterinternalunlessignored(httpservletrequest, httpservletresponse, filterchain) 
called| void org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.process(webrequest) 
called| paymentrequestdto org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order, paymentrequestdto) 
called| customer org.broadleafcommerce.profile.core.service.customerserviceimpl.readcustomerbyusername(string) 
called| paymentrequestdto org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto, customer, string) 
called| customer org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string) 
called| customer org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomerbyusername(string, boolean) 
called| list org.broadleafcommerce.profile.core.dao.customerdaoimpl.readcustomersbyusername(string, boolean) 
sql|select customerph0_.customer_id as customer3_47_0_, customerph0_.customer_phone_id as customer1_47_0_, customerph0_.customer_phone_id as customer1_47_1_, customerph0_.customer_id as customer3_47_1_, customerph0_.phone_id as phone_id4_47_1_, customerph0_.phone_name as phone_na2_47_1_, phoneimpl1_.phone_id as phone_id1_118_2_, phoneimpl1_.country_code as country_2_118_2_, phoneimpl1_.extension as extensio3_118_2_, phoneimpl1_.is_active as is_activ4_118_2_, phoneimpl1_.is_default as is_defau5_118_2_, phoneimpl1_.phone_number as phone_nu6_118_2_ from blc_customer_phone customerph0_ inner join blc_phone phoneimpl1_ on customerph0_.phone_id=phoneimpl1_.phone_id where customerph0_.customer_id=?
called| customer org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.mergecustomerifrequired(webrequest, customer) 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomermergedsessionattributename() 
called| void org.broadleafcommerce.profile.web.core.customerstate.setcustomer(customer) 
called| void org.broadleafcommerce.core.web.order.security.cartstatefilter.dofilterinternalunlessignored(httpservletrequest, httpservletresponse, filterchain) 
called| void org.broadleafcommerce.core.web.order.security.cartstaterequestprocessor.process(webrequest) 
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| order org.broadleafcommerce.core.web.order.security.cartstaterequestprocessor.getoverridecart(webrequest) 
called| boolean org.broadleafcommerce.core.web.order.security.cartstaterequestprocessor.mergecartneeded(customer, webrequest) 
called| customer org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomer(webrequest) 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomersessionattributename() 
called| string org.broadleafcommerce.profile.web.core.security.customerstaterequestprocessor.getanonymouscustomeridsessionattributename() 
called| order org.broadleafcommerce.core.order.service.orderserviceimpl.findcartforcustomerwithenhancements(customer) 
called| extensionresultstatustype org.broadleafcommerce.core.order.service.orderserviceextensionmanager.findcartforcustomerwithenhancements(customer, extensionresultholder) 
called| extensionresultstatustype org.broadleafcommerce.core.order.service.orderserviceextensionmanager.6.execute(extensionhandler, object[]) 
called| extensionresultstatustype org.broadleafcommerce.core.order.service.abstractorderserviceextensionhandler.findcartforcustomerwithenhancements(customer, extensionresultholder) 
called| order org.broadleafcommerce.core.order.service.orderserviceimpl.findcartforcustomer(customer) 
called| object org.broadleafcommerce.core.web.order.orderstateaop.processorderretrieval(proceedingjoinpoint) 
called| order org.broadleafcommerce.core.web.order.orderstate.getorder(customer) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order, paymentrequestdto) 
called| order org.broadleafcommerce.core.order.dao.orderdaoimpl.readcartforcustomer(customer) 
called| string org.broadleafcommerce.core.order.service.type.orderstatus.gettype() 
called| fulfillmentgroup org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.getfirstshippablefulfillmentgroup(order) 
called| fulfillmenttype org.broadleafcommerce.core.order.service.type.fulfillmenttype.getinstance(string) 
called| boolean org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.isshippable(fulfillmenttype) 
called| boolean org.broadleafcommerce.core.order.service.type.fulfillmenttype.equals(object) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order, paymentrequestdto) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order, paymentrequestdto) 
called| order org.broadleafcommerce.core.web.order.orderstate.setorder(customer, order) 
called| void org.broadleafcommerce.core.web.service.updatecartserviceimpl.updateandvalidatecart(order) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatedefaultlineitemsandsubtotal(order, paymentrequestdto) 
called| extensionresultstatustype org.broadleafcommerce.core.web.service.i18nupdatecartserviceextensionhandler.updateandvalidatecart(order, extensionresultholder) 
called| boolean org.broadleafcommerce.core.web.service.i18nupdatecartserviceextensionhandler.gettranslationenabled() 
called| string org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.getcartview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[False, False, False, False, False]
path_matching_number_k:[0, 0, 0, 0, 0]
path_precision_k:[0.0, 0.0, 0.0, 0.0, 0.0]
path_ap:0.14090909090909093
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[False, False, False, False, False]
request_matching_number_k:[0, 0, 0, 0, 0]
request_precision_k:[0.0, 0.0, 0.0, 0.0, 0.0]
request_ap:0.17615307486631016

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.customerphonecontroller.viewphone(long,httpservletrequest,phonenameform,bindingresult)
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.readcustomerphonebyid(long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readcustomerphonebyid(long)
[select null, customerphoneid, phonename, null, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone  left outer join blccustomer on blccustomerphone=blccustomer  left outer join blcphone on blccustomerphone=blcphone  where customerphoneid=?]

Syntactic Similarity:0.17694706681297342
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.1769470668129733
Path matching:False
Request matching:False
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.customerphonecontroller.savephone(phonenameform,bindingresult,httpservletrequest,long,long)
method:org.broadleafcommerce.profile.web.controller.validator.customerphonevalidator.validate(object,errors)
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.readallcustomerphonesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readallcustomerphonesbycustomerid(long)
[select cp from blccustomerphone cp where cp.customer.id = :customerid order by cp.id]

Syntactic Similarity:0.04586942444460844
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.0458694244446085
Path matching:False
Request matching:False
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.customerphonecontroller.deletephone(long,httpservletrequest)
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.deletecustomerphonebyid(long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.deletecustomerphonebyid(long)
[delete from blccustomerphone where customerphoneid=?]
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readcustomerphonebyid(long)
[select null, customerphoneid, phonename, null, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone  left outer join blccustomer on blccustomerphone=blccustomer  left outer join blcphone on blccustomerphone=blcphone  where customerphoneid=?]

Syntactic Similarity:0.19399764719144025
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.6939976471914402
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.customerphonecontroller.makephonedefault(long,httpservletrequest)
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.readcustomerphonebyid(long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readcustomerphonebyid(long)
[select null, customerphoneid, phonename, null, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone  left outer join blccustomer on blccustomerphone=blccustomer  left outer join blcphone on blccustomerphone=blcphone  where customerphoneid=?]
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.makecustomerphonedefault(long,long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.makecustomerphonedefault(long,long)
[update blccustomerphone set null=?, customerphoneid=?, phonename=?, null=?, null=? where customerphoneid=?]
[insert into blccustomerphone (null, customerphoneid, phonename, null, null) values (?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readactivecustomerphonesbycustomerid(long)
[select cp from blccustomerphone cp where cp.customer.id = :customerid and cp.phone.isactive = true order by cp.id]

Syntactic Similarity:0.14497879855516388
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.4783121318884972
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.cart.cartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order,paymentrequestdto)
method:org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto,customer,string)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerphones()
[select customerid, customerphoneid, phonename, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone inner join blcphone on blccustomerphone.phoneid=blcphone.phoneid  where customerphoneid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.gettotalafterappliedpayments()
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]

Syntactic Similarity:0.07356162943597631
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.40689496276930964
Path matching:False
Request matching:False



======================================= 15 given SQL query ===========================================
Given SQL session queries: 
select customerph0_.customer_id as customer3_47_0_, customerph0_.customer_phone_id as customer1_47_0_, customerph0_.customer_phone_id as customer1_47_1_, customerph0_.customer_id as customer3_47_1_, customerph0_.phone_id as phone_id4_47_1_, customerph0_.phone_name as phone_na2_47_1_, phoneimpl1_.phone_id as phone_id1_118_2_, phoneimpl1_.country_code as country_2_118_2_, phoneimpl1_.extension as extensio3_118_2_, phoneimpl1_.is_active as is_activ4_118_2_, phoneimpl1_.is_default as is_defau5_118_2_, phoneimpl1_.phone_number as phone_nu6_118_2_ from blc_customer_phone customerph0_ inner join blc_phone phoneimpl1_ on customerph0_.phone_id=phoneimpl1_.phone_id where customerph0_.customer_id=?
Pre-processed SQL session queries : 
select from blccustomerphone inner join blcphone where customerph.customer_id=? 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.cart.cartcontroller.pricingsummary(httpservletrequest, httpservletresponse, boolean, model) 
called| string com.community.controller.cart.cartcontroller.pricingsummary(httpservletrequest, httpservletresponse, boolean, model) 
called| string org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest, httpservletresponse, model) 
called| order org.broadleafcommerce.core.web.order.cartstate.getcart() 
called| string org.broadleafcommerce.core.web.order.security.cartstaterequestprocessor.getcartrequestattributename() 
called| paymentrequestdto org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order, paymentrequestdto) 
called| paymentrequestdto org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto, customer, string) 
sql|select customerph0_.customer_id as customer3_47_0_, customerph0_.customer_phone_id as customer1_47_0_, customerph0_.customer_phone_id as customer1_47_1_, customerph0_.customer_id as customer3_47_1_, customerph0_.phone_id as phone_id4_47_1_, customerph0_.phone_name as phone_na2_47_1_, phoneimpl1_.phone_id as phone_id1_118_2_, phoneimpl1_.country_code as country_2_118_2_, phoneimpl1_.extension as extensio3_118_2_, phoneimpl1_.is_active as is_activ4_118_2_, phoneimpl1_.is_default as is_defau5_118_2_, phoneimpl1_.phone_number as phone_nu6_118_2_ from blc_customer_phone customerph0_ inner join blc_phone phoneimpl1_ on customerph0_.phone_id=phoneimpl1_.phone_id where customerph0_.customer_id=?
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order, paymentrequestdto) 
called| fulfillmentgroup org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.getfirstshippablefulfillmentgroup(order) 
called| fulfillmenttype org.broadleafcommerce.core.order.service.type.fulfillmenttype.getinstance(string) 
called| boolean org.broadleafcommerce.core.order.service.fulfillmentgroupserviceimpl.isshippable(fulfillmenttype) 
called| boolean org.broadleafcommerce.core.order.service.type.fulfillmenttype.equals(object) 
called| ordertopaymentrequestdtoserviceimpl.nameresponse org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.getname(address) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order, paymentrequestdto) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order, paymentrequestdto) 
called| void org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatedefaultlineitemsandsubtotal(order, paymentrequestdto) 
called| string org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.getcartview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[False, False, False, False, True]
path_matching_number_k:[0, 0, 0, 0, 1]
path_precision_k:[0.0, 0.0, 0.0, 0.0, 0.2]
path_ap:0.24285714285714285
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[False, False, False, False, True]
request_matching_number_k:[0, 0, 0, 0, 1]
request_precision_k:[0.0, 0.0, 0.0, 0.0, 0.2]
request_ap:0.2457875457875458

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.customerphonecontroller.viewphone(long,httpservletrequest,phonenameform,bindingresult)
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.readcustomerphonebyid(long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readcustomerphonebyid(long)
[select null, customerphoneid, phonename, null, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone  left outer join blccustomer on blccustomerphone=blccustomer  left outer join blcphone on blccustomerphone=blcphone  where customerphoneid=?]

Syntactic Similarity:0.17694706681297342
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.1769470668129733
Path matching:False
Request matching:False
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.customerphonecontroller.savephone(phonenameform,bindingresult,httpservletrequest,long,long)
method:org.broadleafcommerce.profile.web.controller.validator.customerphonevalidator.validate(object,errors)
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.readallcustomerphonesbycustomerid(long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readallcustomerphonesbycustomerid(long)
[select cp from blccustomerphone cp where cp.customer.id = :customerid order by cp.id]

Syntactic Similarity:0.04586942444460844
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.0458694244446085
Path matching:False
Request matching:False
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.customerphonecontroller.deletephone(long,httpservletrequest)
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.deletecustomerphonebyid(long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.deletecustomerphonebyid(long)
[delete from blccustomerphone where customerphoneid=?]
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readcustomerphonebyid(long)
[select null, customerphoneid, phonename, null, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone  left outer join blccustomer on blccustomerphone=blccustomer  left outer join blcphone on blccustomerphone=blcphone  where customerphoneid=?]

Syntactic Similarity:0.19399764719144025
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.6939976471914402
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:org.broadleafcommerce.profile.web.controller.customerphonecontroller.makephonedefault(long,httpservletrequest)
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.readcustomerphonebyid(long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readcustomerphonebyid(long)
[select null, customerphoneid, phonename, null, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone  left outer join blccustomer on blccustomerphone=blccustomer  left outer join blcphone on blccustomerphone=blcphone  where customerphoneid=?]
method:org.broadleafcommerce.profile.core.service.customerphoneserviceimpl.makecustomerphonedefault(long,long)
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.makecustomerphonedefault(long,long)
[update blccustomerphone set null=?, customerphoneid=?, phonename=?, null=?, null=? where customerphoneid=?]
[insert into blccustomerphone (null, customerphoneid, phonename, null, null) values (?, ?, ?, ?, ?)]
method:org.broadleafcommerce.profile.core.dao.customerphonedaoimpl.readactivecustomerphonesbycustomerid(long)
[select cp from blccustomerphone cp where cp.customer.id = :customerid and cp.phone.isactive = true order by cp.id]

Syntactic Similarity:0.14497879855516388
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.4783121318884972
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.cart.cartcontroller.pricingsummary(httpservletrequest,httpservletresponse,boolean,model)
method:org.broadleafcommerce.core.web.controller.cart.broadleafcartcontroller.cart(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.translateorder(order)
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatecustomerinfo(order,paymentrequestdto)
method:org.broadleafcommerce.core.payment.service.paymentrequestdtoserviceimpl.populatecustomerinfo(paymentrequestdto,customer,string)
method:org.broadleafcommerce.profile.core.domain.customerimpl.getcustomerphones()
[select customerid, customerphoneid, phonename, phoneid, countrycode, phonenumber, extension, isdefault, isactive from blccustomerphone inner join blcphone on blccustomerphone.phoneid=blcphone.phoneid  where customerphoneid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populateshipto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getfulfillmentgroups()
[select null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentoptionid, name, longdescription, useflatrates, fulfillmenttype, taxcode, taxable, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, phoneid, countrycode, phonenumber, extension, isdefault, isactive, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, fulfillmentgroupitemid, null, null, quantity, status, null, totalitemtax, totalitemamount, totalitemtaxableamount, proratedorderadj, null, fulfillmentgroupfeeid, null, amount, name, reportingcode, feetaxableflag, null, totalfeetax, null, candidatefgofferid, null, null, discountedprice, null, null, fgadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, taxdetailid, type, amount, rate, jurisdictionname, taxcountry, taxregion, taxname, null, null from blcfulfillmentgroup  left outer join blcfulfillmentoption on blcfulfillmentgroup=blcfulfillmentoption  left outer join blcaddress on blcfulfillmentgroup=blcaddress  left outer join blcphone on blcfulfillmentgroup=blcphone  left outer join blcpersonalmessage on blcfulfillmentgroup=blcpersonalmessage  left outer join blcfulfillmentgroupitem on blcfulfillmentgroup=blcfulfillmentgroupitem  left outer join blcfulfillmentgroupfee on blcfulfillmentgroup=blcfulfillmentgroupfee  left outer join blccandidatefgoffer on blcfulfillmentgroup=blccandidatefgoffer  left outer join blcfgadjustment on blcfulfillmentgroup=blcfgadjustment  left outer join blctaxdetail on blcfulfillmentgroup=blctaxdetail  where fulfillmentgroupid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatebillto(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]
method:org.broadleafcommerce.core.payment.service.ordertopaymentrequestdtoserviceimpl.populatetotals(order,paymentrequestdto)
method:org.broadleafcommerce.core.order.domain.orderimpl.gettotalafterappliedpayments()
method:org.broadleafcommerce.core.order.domain.orderimpl.getpayments()
[select null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, addressid, fullname, firstname, lastname, emailaddress, companyname, addressline1, addressline2, addressline3, city, null, isocountrysub, substateprovreg, county, null, null, postalcode, zipfour, null, null, null, isdefault, isactive, isbusiness, isstreet, ismailing, tokenizedaddress, standardized, verificationlevel, primaryphone, secondaryphone, fax, null, paymenttransactionid, transactiontype, transactionamount, daterecorded, customeripaddress, rawresponse, success, null, null, null, fieldvalue, savetoken from blcorderpayment  left outer join blcaddress on blcorderpayment=blcaddress  left outer join blcorderpaymenttransaction on blcorderpayment=blcorderpaymenttransaction  where orderpaymentid=?]

Syntactic Similarity:0.07356162943597631
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.40689496276930964
Path matching:True
Request matching:True



======================================= 16 given SQL query ===========================================
Given SQL session queries: 
select orderimpl0_.order_id as order_id1_93_, orderimpl0_.created_by as created_2_93_, orderimpl0_.date_created as date_cre3_93_, orderimpl0_.date_updated as date_upd4_93_, orderimpl0_.updated_by as updated_5_93_, orderimpl0_.currency_code as currenc17_93_, orderimpl0_.customer_id as custome18_93_, orderimpl0_.email_address as email_ad6_93_, orderimpl0_.locale_code as locale_19_93_, orderimpl0_.name as name7_93_, orderimpl0_.order_number as order_nu8_93_, orderimpl0_.is_preview as is_previ9_93_, orderimpl0_.order_status as order_s10_93_, orderimpl0_.order_subtotal as order_s11_93_, orderimpl0_.submit_date as submit_12_93_, orderimpl0_.tax_override as tax_ove13_93_, orderimpl0_.order_total as order_t14_93_, orderimpl0_.total_shipping as total_s15_93_, orderimpl0_.total_tax as total_t16_93_ from blc_order orderimpl0_ where orderimpl0_.order_number=?
select localeimpl0_.locale_code as locale_c1_82_0_, localeimpl0_.currency_code as currency5_82_0_, localeimpl0_.default_flag as default_2_82_0_, localeimpl0_.friendly_name as friendly3_82_0_, localeimpl0_.use_in_search_index as use_in_s4_82_0_, broadleafc1_.currency_code as currency1_38_1_, broadleafc1_.default_flag as default_2_38_1_, broadleafc1_.friendly_name as friendly3_38_1_ from blc_locale localeimpl0_ left outer join blc_currency broadleafc1_ on localeimpl0_.currency_code=broadleafc1_.currency_code where localeimpl0_.locale_code=?
Pre-processed SQL session queries : 
select from blcorder where orderimpl.order_number=? 
select from blclocale left outer join blccurrency where localeimpl.locale_code=? 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.checkout.orderconfirmationcontroller.displayorderconfirmationbyordernumber(string, model, httpservletrequest, httpservletresponse) 
called| string com.community.controller.checkout.orderconfirmationcontroller.displayorderconfirmationbyordernumber(string, model, httpservletrequest, httpservletresponse) 
called| string org.broadleafcommerce.core.web.controller.checkout.broadleaforderconfirmationcontroller.displayorderconfirmationbyordernumber(string, model, httpservletrequest, httpservletresponse) 
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| order org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string) 
called| order org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string) 
sql|select orderimpl0_.order_id as order_id1_93_, orderimpl0_.created_by as created_2_93_, orderimpl0_.date_created as date_cre3_93_, orderimpl0_.date_updated as date_upd4_93_, orderimpl0_.updated_by as updated_5_93_, orderimpl0_.currency_code as currenc17_93_, orderimpl0_.customer_id as custome18_93_, orderimpl0_.email_address as email_ad6_93_, orderimpl0_.locale_code as locale_19_93_, orderimpl0_.name as name7_93_, orderimpl0_.order_number as order_nu8_93_, orderimpl0_.is_preview as is_previ9_93_, orderimpl0_.order_status as order_s10_93_, orderimpl0_.order_subtotal as order_s11_93_, orderimpl0_.submit_date as submit_12_93_, orderimpl0_.tax_override as tax_ove13_93_, orderimpl0_.order_total as order_t14_93_, orderimpl0_.total_shipping as total_s15_93_, orderimpl0_.total_tax as total_t16_93_ from blc_order orderimpl0_ where orderimpl0_.order_number=?
sql|select localeimpl0_.locale_code as locale_c1_82_0_, localeimpl0_.currency_code as currency5_82_0_, localeimpl0_.default_flag as default_2_82_0_, localeimpl0_.friendly_name as friendly3_82_0_, localeimpl0_.use_in_search_index as use_in_s4_82_0_, broadleafc1_.currency_code as currency1_38_1_, broadleafc1_.default_flag as default_2_38_1_, broadleafc1_.friendly_name as friendly3_38_1_ from blc_locale localeimpl0_ left outer join blc_currency broadleafc1_ on localeimpl0_.currency_code=broadleafc1_.currency_code where localeimpl0_.locale_code=?
called| string org.broadleafcommerce.core.web.controller.checkout.broadleaforderconfirmationcontroller.getorderconfirmationview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[True, False, False, False, False]
path_matching_number_k:[1, 1, 1, 1, 1]
path_precision_k:[1.0, 0.5, 0.3333333333333333, 0.25, 0.2]
path_ap:1.0
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[True, False, False, False, False]
request_matching_number_k:[1, 1, 1, 1, 1]
request_precision_k:[1.0, 0.5, 0.3333333333333333, 0.25, 0.2]
request_ap:1.0

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.checkout.orderconfirmationcontroller.displayorderconfirmationbyordernumber(string,model,httpservletrequest,httpservletresponse)
method:org.broadleafcommerce.core.web.controller.checkout.broadleaforderconfirmationcontroller.displayorderconfirmationbyordernumber(string,model,httpservletrequest,httpservletresponse)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string)
[select order from blcorder order where order.ordernumber = :ordernumber]

Syntactic Similarity:0.06383485037702918
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5638348503770292
Path matching:True
Request matching:True
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.orderhistorycontroller.vieworderhistory(httpservletrequest,model)
method:org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderhistory(httpservletrequest,model)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findordersforcustomer(customer,orderstatus)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersforcustomer(customer,orderstatus)
[select order from blcorder order where order.customer.id = :customerid and order.status = :orderstatus]
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersforcustomer(long)
[select order from blcorder order where order.customer.id = :customerid]

Syntactic Similarity:0.039648204737638394
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5396482047376384
Path matching:False
Request matching:False
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managewishlistcontroller.viewaccountwishlist(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.viewwishlist(httpservletrequest,httpservletresponse,model,string)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findnamedorderforcustomer(string,customer)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readnamedorderforcustomer(customer,string)
[select order from blcorder order where order.customer.id = :customerid and order.name = :ordername and order.status = :orderstatus]

Syntactic Similarity:0.026601602758784926
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.526601602758785
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.orderhistorycontroller.vieworderdetails(httpservletrequest,model,string)
method:org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderdetails(httpservletrequest,model,string)
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.getorderdetails(string)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string)
[select order from blcorder order where order.ordernumber = :ordernumber]
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.validatecustomerowneddata(order)
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.shouldvalidatecustomerowneddata()
[select from blcsystemproperty where systemprop.propertyname=?]

Syntactic Similarity:0.05734281702657982
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.39067615035991315
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managewishlistcontroller.removeitemfromwishlist(httpservletrequest,httpservletresponse,model,long)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.removeitemfromwishlist(httpservletrequest,httpservletresponse,model,string,long)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findnamedorderforcustomer(string,customer)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readnamedorderforcustomer(customer,string)
[select order from blcorder order where order.customer.id = :customerid and order.name = :ordername and order.status = :orderstatus]
method:org.broadleafcommerce.core.order.service.orderserviceimpl.removeitem(long,long,boolean)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyid(long)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyid(long)
[select null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, orderadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, offercodeid, null, offercode, startdate, enddate, maxuses, uses, emailaddress, null, null, null, null, null, candidateorderofferid, null, null, discountedprice, null, null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, offerinfoid, fieldvalue, null, orderattributeid, name, value, null from blcorder  left outer join blccustomer on blcorder=blccustomer  left outer join blcorderitem on blcorder=blcorderitem  left outer join blcfulfillmentgroup on blcorder=blcfulfillmentgroup  left outer join blcorderadjustment on blcorder=blcorderadjustment  left outer join blcoffercode on blcorder=blcoffercode  left outer join blccandidateorderoffer on blcorder=blccandidateorderoffer  left outer join blcorderpayment on blcorder=blcorderpayment  left outer join blcofferinfo on blcorder=blcofferinfo  left outer join blcorderattribute on blcorder=blcorderattribute  where orderid=?]
method:org.broadleafcommerce.core.order.service.orderitemserviceimpl.readorderitembyid(long)
method:org.broadleafcommerce.core.order.dao.orderitemdaoimpl.readorderitembyid(long)
[select null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, categoryid, name, url, overridegeneratedurl, externalid, urlkey, description, taxcode, activestartdate, activeenddate, displaytemplate, longdescription, rootdisplayorder, metatitle, metadesc, producttitlepatternoverride, productdescpatternoverride, null, null, null, null, null, null, null, null, null, null, null, null, inventorytype, fulfillmenttype, null, null, null, null, null, null, null, null, null, null, null, null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, null, orderitemadjustmentid, null, null, adjustmentreason, adjustmentvalue, appliedtosaleprice, null, null, null, null, proratedorderitemadjustid, null, null, adjustmentreason, proratedadjustmentvalue, proratedquantity, null, null, itemofferqualifierid, null, null, quantity, null, null, null, candidateitemofferid, null, null, discountedprice, null, null, orderitempricedtlid, null, null, quantity, usesaleprice, null, null, orderitemattributeid, name, value, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null from blcorderitem  left outer join blccategory on blcorderitem=blccategory  left outer join blcorder on blcorderitem=blcorder  left outer join blcpersonalmessage on blcorderitem=blcpersonalmessage  left outer join blcgiftwraporderitem on blcorderitem=blcgiftwraporderitem  left outer join blcorderitemadjustment on blcorderitem=blcorderitemadjustment  left outer join blcproratedorderitemadjust on blcorderitem=blcproratedorderitemadjust  left outer join blcitemofferqualifier on blcorderitem=blcitemofferqualifier  left outer join blccandidateitemoffer on blcorderitem=blccandidateitemoffer  left outer join blcorderitempricedtl on blcorderitem=blcorderitempricedtl  left outer join blcorderitemattribute on blcorderitem=blcorderitemattribute  left outer join blcorderitem on blcorderitem=blcorderitem  left outer join blcorderitem on blcorderitem=blcorderitem  where orderitemid=?]
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findallchildrentoremove(list,orderitem)
method:org.broadleafcommerce.core.order.domain.orderitemimpl.getchildorderitems()
[select null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, categoryid, name, url, overridegeneratedurl, externalid, urlkey, description, taxcode, activestartdate, activeenddate, displaytemplate, longdescription, rootdisplayorder, metatitle, metadesc, producttitlepatternoverride, productdescpatternoverride, null, null, null, null, null, null, null, null, null, null, null, null, inventorytype, fulfillmenttype, null, null, null, null, null, null, null, null, null, null, null, null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, null, orderitemadjustmentid, null, null, adjustmentreason, adjustmentvalue, appliedtosaleprice, null, null, null, null, proratedorderitemadjustid, null, null, adjustmentreason, proratedadjustmentvalue, proratedquantity, null, null, itemofferqualifierid, null, null, quantity, null, null, null, candidateitemofferid, null, null, discountedprice, null, null, orderitempricedtlid, null, null, quantity, usesaleprice, null, null, orderitemattributeid, name, value, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null from blcorderitem  left outer join blccategory on blcorderitem=blccategory  left outer join blcorder on blcorderitem=blcorder  left outer join blcpersonalmessage on blcorderitem=blcpersonalmessage  left outer join blcgiftwraporderitem on blcorderitem=blcgiftwraporderitem  left outer join blcorderitemadjustment on blcorderitem=blcorderitemadjustment  left outer join blcproratedorderitemadjust on blcorderitem=blcproratedorderitemadjust  left outer join blcitemofferqualifier on blcorderitem=blcitemofferqualifier  left outer join blccandidateitemoffer on blcorderitem=blccandidateitemoffer  left outer join blcorderitempricedtl on blcorderitem=blcorderitempricedtl  left outer join blcorderitemattribute on blcorderitem=blcorderitemattribute  left outer join blcorderitem on blcorderitem=blcorderitem  where orderitemid=?]
method:org.broadleafcommerce.core.order.service.orderserviceimpl.removeiteminternal(long,long,boolean)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyid(long)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyid(long)
[select null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, orderadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, offercodeid, null, offercode, startdate, enddate, maxuses, uses, emailaddress, null, null, null, null, null, candidateorderofferid, null, null, discountedprice, null, null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, offerinfoid, fieldvalue, null, orderattributeid, name, value, null from blcorder  left outer join blccustomer on blcorder=blccustomer  left outer join blcorderitem on blcorder=blcorderitem  left outer join blcfulfillmentgroup on blcorder=blcfulfillmentgroup  left outer join blcorderadjustment on blcorder=blcorderadjustment  left outer join blcoffercode on blcorder=blcoffercode  left outer join blccandidateorderoffer on blcorder=blccandidateorderoffer  left outer join blcorderpayment on blcorder=blcorderpayment  left outer join blcofferinfo on blcorder=blcofferinfo  left outer join blcorderattribute on blcorder=blcorderattribute  where orderid=?]

Syntactic Similarity:0.019871097911651064
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.35320443124498435
Path matching:False
Request matching:False



======================================= 17 given SQL query ===========================================
Given SQL session queries: 
select orderimpl0_.order_id as order_id1_93_, orderimpl0_.created_by as created_2_93_, orderimpl0_.date_created as date_cre3_93_, orderimpl0_.date_updated as date_upd4_93_, orderimpl0_.updated_by as updated_5_93_, orderimpl0_.currency_code as currenc17_93_, orderimpl0_.customer_id as custome18_93_, orderimpl0_.email_address as email_ad6_93_, orderimpl0_.locale_code as locale_19_93_, orderimpl0_.name as name7_93_, orderimpl0_.order_number as order_nu8_93_, orderimpl0_.is_preview as is_previ9_93_, orderimpl0_.order_status as order_s10_93_, orderimpl0_.order_subtotal as order_s11_93_, orderimpl0_.submit_date as submit_12_93_, orderimpl0_.tax_override as tax_ove13_93_, orderimpl0_.order_total as order_t14_93_, orderimpl0_.total_shipping as total_s15_93_, orderimpl0_.total_tax as total_t16_93_ from blc_order orderimpl0_ where orderimpl0_.customer_id=? and orderimpl0_.order_status=?
select localeimpl0_.locale_code as locale_c1_82_0_, localeimpl0_.currency_code as currency5_82_0_, localeimpl0_.default_flag as default_2_82_0_, localeimpl0_.friendly_name as friendly3_82_0_, localeimpl0_.use_in_search_index as use_in_s4_82_0_, broadleafc1_.currency_code as currency1_38_1_, broadleafc1_.default_flag as default_2_38_1_, broadleafc1_.friendly_name as friendly3_38_1_ from blc_locale localeimpl0_ left outer join blc_currency broadleafc1_ on localeimpl0_.currency_code=broadleafc1_.currency_code where localeimpl0_.locale_code=?
Pre-processed SQL session queries : 
select from blcorder where orderimpl.customer_id=? and orderimpl.order_status=? 
select from blclocale left outer join blccurrency where localeimpl.locale_code=? 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.account.orderhistorycontroller.vieworderhistory(httpservletrequest, model) 
called| string com.community.controller.account.orderhistorycontroller.vieworderhistory(httpservletrequest, model) 
called| string org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderhistory(httpservletrequest, model) 
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| list org.broadleafcommerce.core.order.service.orderserviceimpl.findordersforcustomer(customer, orderstatus) 
called| list org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersforcustomer(customer, orderstatus) 
called| string org.broadleafcommerce.core.order.service.type.orderstatus.gettype() 
sql|select orderimpl0_.order_id as order_id1_93_, orderimpl0_.created_by as created_2_93_, orderimpl0_.date_created as date_cre3_93_, orderimpl0_.date_updated as date_upd4_93_, orderimpl0_.updated_by as updated_5_93_, orderimpl0_.currency_code as currenc17_93_, orderimpl0_.customer_id as custome18_93_, orderimpl0_.email_address as email_ad6_93_, orderimpl0_.locale_code as locale_19_93_, orderimpl0_.name as name7_93_, orderimpl0_.order_number as order_nu8_93_, orderimpl0_.is_preview as is_previ9_93_, orderimpl0_.order_status as order_s10_93_, orderimpl0_.order_subtotal as order_s11_93_, orderimpl0_.submit_date as submit_12_93_, orderimpl0_.tax_override as tax_ove13_93_, orderimpl0_.order_total as order_t14_93_, orderimpl0_.total_shipping as total_s15_93_, orderimpl0_.total_tax as total_t16_93_ from blc_order orderimpl0_ where orderimpl0_.customer_id=? and orderimpl0_.order_status=?
sql|select localeimpl0_.locale_code as locale_c1_82_0_, localeimpl0_.currency_code as currency5_82_0_, localeimpl0_.default_flag as default_2_82_0_, localeimpl0_.friendly_name as friendly3_82_0_, localeimpl0_.use_in_search_index as use_in_s4_82_0_, broadleafc1_.currency_code as currency1_38_1_, broadleafc1_.default_flag as default_2_38_1_, broadleafc1_.friendly_name as friendly3_38_1_ from blc_locale localeimpl0_ left outer join blc_currency broadleafc1_ on localeimpl0_.currency_code=broadleafc1_.currency_code where localeimpl0_.locale_code=?
called| string org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.getorderhistoryview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[False, True, False, False, False]
path_matching_number_k:[0, 1, 1, 1, 1]
path_precision_k:[0.0, 0.5, 0.3333333333333333, 0.25, 0.2]
path_ap:0.5
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[False, True, False, False, False]
request_matching_number_k:[0, 1, 1, 1, 1]
request_precision_k:[0.0, 0.5, 0.3333333333333333, 0.25, 0.2]
request_ap:0.5

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managewishlistcontroller.viewaccountwishlist(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.viewwishlist(httpservletrequest,httpservletresponse,model,string)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findnamedorderforcustomer(string,customer)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readnamedorderforcustomer(customer,string)
[select order from blcorder order where order.customer.id = :customerid and order.name = :ordername and order.status = :orderstatus]

Syntactic Similarity:0.06937213538387191
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5693721353838719
Path matching:False
Request matching:False
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.orderhistorycontroller.vieworderhistory(httpservletrequest,model)
method:org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderhistory(httpservletrequest,model)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findordersforcustomer(customer,orderstatus)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersforcustomer(customer,orderstatus)
[select order from blcorder order where order.customer.id = :customerid and order.status = :orderstatus]
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersforcustomer(long)
[select order from blcorder order where order.customer.id = :customerid]

Syntactic Similarity:0.05647026046034595
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.556470260460346
Path matching:True
Request matching:True
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.checkout.orderconfirmationcontroller.displayorderconfirmationbyordernumber(string,model,httpservletrequest,httpservletresponse)
method:org.broadleafcommerce.core.web.controller.checkout.broadleaforderconfirmationcontroller.displayorderconfirmationbyordernumber(string,model,httpservletrequest,httpservletresponse)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string)
[select order from blcorder order where order.ordernumber = :ordernumber]

Syntactic Similarity:0.037762255618328244
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5377622556183282
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.orderhistorycontroller.vieworderdetails(httpservletrequest,model,string)
method:org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderdetails(httpservletrequest,model,string)
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.getorderdetails(string)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string)
[select order from blcorder order where order.ordernumber = :ordernumber]
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.validatecustomerowneddata(order)
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.shouldvalidatecustomerowneddata()
[select from blcsystemproperty where systemprop.propertyname=?]

Syntactic Similarity:0.03833283806287175
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.37166617139620506
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managewishlistcontroller.removeitemfromwishlist(httpservletrequest,httpservletresponse,model,long)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.removeitemfromwishlist(httpservletrequest,httpservletresponse,model,string,long)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findnamedorderforcustomer(string,customer)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readnamedorderforcustomer(customer,string)
[select order from blcorder order where order.customer.id = :customerid and order.name = :ordername and order.status = :orderstatus]
method:org.broadleafcommerce.core.order.service.orderserviceimpl.removeitem(long,long,boolean)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyid(long)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyid(long)
[select null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, orderadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, offercodeid, null, offercode, startdate, enddate, maxuses, uses, emailaddress, null, null, null, null, null, candidateorderofferid, null, null, discountedprice, null, null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, offerinfoid, fieldvalue, null, orderattributeid, name, value, null from blcorder  left outer join blccustomer on blcorder=blccustomer  left outer join blcorderitem on blcorder=blcorderitem  left outer join blcfulfillmentgroup on blcorder=blcfulfillmentgroup  left outer join blcorderadjustment on blcorder=blcorderadjustment  left outer join blcoffercode on blcorder=blcoffercode  left outer join blccandidateorderoffer on blcorder=blccandidateorderoffer  left outer join blcorderpayment on blcorder=blcorderpayment  left outer join blcofferinfo on blcorder=blcofferinfo  left outer join blcorderattribute on blcorder=blcorderattribute  where orderid=?]
method:org.broadleafcommerce.core.order.service.orderitemserviceimpl.readorderitembyid(long)
method:org.broadleafcommerce.core.order.dao.orderitemdaoimpl.readorderitembyid(long)
[select null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, categoryid, name, url, overridegeneratedurl, externalid, urlkey, description, taxcode, activestartdate, activeenddate, displaytemplate, longdescription, rootdisplayorder, metatitle, metadesc, producttitlepatternoverride, productdescpatternoverride, null, null, null, null, null, null, null, null, null, null, null, null, inventorytype, fulfillmenttype, null, null, null, null, null, null, null, null, null, null, null, null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, null, orderitemadjustmentid, null, null, adjustmentreason, adjustmentvalue, appliedtosaleprice, null, null, null, null, proratedorderitemadjustid, null, null, adjustmentreason, proratedadjustmentvalue, proratedquantity, null, null, itemofferqualifierid, null, null, quantity, null, null, null, candidateitemofferid, null, null, discountedprice, null, null, orderitempricedtlid, null, null, quantity, usesaleprice, null, null, orderitemattributeid, name, value, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null from blcorderitem  left outer join blccategory on blcorderitem=blccategory  left outer join blcorder on blcorderitem=blcorder  left outer join blcpersonalmessage on blcorderitem=blcpersonalmessage  left outer join blcgiftwraporderitem on blcorderitem=blcgiftwraporderitem  left outer join blcorderitemadjustment on blcorderitem=blcorderitemadjustment  left outer join blcproratedorderitemadjust on blcorderitem=blcproratedorderitemadjust  left outer join blcitemofferqualifier on blcorderitem=blcitemofferqualifier  left outer join blccandidateitemoffer on blcorderitem=blccandidateitemoffer  left outer join blcorderitempricedtl on blcorderitem=blcorderitempricedtl  left outer join blcorderitemattribute on blcorderitem=blcorderitemattribute  left outer join blcorderitem on blcorderitem=blcorderitem  left outer join blcorderitem on blcorderitem=blcorderitem  where orderitemid=?]

Syntactic Similarity:0.01833396808603973
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.351667301419373
Path matching:False
Request matching:False



======================================= 18 given SQL query ===========================================
Given SQL session queries: 
select orderimpl0_.order_id as order_id1_93_, orderimpl0_.created_by as created_2_93_, orderimpl0_.date_created as date_cre3_93_, orderimpl0_.date_updated as date_upd4_93_, orderimpl0_.updated_by as updated_5_93_, orderimpl0_.currency_code as currenc17_93_, orderimpl0_.customer_id as custome18_93_, orderimpl0_.email_address as email_ad6_93_, orderimpl0_.locale_code as locale_19_93_, orderimpl0_.name as name7_93_, orderimpl0_.order_number as order_nu8_93_, orderimpl0_.is_preview as is_previ9_93_, orderimpl0_.order_status as order_s10_93_, orderimpl0_.order_subtotal as order_s11_93_, orderimpl0_.submit_date as submit_12_93_, orderimpl0_.tax_override as tax_ove13_93_, orderimpl0_.order_total as order_t14_93_, orderimpl0_.total_shipping as total_s15_93_, orderimpl0_.total_tax as total_t16_93_ from blc_order orderimpl0_ where orderimpl0_.order_number=?
select systemprop0_.blc_system_property_id as blc_syst1_174_, systemprop0_.friendly_group as friendly2_174_, systemprop0_.friendly_name as friendly3_174_, systemprop0_.friendly_tab as friendly4_174_, systemprop0_.property_name as property5_174_, systemprop0_.override_generated_prop_name as override6_174_, systemprop0_.property_type as property7_174_, systemprop0_.property_value as property8_174_ from blc_system_property systemprop0_ where systemprop0_.property_name=?
Pre-processed SQL session queries : 
select from blcorder where orderimpl.order_number=? 
select from blcsystemproperty where systemprop.property_name=? 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.account.orderhistorycontroller.vieworderdetails(httpservletrequest, model, string) 
called| string com.community.controller.account.orderhistorycontroller.vieworderdetails(httpservletrequest, model, string) 
called| string org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderdetails(httpservletrequest, model, string) 
called| order org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.getorderdetails(string) 
called| order org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string) 
called| order org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string) 
sql|select orderimpl0_.order_id as order_id1_93_, orderimpl0_.created_by as created_2_93_, orderimpl0_.date_created as date_cre3_93_, orderimpl0_.date_updated as date_upd4_93_, orderimpl0_.updated_by as updated_5_93_, orderimpl0_.currency_code as currenc17_93_, orderimpl0_.customer_id as custome18_93_, orderimpl0_.email_address as email_ad6_93_, orderimpl0_.locale_code as locale_19_93_, orderimpl0_.name as name7_93_, orderimpl0_.order_number as order_nu8_93_, orderimpl0_.is_preview as is_previ9_93_, orderimpl0_.order_status as order_s10_93_, orderimpl0_.order_subtotal as order_s11_93_, orderimpl0_.submit_date as submit_12_93_, orderimpl0_.tax_override as tax_ove13_93_, orderimpl0_.order_total as order_t14_93_, orderimpl0_.total_shipping as total_s15_93_, orderimpl0_.total_tax as total_t16_93_ from blc_order orderimpl0_ where orderimpl0_.order_number=?
called| void org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.validatecustomerowneddata(order) 
called| boolean org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.shouldvalidatecustomerowneddata() 
sql|select systemprop0_.blc_system_property_id as blc_syst1_174_, systemprop0_.friendly_group as friendly2_174_, systemprop0_.friendly_name as friendly3_174_, systemprop0_.friendly_tab as friendly4_174_, systemprop0_.property_name as property5_174_, systemprop0_.override_generated_prop_name as override6_174_, systemprop0_.property_type as property7_174_, systemprop0_.property_value as property8_174_ from blc_system_property systemprop0_ where systemprop0_.property_name=?
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| string org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.getorderdetailsview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[True, False, False, False, False]
path_matching_number_k:[1, 1, 1, 1, 1]
path_precision_k:[1.0, 0.5, 0.3333333333333333, 0.25, 0.2]
path_ap:1.0
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[True, False, False, False, False]
request_matching_number_k:[1, 1, 1, 1, 1]
request_precision_k:[1.0, 0.5, 0.3333333333333333, 0.25, 0.2]
request_ap:1.0

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.orderhistorycontroller.vieworderdetails(httpservletrequest,model,string)
method:org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderdetails(httpservletrequest,model,string)
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.getorderdetails(string)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string)
[select order from blcorder order where order.ordernumber = :ordernumber]
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.validatecustomerowneddata(order)
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.shouldvalidatecustomerowneddata()
[select from blcsystemproperty where systemprop.propertyname=?]

Syntactic Similarity:0.4933967768485804
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.4933967768485803
Path matching:True
Request matching:True
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.checkout.orderconfirmationcontroller.displayorderconfirmationbyordernumber(string,model,httpservletrequest,httpservletresponse)
method:org.broadleafcommerce.core.web.controller.checkout.broadleaforderconfirmationcontroller.displayorderconfirmationbyordernumber(string,model,httpservletrequest,httpservletresponse)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string)
[select order from blcorder order where order.ordernumber = :ordernumber]

Syntactic Similarity:0.07316847160468207
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5731684716046821
Path matching:False
Request matching:False
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.orderhistorycontroller.vieworderhistory(httpservletrequest,model)
method:org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderhistory(httpservletrequest,model)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findordersforcustomer(customer,orderstatus)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersforcustomer(customer,orderstatus)
[select order from blcorder order where order.customer.id = :customerid and order.status = :orderstatus]
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersforcustomer(long)
[select order from blcorder order where order.customer.id = :customerid]

Syntactic Similarity:0.04544537232230175
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5454453723223017
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managewishlistcontroller.viewaccountwishlist(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.viewwishlist(httpservletrequest,httpservletresponse,model,string)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findnamedorderforcustomer(string,customer)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readnamedorderforcustomer(customer,string)
[select order from blcorder order where order.customer.id = :customerid and order.name = :ordername and order.status = :orderstatus]

Syntactic Similarity:0.030491159681570963
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.530491159681571
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managewishlistcontroller.removeitemfromwishlist(httpservletrequest,httpservletresponse,model,long)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.removeitemfromwishlist(httpservletrequest,httpservletresponse,model,string,long)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findnamedorderforcustomer(string,customer)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readnamedorderforcustomer(customer,string)
[select order from blcorder order where order.customer.id = :customerid and order.name = :ordername and order.status = :orderstatus]
method:org.broadleafcommerce.core.order.service.orderserviceimpl.removeitem(long,long,boolean)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyid(long)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyid(long)
[select null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, orderadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, offercodeid, null, offercode, startdate, enddate, maxuses, uses, emailaddress, null, null, null, null, null, candidateorderofferid, null, null, discountedprice, null, null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, offerinfoid, fieldvalue, null, orderattributeid, name, value, null from blcorder  left outer join blccustomer on blcorder=blccustomer  left outer join blcorderitem on blcorder=blcorderitem  left outer join blcfulfillmentgroup on blcorder=blcfulfillmentgroup  left outer join blcorderadjustment on blcorder=blcorderadjustment  left outer join blcoffercode on blcorder=blcoffercode  left outer join blccandidateorderoffer on blcorder=blccandidateorderoffer  left outer join blcorderpayment on blcorder=blcorderpayment  left outer join blcofferinfo on blcorder=blcofferinfo  left outer join blcorderattribute on blcorder=blcorderattribute  where orderid=?]
method:org.broadleafcommerce.core.order.service.orderitemserviceimpl.readorderitembyid(long)
method:org.broadleafcommerce.core.order.dao.orderitemdaoimpl.readorderitembyid(long)
[select null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, categoryid, name, url, overridegeneratedurl, externalid, urlkey, description, taxcode, activestartdate, activeenddate, displaytemplate, longdescription, rootdisplayorder, metatitle, metadesc, producttitlepatternoverride, productdescpatternoverride, null, null, null, null, null, null, null, null, null, null, null, null, inventorytype, fulfillmenttype, null, null, null, null, null, null, null, null, null, null, null, null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, null, orderitemadjustmentid, null, null, adjustmentreason, adjustmentvalue, appliedtosaleprice, null, null, null, null, proratedorderitemadjustid, null, null, adjustmentreason, proratedadjustmentvalue, proratedquantity, null, null, itemofferqualifierid, null, null, quantity, null, null, null, candidateitemofferid, null, null, discountedprice, null, null, orderitempricedtlid, null, null, quantity, usesaleprice, null, null, orderitemattributeid, name, value, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null from blcorderitem  left outer join blccategory on blcorderitem=blccategory  left outer join blcorder on blcorderitem=blcorder  left outer join blcpersonalmessage on blcorderitem=blcpersonalmessage  left outer join blcgiftwraporderitem on blcorderitem=blcgiftwraporderitem  left outer join blcorderitemadjustment on blcorderitem=blcorderitemadjustment  left outer join blcproratedorderitemadjust on blcorderitem=blcproratedorderitemadjust  left outer join blcitemofferqualifier on blcorderitem=blcitemofferqualifier  left outer join blccandidateitemoffer on blcorderitem=blccandidateitemoffer  left outer join blcorderitempricedtl on blcorderitem=blcorderitempricedtl  left outer join blcorderitemattribute on blcorderitem=blcorderitemattribute  left outer join blcorderitem on blcorderitem=blcorderitem  left outer join blcorderitem on blcorderitem=blcorderitem  where orderitemid=?]

Syntactic Similarity:0.007746617674743486
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.3410799510080768
Path matching:False
Request matching:False



======================================= 19 given SQL query ===========================================
Given SQL session queries: 
select orderimpl0_.order_id as order_id1_93_, orderimpl0_.created_by as created_2_93_, orderimpl0_.date_created as date_cre3_93_, orderimpl0_.date_updated as date_upd4_93_, orderimpl0_.updated_by as updated_5_93_, orderimpl0_.currency_code as currenc17_93_, orderimpl0_.customer_id as custome18_93_, orderimpl0_.email_address as email_ad6_93_, orderimpl0_.locale_code as locale_19_93_, orderimpl0_.name as name7_93_, orderimpl0_.order_number as order_nu8_93_, orderimpl0_.is_preview as is_previ9_93_, orderimpl0_.order_status as order_s10_93_, orderimpl0_.order_subtotal as order_s11_93_, orderimpl0_.submit_date as submit_12_93_, orderimpl0_.tax_override as tax_ove13_93_, orderimpl0_.order_total as order_t14_93_, orderimpl0_.total_shipping as total_s15_93_, orderimpl0_.total_tax as total_t16_93_ from blc_order orderimpl0_ where orderimpl0_.customer_id=? and orderimpl0_.name=? and orderimpl0_.order_status=?
select localeimpl0_.locale_code as locale_c1_82_0_, localeimpl0_.currency_code as currency5_82_0_, localeimpl0_.default_flag as default_2_82_0_, localeimpl0_.friendly_name as friendly3_82_0_, localeimpl0_.use_in_search_index as use_in_s4_82_0_, broadleafc1_.currency_code as currency1_38_1_, broadleafc1_.default_flag as default_2_38_1_, broadleafc1_.friendly_name as friendly3_38_1_ from blc_locale localeimpl0_ left outer join blc_currency broadleafc1_ on localeimpl0_.currency_code=broadleafc1_.currency_code where localeimpl0_.locale_code=?
Pre-processed SQL session queries : 
select from blcorder where orderimpl.customer_id=? and orderimpl.name=? and orderimpl.order_status=? 
select from blclocale left outer join blccurrency where localeimpl.locale_code=? 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.account.managewishlistcontroller.viewaccountwishlist(httpservletrequest, httpservletresponse, model) 
called| string com.community.controller.account.managewishlistcontroller.viewaccountwishlist(httpservletrequest, httpservletresponse, model) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.viewwishlist(httpservletrequest, httpservletresponse, model, string) 
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| order org.broadleafcommerce.core.order.service.orderserviceimpl.findnamedorderforcustomer(string, customer) 
called| order org.broadleafcommerce.core.order.dao.orderdaoimpl.readnamedorderforcustomer(customer, string) 
called| string org.broadleafcommerce.core.order.service.type.orderstatus.gettype() 
sql|select orderimpl0_.order_id as order_id1_93_, orderimpl0_.created_by as created_2_93_, orderimpl0_.date_created as date_cre3_93_, orderimpl0_.date_updated as date_upd4_93_, orderimpl0_.updated_by as updated_5_93_, orderimpl0_.currency_code as currenc17_93_, orderimpl0_.customer_id as custome18_93_, orderimpl0_.email_address as email_ad6_93_, orderimpl0_.locale_code as locale_19_93_, orderimpl0_.name as name7_93_, orderimpl0_.order_number as order_nu8_93_, orderimpl0_.is_preview as is_previ9_93_, orderimpl0_.order_status as order_s10_93_, orderimpl0_.order_subtotal as order_s11_93_, orderimpl0_.submit_date as submit_12_93_, orderimpl0_.tax_override as tax_ove13_93_, orderimpl0_.order_total as order_t14_93_, orderimpl0_.total_shipping as total_s15_93_, orderimpl0_.total_tax as total_t16_93_ from blc_order orderimpl0_ where orderimpl0_.customer_id=? and orderimpl0_.name=? and orderimpl0_.order_status=?
sql|select localeimpl0_.locale_code as locale_c1_82_0_, localeimpl0_.currency_code as currency5_82_0_, localeimpl0_.default_flag as default_2_82_0_, localeimpl0_.friendly_name as friendly3_82_0_, localeimpl0_.use_in_search_index as use_in_s4_82_0_, broadleafc1_.currency_code as currency1_38_1_, broadleafc1_.default_flag as default_2_38_1_, broadleafc1_.friendly_name as friendly3_38_1_ from blc_locale localeimpl0_ left outer join blc_currency broadleafc1_ on localeimpl0_.currency_code=broadleafc1_.currency_code where localeimpl0_.locale_code=?
called| string org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.getaccountwishlistview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[True, False, False, False, False]
path_matching_number_k:[1, 1, 1, 1, 1]
path_precision_k:[1.0, 0.5, 0.3333333333333333, 0.25, 0.2]
path_ap:1.0
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[True, False, False, False, False]
request_matching_number_k:[1, 1, 1, 1, 1]
request_precision_k:[1.0, 0.5, 0.3333333333333333, 0.25, 0.2]
request_ap:1.0

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managewishlistcontroller.viewaccountwishlist(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.viewwishlist(httpservletrequest,httpservletresponse,model,string)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findnamedorderforcustomer(string,customer)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readnamedorderforcustomer(customer,string)
[select order from blcorder order where order.customer.id = :customerid and order.name = :ordername and order.status = :orderstatus]

Syntactic Similarity:0.08774146960466535
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5877414696046653
Path matching:True
Request matching:True
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.orderhistorycontroller.vieworderhistory(httpservletrequest,model)
method:org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderhistory(httpservletrequest,model)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findordersforcustomer(customer,orderstatus)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersforcustomer(customer,orderstatus)
[select order from blcorder order where order.customer.id = :customerid and order.status = :orderstatus]
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersforcustomer(long)
[select order from blcorder order where order.customer.id = :customerid]

Syntactic Similarity:0.05568617921972303
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5556861792197231
Path matching:False
Request matching:False
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.checkout.orderconfirmationcontroller.displayorderconfirmationbyordernumber(string,model,httpservletrequest,httpservletresponse)
method:org.broadleafcommerce.core.web.controller.checkout.broadleaforderconfirmationcontroller.displayorderconfirmationbyordernumber(string,model,httpservletrequest,httpservletresponse)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string)
[select order from blcorder order where order.ordernumber = :ordernumber]

Syntactic Similarity:0.02952637944071619
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5295263794407162
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.orderhistorycontroller.vieworderdetails(httpservletrequest,model,string)
method:org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderdetails(httpservletrequest,model,string)
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.getorderdetails(string)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string)
[select order from blcorder order where order.ordernumber = :ordernumber]
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.validatecustomerowneddata(order)
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.shouldvalidatecustomerowneddata()
[select from blcsystemproperty where systemprop.propertyname=?]

Syntactic Similarity:0.029972518938580987
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.3633058522719143
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managewishlistcontroller.removeitemfromwishlist(httpservletrequest,httpservletresponse,model,long)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.removeitemfromwishlist(httpservletrequest,httpservletresponse,model,string,long)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findnamedorderforcustomer(string,customer)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readnamedorderforcustomer(customer,string)
[select order from blcorder order where order.customer.id = :customerid and order.name = :ordername and order.status = :orderstatus]
method:org.broadleafcommerce.core.order.service.orderserviceimpl.removeitem(long,long,boolean)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyid(long)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyid(long)
[select null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, orderadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, offercodeid, null, offercode, startdate, enddate, maxuses, uses, emailaddress, null, null, null, null, null, candidateorderofferid, null, null, discountedprice, null, null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, offerinfoid, fieldvalue, null, orderattributeid, name, value, null from blcorder  left outer join blccustomer on blcorder=blccustomer  left outer join blcorderitem on blcorder=blcorderitem  left outer join blcfulfillmentgroup on blcorder=blcfulfillmentgroup  left outer join blcorderadjustment on blcorder=blcorderadjustment  left outer join blcoffercode on blcorder=blcoffercode  left outer join blccandidateorderoffer on blcorder=blccandidateorderoffer  left outer join blcorderpayment on blcorder=blcorderpayment  left outer join blcofferinfo on blcorder=blcofferinfo  left outer join blcorderattribute on blcorder=blcorderattribute  where orderid=?]
method:org.broadleafcommerce.core.order.service.orderitemserviceimpl.readorderitembyid(long)
method:org.broadleafcommerce.core.order.dao.orderitemdaoimpl.readorderitembyid(long)
[select null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, categoryid, name, url, overridegeneratedurl, externalid, urlkey, description, taxcode, activestartdate, activeenddate, displaytemplate, longdescription, rootdisplayorder, metatitle, metadesc, producttitlepatternoverride, productdescpatternoverride, null, null, null, null, null, null, null, null, null, null, null, null, inventorytype, fulfillmenttype, null, null, null, null, null, null, null, null, null, null, null, null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, null, orderitemadjustmentid, null, null, adjustmentreason, adjustmentvalue, appliedtosaleprice, null, null, null, null, proratedorderitemadjustid, null, null, adjustmentreason, proratedadjustmentvalue, proratedquantity, null, null, itemofferqualifierid, null, null, quantity, null, null, null, candidateitemofferid, null, null, discountedprice, null, null, orderitempricedtlid, null, null, quantity, usesaleprice, null, null, orderitemattributeid, name, value, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null from blcorderitem  left outer join blccategory on blcorderitem=blccategory  left outer join blcorder on blcorderitem=blcorder  left outer join blcpersonalmessage on blcorderitem=blcpersonalmessage  left outer join blcgiftwraporderitem on blcorderitem=blcgiftwraporderitem  left outer join blcorderitemadjustment on blcorderitem=blcorderitemadjustment  left outer join blcproratedorderitemadjust on blcorderitem=blcproratedorderitemadjust  left outer join blcitemofferqualifier on blcorderitem=blcitemofferqualifier  left outer join blccandidateitemoffer on blcorderitem=blccandidateitemoffer  left outer join blcorderitempricedtl on blcorderitem=blcorderitempricedtl  left outer join blcorderitemattribute on blcorderitem=blcorderitemattribute  left outer join blcorderitem on blcorderitem=blcorderitem  left outer join blcorderitem on blcorderitem=blcorderitem  where orderitemid=?]

Syntactic Similarity:0.017188095165514596
Semantic Similarity:0.3333333333333333
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.35052142849884793
Path matching:False
Request matching:False



======================================= 20 given SQL query ===========================================
Given SQL session queries: 
select orderimpl0_.order_id as order_id1_93_, orderimpl0_.created_by as created_2_93_, orderimpl0_.date_created as date_cre3_93_, orderimpl0_.date_updated as date_upd4_93_, orderimpl0_.updated_by as updated_5_93_, orderimpl0_.currency_code as currenc17_93_, orderimpl0_.customer_id as custome18_93_, orderimpl0_.email_address as email_ad6_93_, orderimpl0_.locale_code as locale_19_93_, orderimpl0_.name as name7_93_, orderimpl0_.order_number as order_nu8_93_, orderimpl0_.is_preview as is_previ9_93_, orderimpl0_.order_status as order_s10_93_, orderimpl0_.order_subtotal as order_s11_93_, orderimpl0_.submit_date as submit_12_93_, orderimpl0_.tax_override as tax_ove13_93_, orderimpl0_.order_total as order_t14_93_, orderimpl0_.total_shipping as total_s15_93_, orderimpl0_.total_tax as total_t16_93_ from blc_order orderimpl0_ where orderimpl0_.customer_id=? and orderimpl0_.name=? and orderimpl0_.order_status=?
Pre-processed SQL session queries : 
select from blcorder where orderimpl.customer_id=? and orderimpl.name=? and orderimpl.order_status=? 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.account.managewishlistcontroller.viewaccountwishlist(httpservletrequest, httpservletresponse, model) 
called| string com.community.controller.account.managewishlistcontroller.viewaccountwishlist(httpservletrequest, httpservletresponse, model) 
called| string org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.viewwishlist(httpservletrequest, httpservletresponse, model, string) 
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| order org.broadleafcommerce.core.order.service.orderserviceimpl.findnamedorderforcustomer(string, customer) 
called| order org.broadleafcommerce.core.order.dao.orderdaoimpl.readnamedorderforcustomer(customer, string) 
called| string org.broadleafcommerce.core.order.service.type.orderstatus.gettype() 
sql|select orderimpl0_.order_id as order_id1_93_, orderimpl0_.created_by as created_2_93_, orderimpl0_.date_created as date_cre3_93_, orderimpl0_.date_updated as date_upd4_93_, orderimpl0_.updated_by as updated_5_93_, orderimpl0_.currency_code as currenc17_93_, orderimpl0_.customer_id as custome18_93_, orderimpl0_.email_address as email_ad6_93_, orderimpl0_.locale_code as locale_19_93_, orderimpl0_.name as name7_93_, orderimpl0_.order_number as order_nu8_93_, orderimpl0_.is_preview as is_previ9_93_, orderimpl0_.order_status as order_s10_93_, orderimpl0_.order_subtotal as order_s11_93_, orderimpl0_.submit_date as submit_12_93_, orderimpl0_.tax_override as tax_ove13_93_, orderimpl0_.order_total as order_t14_93_, orderimpl0_.total_shipping as total_s15_93_, orderimpl0_.total_tax as total_t16_93_ from blc_order orderimpl0_ where orderimpl0_.customer_id=? and orderimpl0_.name=? and orderimpl0_.order_status=?
called| string org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.getaccountwishlistview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[True, False, False, False, False]
path_matching_number_k:[1, 1, 1, 1, 1]
path_precision_k:[1.0, 0.5, 0.3333333333333333, 0.25, 0.2]
path_ap:1.0
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[True, False, False, False, False]
request_matching_number_k:[1, 1, 1, 1, 1]
request_precision_k:[1.0, 0.5, 0.3333333333333333, 0.25, 0.2]
request_ap:1.0

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managewishlistcontroller.viewaccountwishlist(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.viewwishlist(httpservletrequest,httpservletresponse,model,string)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findnamedorderforcustomer(string,customer)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readnamedorderforcustomer(customer,string)
[select order from blcorder order where order.customer.id = :customerid and order.name = :ordername and order.status = :orderstatus]

Syntactic Similarity:0.09699865032663468
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.0969986503266347
Path matching:True
Request matching:True
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.orderhistorycontroller.vieworderhistory(httpservletrequest,model)
method:org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderhistory(httpservletrequest,model)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findordersforcustomer(customer,orderstatus)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersforcustomer(customer,orderstatus)
[select order from blcorder order where order.customer.id = :customerid and order.status = :orderstatus]
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersforcustomer(long)
[select order from blcorder order where order.customer.id = :customerid]

Syntactic Similarity:0.054529060187529135
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.0545290601875292
Path matching:False
Request matching:False
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.checkout.orderconfirmationcontroller.displayorderconfirmationbyordernumber(string,model,httpservletrequest,httpservletresponse)
method:org.broadleafcommerce.core.web.controller.checkout.broadleaforderconfirmationcontroller.displayorderconfirmationbyordernumber(string,model,httpservletrequest,httpservletresponse)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string)
[select order from blcorder order where order.ordernumber = :ordernumber]

Syntactic Similarity:0.020684604008559832
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.0206846040085598
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.orderhistorycontroller.vieworderdetails(httpservletrequest,model,string)
method:org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderdetails(httpservletrequest,model,string)
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.getorderdetails(string)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string)
[select order from blcorder order where order.ordernumber = :ordernumber]
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.validatecustomerowneddata(order)
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.shouldvalidatecustomerowneddata()
[select from blcsystemproperty where systemprop.propertyname=?]

Syntactic Similarity:0.019623279019475727
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5196232790194757
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managewishlistcontroller.removeitemfromwishlist(httpservletrequest,httpservletresponse,model,long)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.removeitemfromwishlist(httpservletrequest,httpservletresponse,model,string,long)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findnamedorderforcustomer(string,customer)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readnamedorderforcustomer(customer,string)
[select order from blcorder order where order.customer.id = :customerid and order.name = :ordername and order.status = :orderstatus]
method:org.broadleafcommerce.core.order.service.orderserviceimpl.removeitem(long,long,boolean)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyid(long)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyid(long)
[select null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, orderadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, offercodeid, null, offercode, startdate, enddate, maxuses, uses, emailaddress, null, null, null, null, null, candidateorderofferid, null, null, discountedprice, null, null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, offerinfoid, fieldvalue, null, orderattributeid, name, value, null from blcorder  left outer join blccustomer on blcorder=blccustomer  left outer join blcorderitem on blcorder=blcorderitem  left outer join blcfulfillmentgroup on blcorder=blcfulfillmentgroup  left outer join blcorderadjustment on blcorder=blcorderadjustment  left outer join blcoffercode on blcorder=blcoffercode  left outer join blccandidateorderoffer on blcorder=blccandidateorderoffer  left outer join blcorderpayment on blcorder=blcorderpayment  left outer join blcofferinfo on blcorder=blcofferinfo  left outer join blcorderattribute on blcorder=blcorderattribute  where orderid=?]
method:org.broadleafcommerce.core.order.service.orderitemserviceimpl.readorderitembyid(long)
method:org.broadleafcommerce.core.order.dao.orderitemdaoimpl.readorderitembyid(long)
[select null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, categoryid, name, url, overridegeneratedurl, externalid, urlkey, description, taxcode, activestartdate, activeenddate, displaytemplate, longdescription, rootdisplayorder, metatitle, metadesc, producttitlepatternoverride, productdescpatternoverride, null, null, null, null, null, null, null, null, null, null, null, null, inventorytype, fulfillmenttype, null, null, null, null, null, null, null, null, null, null, null, null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, null, orderitemadjustmentid, null, null, adjustmentreason, adjustmentvalue, appliedtosaleprice, null, null, null, null, proratedorderitemadjustid, null, null, adjustmentreason, proratedadjustmentvalue, proratedquantity, null, null, itemofferqualifierid, null, null, quantity, null, null, null, candidateitemofferid, null, null, discountedprice, null, null, orderitempricedtlid, null, null, quantity, usesaleprice, null, null, orderitemattributeid, name, value, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null from blcorderitem  left outer join blccategory on blcorderitem=blccategory  left outer join blcorder on blcorderitem=blcorder  left outer join blcpersonalmessage on blcorderitem=blcpersonalmessage  left outer join blcgiftwraporderitem on blcorderitem=blcgiftwraporderitem  left outer join blcorderitemadjustment on blcorderitem=blcorderitemadjustment  left outer join blcproratedorderitemadjust on blcorderitem=blcproratedorderitemadjust  left outer join blcitemofferqualifier on blcorderitem=blcitemofferqualifier  left outer join blccandidateitemoffer on blcorderitem=blccandidateitemoffer  left outer join blcorderitempricedtl on blcorderitem=blcorderitempricedtl  left outer join blcorderitemattribute on blcorderitem=blcorderitemattribute  left outer join blcorderitem on blcorderitem=blcorderitem  left outer join blcorderitem on blcorderitem=blcorderitem  where orderitemid=?]

Syntactic Similarity:0.009727940838799085
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5097279408387991
Path matching:False
Request matching:False



======================================= 21 given SQL query ===========================================
Given SQL session queries: 
select orderimpl0_.order_id as order_id1_93_, orderimpl0_.created_by as created_2_93_, orderimpl0_.date_created as date_cre3_93_, orderimpl0_.date_updated as date_upd4_93_, orderimpl0_.updated_by as updated_5_93_, orderimpl0_.currency_code as currenc17_93_, orderimpl0_.customer_id as custome18_93_, orderimpl0_.email_address as email_ad6_93_, orderimpl0_.locale_code as locale_19_93_, orderimpl0_.name as name7_93_, orderimpl0_.order_number as order_nu8_93_, orderimpl0_.is_preview as is_previ9_93_, orderimpl0_.order_status as order_s10_93_, orderimpl0_.order_subtotal as order_s11_93_, orderimpl0_.submit_date as submit_12_93_, orderimpl0_.tax_override as tax_ove13_93_, orderimpl0_.order_total as order_t14_93_, orderimpl0_.total_shipping as total_s15_93_, orderimpl0_.total_tax as total_t16_93_ from blc_order orderimpl0_ where orderimpl0_.customer_id=? and orderimpl0_.order_status=?
Pre-processed SQL session queries : 
select from blcorder where orderimpl.customer_id=? and orderimpl.order_status=? 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.account.orderhistorycontroller.vieworderhistory(httpservletrequest, model) 
called| string com.community.controller.account.orderhistorycontroller.vieworderhistory(httpservletrequest, model) 
called| string org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderhistory(httpservletrequest, model) 
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| list org.broadleafcommerce.core.order.service.orderserviceimpl.findordersforcustomer(customer, orderstatus) 
called| list org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersforcustomer(customer, orderstatus) 
called| string org.broadleafcommerce.core.order.service.type.orderstatus.gettype() 
sql|select orderimpl0_.order_id as order_id1_93_, orderimpl0_.created_by as created_2_93_, orderimpl0_.date_created as date_cre3_93_, orderimpl0_.date_updated as date_upd4_93_, orderimpl0_.updated_by as updated_5_93_, orderimpl0_.currency_code as currenc17_93_, orderimpl0_.customer_id as custome18_93_, orderimpl0_.email_address as email_ad6_93_, orderimpl0_.locale_code as locale_19_93_, orderimpl0_.name as name7_93_, orderimpl0_.order_number as order_nu8_93_, orderimpl0_.is_preview as is_previ9_93_, orderimpl0_.order_status as order_s10_93_, orderimpl0_.order_subtotal as order_s11_93_, orderimpl0_.submit_date as submit_12_93_, orderimpl0_.tax_override as tax_ove13_93_, orderimpl0_.order_total as order_t14_93_, orderimpl0_.total_shipping as total_s15_93_, orderimpl0_.total_tax as total_t16_93_ from blc_order orderimpl0_ where orderimpl0_.customer_id=? and orderimpl0_.order_status=?
called| string org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.getorderhistoryview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[False, True, False, False, False]
path_matching_number_k:[0, 1, 1, 1, 1]
path_precision_k:[0.0, 0.5, 0.3333333333333333, 0.25, 0.2]
path_ap:0.5
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[False, True, False, False, False]
request_matching_number_k:[0, 1, 1, 1, 1]
request_precision_k:[0.0, 0.5, 0.3333333333333333, 0.25, 0.2]
request_ap:0.5

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managewishlistcontroller.viewaccountwishlist(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.viewwishlist(httpservletrequest,httpservletresponse,model,string)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findnamedorderforcustomer(string,customer)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readnamedorderforcustomer(customer,string)
[select order from blcorder order where order.customer.id = :customerid and order.name = :ordername and order.status = :orderstatus]

Syntactic Similarity:0.08555946470876834
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.0855594647087683
Path matching:False
Request matching:False
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.orderhistorycontroller.vieworderhistory(httpservletrequest,model)
method:org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderhistory(httpservletrequest,model)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findordersforcustomer(customer,orderstatus)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersforcustomer(customer,orderstatus)
[select order from blcorder order where order.customer.id = :customerid and order.status = :orderstatus]
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersforcustomer(long)
[select order from blcorder order where order.customer.id = :customerid]

Syntactic Similarity:0.06127867324887293
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.0612786732488728
Path matching:True
Request matching:True
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.checkout.orderconfirmationcontroller.displayorderconfirmationbyordernumber(string,model,httpservletrequest,httpservletresponse)
method:org.broadleafcommerce.core.web.controller.checkout.broadleaforderconfirmationcontroller.displayorderconfirmationbyordernumber(string,model,httpservletrequest,httpservletresponse)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string)
[select order from blcorder order where order.ordernumber = :ordernumber]

Syntactic Similarity:0.031143029685973316
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.0311430296859734
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.orderhistorycontroller.vieworderdetails(httpservletrequest,model,string)
method:org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderdetails(httpservletrequest,model,string)
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.getorderdetails(string)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string)
[select order from blcorder order where order.ordernumber = :ordernumber]
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.validatecustomerowneddata(order)
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.shouldvalidatecustomerowneddata()
[select from blcsystemproperty where systemprop.propertyname=?]

Syntactic Similarity:0.029545083908145822
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5295450839081458
Path matching:False
Request matching:False
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managewishlistcontroller.removeitemfromwishlist(httpservletrequest,httpservletresponse,model,long)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.removeitemfromwishlist(httpservletrequest,httpservletresponse,model,string,long)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findnamedorderforcustomer(string,customer)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readnamedorderforcustomer(customer,string)
[select order from blcorder order where order.customer.id = :customerid and order.name = :ordername and order.status = :orderstatus]
method:org.broadleafcommerce.core.order.service.orderserviceimpl.removeitem(long,long,boolean)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyid(long)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyid(long)
[select null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, orderadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, offercodeid, null, offercode, startdate, enddate, maxuses, uses, emailaddress, null, null, null, null, null, candidateorderofferid, null, null, discountedprice, null, null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, offerinfoid, fieldvalue, null, orderattributeid, name, value, null from blcorder  left outer join blccustomer on blcorder=blccustomer  left outer join blcorderitem on blcorder=blcorderitem  left outer join blcfulfillmentgroup on blcorder=blcfulfillmentgroup  left outer join blcorderadjustment on blcorder=blcorderadjustment  left outer join blcoffercode on blcorder=blcoffercode  left outer join blccandidateorderoffer on blcorder=blccandidateorderoffer  left outer join blcorderpayment on blcorder=blcorderpayment  left outer join blcofferinfo on blcorder=blcofferinfo  left outer join blcorderattribute on blcorder=blcorderattribute  where orderid=?]
method:org.broadleafcommerce.core.order.service.orderitemserviceimpl.readorderitembyid(long)
method:org.broadleafcommerce.core.order.dao.orderitemdaoimpl.readorderitembyid(long)
[select null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, categoryid, name, url, overridegeneratedurl, externalid, urlkey, description, taxcode, activestartdate, activeenddate, displaytemplate, longdescription, rootdisplayorder, metatitle, metadesc, producttitlepatternoverride, productdescpatternoverride, null, null, null, null, null, null, null, null, null, null, null, null, inventorytype, fulfillmenttype, null, null, null, null, null, null, null, null, null, null, null, null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, null, orderitemadjustmentid, null, null, adjustmentreason, adjustmentvalue, appliedtosaleprice, null, null, null, null, proratedorderitemadjustid, null, null, adjustmentreason, proratedadjustmentvalue, proratedquantity, null, null, itemofferqualifierid, null, null, quantity, null, null, null, candidateitemofferid, null, null, discountedprice, null, null, orderitempricedtlid, null, null, quantity, usesaleprice, null, null, orderitemattributeid, name, value, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null from blcorderitem  left outer join blccategory on blcorderitem=blccategory  left outer join blcorder on blcorderitem=blcorder  left outer join blcpersonalmessage on blcorderitem=blcpersonalmessage  left outer join blcgiftwraporderitem on blcorderitem=blcgiftwraporderitem  left outer join blcorderitemadjustment on blcorderitem=blcorderitemadjustment  left outer join blcproratedorderitemadjust on blcorderitem=blcproratedorderitemadjust  left outer join blcitemofferqualifier on blcorderitem=blcitemofferqualifier  left outer join blccandidateitemoffer on blcorderitem=blccandidateitemoffer  left outer join blcorderitempricedtl on blcorderitem=blcorderitempricedtl  left outer join blcorderitemattribute on blcorderitem=blcorderitemattribute  left outer join blcorderitem on blcorderitem=blcorderitem  left outer join blcorderitem on blcorderitem=blcorderitem  where orderitemid=?]

Syntactic Similarity:0.009495977195871783
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5094959771958718
Path matching:False
Request matching:False



======================================= 22 given SQL query ===========================================
Given SQL session queries: 
select orderimpl0_.order_id as order_id1_93_, orderimpl0_.created_by as created_2_93_, orderimpl0_.date_created as date_cre3_93_, orderimpl0_.date_updated as date_upd4_93_, orderimpl0_.updated_by as updated_5_93_, orderimpl0_.currency_code as currenc17_93_, orderimpl0_.customer_id as custome18_93_, orderimpl0_.email_address as email_ad6_93_, orderimpl0_.locale_code as locale_19_93_, orderimpl0_.name as name7_93_, orderimpl0_.order_number as order_nu8_93_, orderimpl0_.is_preview as is_previ9_93_, orderimpl0_.order_status as order_s10_93_, orderimpl0_.order_subtotal as order_s11_93_, orderimpl0_.submit_date as submit_12_93_, orderimpl0_.tax_override as tax_ove13_93_, orderimpl0_.order_total as order_t14_93_, orderimpl0_.total_shipping as total_s15_93_, orderimpl0_.total_tax as total_t16_93_ from blc_order orderimpl0_ where orderimpl0_.order_number=?
Pre-processed SQL session queries : 
select from blcorder where orderimpl.order_number=? 

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.account.orderhistorycontroller.vieworderdetails(httpservletrequest, model, string) 
called| string com.community.controller.account.orderhistorycontroller.vieworderdetails(httpservletrequest, model, string) 
called| string org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderdetails(httpservletrequest, model, string) 
called| order org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.getorderdetails(string) 
called| order org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string) 
called| order org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string) 
sql|select orderimpl0_.order_id as order_id1_93_, orderimpl0_.created_by as created_2_93_, orderimpl0_.date_created as date_cre3_93_, orderimpl0_.date_updated as date_upd4_93_, orderimpl0_.updated_by as updated_5_93_, orderimpl0_.currency_code as currenc17_93_, orderimpl0_.customer_id as custome18_93_, orderimpl0_.email_address as email_ad6_93_, orderimpl0_.locale_code as locale_19_93_, orderimpl0_.name as name7_93_, orderimpl0_.order_number as order_nu8_93_, orderimpl0_.is_preview as is_previ9_93_, orderimpl0_.order_status as order_s10_93_, orderimpl0_.order_subtotal as order_s11_93_, orderimpl0_.submit_date as submit_12_93_, orderimpl0_.tax_override as tax_ove13_93_, orderimpl0_.order_total as order_t14_93_, orderimpl0_.total_shipping as total_s15_93_, orderimpl0_.total_tax as total_t16_93_ from blc_order orderimpl0_ where orderimpl0_.order_number=?
called| void org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.validatecustomerowneddata(order) 
called| boolean org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.shouldvalidatecustomerowneddata() 
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| string org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.getorderdetailsview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[False, False, False, True, False]
path_matching_number_k:[0, 0, 0, 1, 1]
path_precision_k:[0.0, 0.0, 0.0, 0.25, 0.2]
path_ap:0.25
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[False, False, False, True, False]
request_matching_number_k:[0, 0, 0, 1, 1]
request_precision_k:[0.0, 0.0, 0.0, 0.25, 0.2]
request_ap:0.25

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.checkout.orderconfirmationcontroller.displayorderconfirmationbyordernumber(string,model,httpservletrequest,httpservletresponse)
method:org.broadleafcommerce.core.web.controller.checkout.broadleaforderconfirmationcontroller.displayorderconfirmationbyordernumber(string,model,httpservletrequest,httpservletresponse)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string)
[select order from blcorder order where order.ordernumber = :ordernumber]

Syntactic Similarity:0.09688574060808855
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.0968857406080885
Path matching:False
Request matching:False
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.orderhistorycontroller.vieworderhistory(httpservletrequest,model)
method:org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderhistory(httpservletrequest,model)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findordersforcustomer(customer,orderstatus)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersforcustomer(customer,orderstatus)
[select order from blcorder order where order.customer.id = :customerid and order.status = :orderstatus]
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readordersforcustomer(long)
[select order from blcorder order where order.customer.id = :customerid]

Syntactic Similarity:0.050981855703257264
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.0509818557032573
Path matching:False
Request matching:False
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managewishlistcontroller.viewaccountwishlist(httpservletrequest,httpservletresponse,model)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.viewwishlist(httpservletrequest,httpservletresponse,model,string)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findnamedorderforcustomer(string,customer)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readnamedorderforcustomer(customer,string)
[select order from blcorder order where order.customer.id = :customerid and order.name = :ordername and order.status = :orderstatus]

Syntactic Similarity:0.03420581290623461
Semantic Similarity:1.0
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 1.0342058129062346
Path matching:False
Request matching:False
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.orderhistorycontroller.vieworderdetails(httpservletrequest,model,string)
method:org.broadleafcommerce.core.web.controller.account.broadleaforderhistorycontroller.vieworderdetails(httpservletrequest,model,string)
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.getorderdetails(string)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyordernumber(string)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyordernumber(string)
[select order from blcorder order where order.ordernumber = :ordernumber]
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.validatecustomerowneddata(order)
method:org.broadleafcommerce.core.web.service.orderhistoryserviceimpl.shouldvalidatecustomerowneddata()
[select from blcsystemproperty where systemprop.propertyname=?]

Syntactic Similarity:0.0778681135773083
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5778681135773083
Path matching:True
Request matching:True
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.account.managewishlistcontroller.removeitemfromwishlist(httpservletrequest,httpservletresponse,model,long)
method:org.broadleafcommerce.core.web.controller.account.broadleafmanagewishlistcontroller.removeitemfromwishlist(httpservletrequest,httpservletresponse,model,string,long)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findnamedorderforcustomer(string,customer)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readnamedorderforcustomer(customer,string)
[select order from blcorder order where order.customer.id = :customerid and order.name = :ordername and order.status = :orderstatus]
method:org.broadleafcommerce.core.order.service.orderserviceimpl.removeitem(long,long,boolean)
method:org.broadleafcommerce.core.order.service.orderserviceimpl.findorderbyid(long)
method:org.broadleafcommerce.core.order.dao.orderdaoimpl.readorderbyid(long)
[select null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null, null, customerid, null, null, username, password, emailaddress, firstname, lastname, externalid, null, challengeanswer, passwordchangerequired, receiveemail, isregistered, deactivated, null, null, null, null, null, istaxexempt, taxexemptioncode, null, null, null, null, null, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, fulfillmentgroupid, referencenumber, method, service, retailprice, saleprice, price, type, totaltax, totalitemtax, totalfeetax, totalfgtax, deliveryinstruction, isprimary, merchandisetotal, total, status, shippingpricetaxable, null, null, fulfillmentgroupsequnce, null, null, null, null, null, null, null, null, shippingoverride, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, orderadjustmentid, null, null, adjustmentreason, adjustmentvalue, null, null, offercodeid, null, offercode, startdate, enddate, maxuses, uses, emailaddress, null, null, null, null, null, candidateorderofferid, null, null, discountedprice, null, null, orderpaymentid, null, null, amount, referencenumber, paymenttype, gatewaytype, null, null, null, null, null, null, null, null, null, null, null, null, offerinfoid, fieldvalue, null, orderattributeid, name, value, null from blcorder  left outer join blccustomer on blcorder=blccustomer  left outer join blcorderitem on blcorder=blcorderitem  left outer join blcfulfillmentgroup on blcorder=blcfulfillmentgroup  left outer join blcorderadjustment on blcorder=blcorderadjustment  left outer join blcoffercode on blcorder=blcoffercode  left outer join blccandidateorderoffer on blcorder=blccandidateorderoffer  left outer join blcorderpayment on blcorder=blcorderpayment  left outer join blcofferinfo on blcorder=blcofferinfo  left outer join blcorderattribute on blcorder=blcorderattribute  where orderid=?]
method:org.broadleafcommerce.core.order.service.orderitemserviceimpl.readorderitembyid(long)
method:org.broadleafcommerce.core.order.dao.orderitemdaoimpl.readorderitembyid(long)
[select null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, categoryid, name, url, overridegeneratedurl, externalid, urlkey, description, taxcode, activestartdate, activeenddate, displaytemplate, longdescription, rootdisplayorder, metatitle, metadesc, producttitlepatternoverride, productdescpatternoverride, null, null, null, null, null, null, null, null, null, null, null, null, inventorytype, fulfillmenttype, null, null, null, null, null, null, null, null, null, null, null, null, orderid, null, null, name, null, orderstatus, totaltax, totalshipping, ordersubtotal, ordertotal, submitdate, ordernumber, emailaddress, null, null, null, null, null, null, null, null, null, null, taxoverride, null, null, personalmessageid, messageto, messagefrom, message, occasion, null, null, null, orderitemadjustmentid, null, null, adjustmentreason, adjustmentvalue, appliedtosaleprice, null, null, null, null, proratedorderitemadjustid, null, null, adjustmentreason, proratedadjustmentvalue, proratedquantity, null, null, itemofferqualifierid, null, null, quantity, null, null, null, candidateitemofferid, null, null, discountedprice, null, null, orderitempricedtlid, null, null, quantity, usesaleprice, null, null, orderitemattributeid, name, value, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, orderitemid, null, null, null, price, quantity, retailprice, saleprice, name, null, null, null, null, null, null, null, orderitemtype, itemtaxableflag, retailpriceoverride, salepriceoverride, discountsallowed, null, totaltax, null, null, hasvalidationerrors, cartmessage, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null from blcorderitem  left outer join blccategory on blcorderitem=blccategory  left outer join blcorder on blcorderitem=blcorder  left outer join blcpersonalmessage on blcorderitem=blcpersonalmessage  left outer join blcgiftwraporderitem on blcorderitem=blcgiftwraporderitem  left outer join blcorderitemadjustment on blcorderitem=blcorderitemadjustment  left outer join blcproratedorderitemadjust on blcorderitem=blcproratedorderitemadjust  left outer join blcitemofferqualifier on blcorderitem=blcitemofferqualifier  left outer join blccandidateitemoffer on blcorderitem=blccandidateitemoffer  left outer join blcorderitempricedtl on blcorderitem=blcorderitempricedtl  left outer join blcorderitemattribute on blcorderitem=blcorderitemattribute  left outer join blcorderitem on blcorderitem=blcorderitem  left outer join blcorderitem on blcorderitem=blcorderitem  where orderitemid=?]

Syntactic Similarity:0.011181688581496218
Semantic Similarity:0.5
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5111816885814963
Path matching:False
Request matching:False



======================================= 23 given SQL query ===========================================
Given SQL session queries: 
select ratingsumm0_.rating_summary_id as rating_s1_134_, ratingsumm0_.average_rating as average_2_134_, ratingsumm0_.item_id as item_id3_134_, ratingsumm0_.rating_type as rating_t4_134_ from blc_rating_summary ratingsumm0_ where ratingsumm0_.rating_type=? and ratingsumm0_.item_id=?
select tbl.id_val from sequence_generator tbl where tbl.id_name=? for update
insert into sequence_generator (id_name, id_val)  values (?,?)
update sequence_generator set id_val=?  where id_val=? and id_name=?
insert into blc_rating_summary (average_rating, item_id, rating_type, rating_summary_id) values (?, ?, ?, ?)
insert into blc_rating_detail (customer_id, rating, rating_submitted_date, rating_summary_id, rating_detail_id) values (?, ?, ?, ?, ?)
insert into blc_review_detail (customer_id, helpful_count, not_helpful_count, rating_detail_id, rating_summary_id, review_submitted_date, review_status, review_text, review_detail_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
Pre-processed SQL session queries : 
select from blcratingsummary where ratingsumm.rating_type=? and ratingsumm.item_id=? 
select tbl.idval from sequencegenerator where tbl.id_name=? for update 
insert into sequence_generator (id_name, id_val)  values (?,?)
update sequence_generator set id_val=?  where id_val=? and id_name=?
insert into blc_rating_summary (average_rating, item_id, rating_type, rating_summary_id) values (?, ?, ?, ?)
insert into blc_rating_detail (customer_id, rating, rating_submitted_date, rating_summary_id, rating_detail_id) values (?, ?, ?, ?, ?)
insert into blc_review_detail (customer_id, helpful_count, not_helpful_count, rating_detail_id, rating_summary_id, review_submitted_date, review_status, review_text, review_detail_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)

+++++++++++++++++++++++ instrument dynamic execution path using AspectJ +++++++++++++++++++++++++++++
before rest| string com.community.controller.catalog.ratingscontroller.reviewitem(httpservletrequest, model, string, reviewform) 
called| string com.community.controller.catalog.ratingscontroller.reviewitem(httpservletrequest, model, string, reviewform) 
called| string org.broadleafcommerce.core.web.controller.catalog.broadleafratingscontroller.reviewitem(httpservletrequest, model, reviewform, string) 
called| customer org.broadleafcommerce.profile.web.core.customerstate.getcustomer() 
called| void org.broadleafcommerce.core.rating.service.ratingserviceimpl.reviewitem(string, ratingtype, customer, double, string) 
called| ratingsummary org.broadleafcommerce.core.rating.service.ratingserviceimpl.readratingsummary(string, ratingtype) 
called| ratingsummary org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.readratingsummary(string, ratingtype) 
called| string org.broadleafcommerce.core.rating.service.type.ratingtype.gettype() 
sql|select ratingsumm0_.rating_summary_id as rating_s1_134_, ratingsumm0_.average_rating as average_2_134_, ratingsumm0_.item_id as item_id3_134_, ratingsumm0_.rating_type as rating_t4_134_ from blc_rating_summary ratingsumm0_ where ratingsumm0_.rating_type=? and ratingsumm0_.item_id=?
called| ratingsummary org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.createsummary(string, ratingtype) 
called| ratingsummary org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.createsummary() 
called| ratingdetail org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.createdetail(ratingsummary, double, date, customer) 
called| ratingdetail org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.createdetail() 
called| void org.broadleafcommerce.core.rating.service.type.reviewstatustype.settype(string) 
called| string org.broadleafcommerce.core.rating.service.type.reviewstatustype.gettype() 
called| ratingsummary org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.saveratingsummary(ratingsummary) 
called| void org.broadleafcommerce.core.rating.domain.ratingsummaryimpl.resetaveragerating() 
sql|insert into blc_rating_summary (average_rating, item_id, rating_type, rating_summary_id) values (?, ?, ?, ?)
sql|insert into blc_rating_detail (customer_id, rating, rating_submitted_date, rating_summary_id, rating_detail_id) values (?, ?, ?, ?, ?)
sql|insert into blc_review_detail (customer_id, helpful_count, not_helpful_count, rating_detail_id, rating_summary_id, review_submitted_date, review_status, review_text, review_detail_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
called| string org.broadleafcommerce.core.web.controller.catalog.broadleafratingscontroller.getsuccessview() 

+++++++++++++++++++++++++ Path matching metrics +++++++++++++++++++++++++++
path_matching_boolean:[True, True, True, True, False]
path_matching_number_k:[1, 2, 3, 4, 4]
path_precision_k:[1.0, 1.0, 1.0, 1.0, 0.8]
path_ap:1.0
+++++++++++++++++++++++++ Request matching metrics +++++++++++++++++++++++++++
request_matching_boolean:[True, True, True, True, True]
request_matching_number_k:[1, 2, 3, 4, 5]
request_precision_k:[1.0, 1.0, 1.0, 1.0, 1.0]
request_ap:1.0

-------------------------Top1 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.catalog.ratingscontroller.reviewitem(httpservletrequest,model,string,reviewform)
method:org.broadleafcommerce.core.web.controller.catalog.broadleafratingscontroller.reviewitem(httpservletrequest,model,reviewform,string)
method:org.broadleafcommerce.core.rating.service.ratingserviceimpl.reviewitem(string,ratingtype,customer,double,string)
method:org.broadleafcommerce.core.rating.service.ratingserviceimpl.readratingsummary(string,ratingtype)
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.readratingsummary(string,ratingtype)
[select ratingsummary from blcratingsummary ratingsummary where ratingsummary.ratingtypestr = :ratingtype and ratingsummary.itemid = :itemid]
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.saveratingsummary(ratingsummary)
[update blcratingsummary set null=?, ratingsummaryid=?, itemid=?, ratingtype=?, averagerating=?, null=?, null=? where ratingsummaryid=?]
[insert into blcratingsummary (null, ratingsummaryid, itemid, ratingtype, averagerating, null, null) values (?, ?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.33868542491700715
Semantic Similarity:0.25
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5886854249170071
Path matching:True
Request matching:True
-------------------------Top2 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.catalog.ratingscontroller.reviewitem(httpservletrequest,model,string,reviewform)
method:org.broadleafcommerce.core.web.controller.catalog.broadleafratingscontroller.reviewitem(httpservletrequest,model,reviewform,string)
method:org.broadleafcommerce.core.rating.service.ratingserviceimpl.reviewitem(string,ratingtype,customer,double,string)
method:org.broadleafcommerce.core.rating.service.ratingserviceimpl.readratingsummary(string,ratingtype)
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.readratingsummary(string,ratingtype)
[select ratingsummary from blcratingsummary ratingsummary where ratingsummary.ratingtypestr = :ratingtype and ratingsummary.itemid = :itemid]
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.createsummary(string,ratingtype)
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.createsummary()
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.saveratingsummary(ratingsummary)
[update blcratingsummary set null=?, ratingsummaryid=?, itemid=?, ratingtype=?, averagerating=?, null=?, null=? where ratingsummaryid=?]
[insert into blcratingsummary (null, ratingsummaryid, itemid, ratingtype, averagerating, null, null) values (?, ?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.33868542491700715
Semantic Similarity:0.25
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5886854249170071
Path matching:True
Request matching:True
-------------------------Top3 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.catalog.ratingscontroller.reviewitem(httpservletrequest,model,string,reviewform)
method:org.broadleafcommerce.core.web.controller.catalog.broadleafratingscontroller.reviewitem(httpservletrequest,model,reviewform,string)
method:org.broadleafcommerce.core.rating.service.ratingserviceimpl.reviewitem(string,ratingtype,customer,double,string)
method:org.broadleafcommerce.core.rating.service.ratingserviceimpl.readratingsummary(string,ratingtype)
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.readratingsummary(string,ratingtype)
[select ratingsummary from blcratingsummary ratingsummary where ratingsummary.ratingtypestr = :ratingtype and ratingsummary.itemid = :itemid]
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.createsummary(string,ratingtype)
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.createsummary()
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.createdetail(ratingsummary,double,date,customer)
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.createdetail()
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.saveratingsummary(ratingsummary)
[update blcratingsummary set null=?, ratingsummaryid=?, itemid=?, ratingtype=?, averagerating=?, null=?, null=? where ratingsummaryid=?]
[insert into blcratingsummary (null, ratingsummaryid, itemid, ratingtype, averagerating, null, null) values (?, ?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.33868542491700715
Semantic Similarity:0.25
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5886854249170071
Path matching:True
Request matching:True
-------------------------Top4 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.catalog.ratingscontroller.reviewitem(httpservletrequest,model,string,reviewform)
method:org.broadleafcommerce.core.web.controller.catalog.broadleafratingscontroller.reviewitem(httpservletrequest,model,reviewform,string)
method:org.broadleafcommerce.core.rating.service.ratingserviceimpl.reviewitem(string,ratingtype,customer,double,string)
method:org.broadleafcommerce.core.rating.service.ratingserviceimpl.readratingsummary(string,ratingtype)
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.readratingsummary(string,ratingtype)
[select ratingsummary from blcratingsummary ratingsummary where ratingsummary.ratingtypestr = :ratingtype and ratingsummary.itemid = :itemid]
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.createdetail(ratingsummary,double,date,customer)
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.createdetail()
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.saveratingsummary(ratingsummary)
[update blcratingsummary set null=?, ratingsummaryid=?, itemid=?, ratingtype=?, averagerating=?, null=?, null=? where ratingsummaryid=?]
[insert into blcratingsummary (null, ratingsummaryid, itemid, ratingtype, averagerating, null, null) values (?, ?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.33868542491700715
Semantic Similarity:0.25
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5886854249170071
Path matching:True
Request matching:True
-------------------------Top5 ranked control flow path according to similarity score (Only top 5 are presented here)-------------------------------------
request:com.community.controller.catalog.ratingscontroller.reviewitem(httpservletrequest,model,string,reviewform)
method:org.broadleafcommerce.core.web.controller.catalog.broadleafratingscontroller.reviewitem(httpservletrequest,model,reviewform,string)
method:org.broadleafcommerce.core.rating.service.ratingserviceimpl.reviewitem(string,ratingtype,customer,double,string)
method:org.broadleafcommerce.core.rating.service.ratingserviceimpl.readratingsummary(string,ratingtype)
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.readratingsummary(string,ratingtype)
[select ratingsummary from blcratingsummary ratingsummary where ratingsummary.ratingtypestr = :ratingtype and ratingsummary.itemid = :itemid]
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.createsummary(string,ratingtype)
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.createsummary()
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.createdetail(ratingsummary,double,date,customer)
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.createdetail()
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.readreview(long,long)
[select reviewdetail from blcreviewdetail reviewdetail where reviewdetail.customer.id = :customerid and reviewdetail.ratingsummary.id = :ratingsummaryid]
method:org.broadleafcommerce.core.rating.dao.ratingsummarydaoimpl.saveratingsummary(ratingsummary)
[update blcratingsummary set null=?, ratingsummaryid=?, itemid=?, ratingtype=?, averagerating=?, null=?, null=? where ratingsummaryid=?]
[insert into blcratingsummary (null, ratingsummaryid, itemid, ratingtype, averagerating, null, null) values (?, ?, ?, ?, ?, ?, ?)]

Syntactic Similarity:0.3105734467729675
Semantic Similarity:0.2222222222222222
Combining Similarity Score (Syntactic Similarity + Semantic Similarity): 0.5327956689951897
Path matching:False
Request matching:True
